var eR=n=>{throw TypeError(n)};var RE=(n,e,t)=>e.has(n)||eR("Cannot "+t);var Re=(n,e,t)=>(RE(n,e,"read from private field"),t?t.call(n):e.get(n)),wn=(n,e,t)=>e.has(n)?eR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),an=(n,e,t,i)=>(RE(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),yi=(n,e,t)=>(RE(n,e,"access private method"),t);var xb=(n,e,t,i)=>({set _(r){an(n,e,r,t)},get _(){return Re(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function dv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function PL(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var DE={exports:{}},Yv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR;function VB(){if(tR)return Yv;tR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:s,ref:r!==void 0?r:null,props:a}}return Yv.Fragment=e,Yv.jsx=t,Yv.jsxs=t,Yv}var nR;function GB(){return nR||(nR=1,DE.exports=VB()),DE.exports}var fe=GB(),OE={exports:{}},$n={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR;function XB(){if(iR)return $n;iR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,D={};function M(F,J,Le){this.props=F,this.context=J,this.refs=D,this.updater=Le||v}M.prototype.isReactComponent={},M.prototype.setState=function(F,J){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,J,"setState")},M.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function S(){}S.prototype=M.prototype;function N(F,J,Le){this.props=F,this.context=J,this.refs=D,this.updater=Le||v}var P=N.prototype=new S;P.constructor=N,_(P,M.prototype),P.isPureReactComponent=!0;var U=Array.isArray,X={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function G(F,J,Le,te,Oe,tt){return Le=tt.ref,{$$typeof:n,type:F,key:J,ref:Le!==void 0?Le:null,props:tt}}function W(F,J){return G(F.type,J,void 0,void 0,void 0,F.props)}function B(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function I(F){var J={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Le){return J[Le]})}var Z=/\/+/g;function ae(F,J){return typeof F=="object"&&F!==null&&F.key!=null?I(""+F.key):J.toString(36)}function se(){}function ge(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(se,se):(F.status="pending",F.then(function(J){F.status==="pending"&&(F.status="fulfilled",F.value=J)},function(J){F.status==="pending"&&(F.status="rejected",F.reason=J)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function xe(F,J,Le,te,Oe){var tt=typeof F;(tt==="undefined"||tt==="boolean")&&(F=null);var Te=!1;if(F===null)Te=!0;else switch(tt){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(F.$$typeof){case n:case e:Te=!0;break;case p:return Te=F._init,xe(Te(F._payload),J,Le,te,Oe)}}if(Te)return Oe=Oe(F),Te=te===""?"."+ae(F,0):te,U(Oe)?(Le="",Te!=null&&(Le=Te.replace(Z,"$&/")+"/"),xe(Oe,J,Le,"",function(St){return St})):Oe!=null&&(B(Oe)&&(Oe=W(Oe,Le+(Oe.key==null||F&&F.key===Oe.key?"":(""+Oe.key).replace(Z,"$&/")+"/")+Te)),J.push(Oe)),1;Te=0;var je=te===""?".":te+":";if(U(F))for(var $e=0;$e<F.length;$e++)te=F[$e],tt=je+ae(te,$e),Te+=xe(te,J,Le,tt,Oe);else if($e=y(F),typeof $e=="function")for(F=$e.call(F),$e=0;!(te=F.next()).done;)te=te.value,tt=je+ae(te,$e++),Te+=xe(te,J,Le,tt,Oe);else if(tt==="object"){if(typeof F.then=="function")return xe(ge(F),J,Le,te,Oe);throw J=String(F),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ee(F,J,Le){if(F==null)return F;var te=[],Oe=0;return xe(F,te,"","",function(tt){return J.call(Le,tt,Oe++)}),te}function le(F){if(F._status===-1){var J=F._result;J=J(),J.then(function(Le){(F._status===0||F._status===-1)&&(F._status=1,F._result=Le)},function(Le){(F._status===0||F._status===-1)&&(F._status=2,F._result=Le)}),F._status===-1&&(F._status=0,F._result=J)}if(F._status===1)return F._result.default;throw F._result}var ve=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function pe(){}return $n.Children={map:ee,forEach:function(F,J,Le){ee(F,function(){J.apply(this,arguments)},Le)},count:function(F){var J=0;return ee(F,function(){J++}),J},toArray:function(F){return ee(F,function(J){return J})||[]},only:function(F){if(!B(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},$n.Component=M,$n.Fragment=t,$n.Profiler=r,$n.PureComponent=N,$n.StrictMode=i,$n.Suspense=c,$n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,$n.act=function(){throw Error("act(...) is not supported in production builds of React.")},$n.cache=function(F){return function(){return F.apply(null,arguments)}},$n.cloneElement=function(F,J,Le){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var te=_({},F.props),Oe=F.key,tt=void 0;if(J!=null)for(Te in J.ref!==void 0&&(tt=void 0),J.key!==void 0&&(Oe=""+J.key),J)!H.call(J,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&J.ref===void 0||(te[Te]=J[Te]);var Te=arguments.length-2;if(Te===1)te.children=Le;else if(1<Te){for(var je=Array(Te),$e=0;$e<Te;$e++)je[$e]=arguments[$e+2];te.children=je}return G(F.type,Oe,void 0,void 0,tt,te)},$n.createContext=function(F){return F={$$typeof:s,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},$n.createElement=function(F,J,Le){var te,Oe={},tt=null;if(J!=null)for(te in J.key!==void 0&&(tt=""+J.key),J)H.call(J,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(Oe[te]=J[te]);var Te=arguments.length-2;if(Te===1)Oe.children=Le;else if(1<Te){for(var je=Array(Te),$e=0;$e<Te;$e++)je[$e]=arguments[$e+2];Oe.children=je}if(F&&F.defaultProps)for(te in Te=F.defaultProps,Te)Oe[te]===void 0&&(Oe[te]=Te[te]);return G(F,tt,void 0,void 0,null,Oe)},$n.createRef=function(){return{current:null}},$n.forwardRef=function(F){return{$$typeof:l,render:F}},$n.isValidElement=B,$n.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:le}},$n.memo=function(F,J){return{$$typeof:f,type:F,compare:J===void 0?null:J}},$n.startTransition=function(F){var J=X.T,Le={};X.T=Le;try{var te=F(),Oe=X.S;Oe!==null&&Oe(Le,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(pe,ve)}catch(tt){ve(tt)}finally{X.T=J}},$n.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},$n.use=function(F){return X.H.use(F)},$n.useActionState=function(F,J,Le){return X.H.useActionState(F,J,Le)},$n.useCallback=function(F,J){return X.H.useCallback(F,J)},$n.useContext=function(F){return X.H.useContext(F)},$n.useDebugValue=function(){},$n.useDeferredValue=function(F,J){return X.H.useDeferredValue(F,J)},$n.useEffect=function(F,J){return X.H.useEffect(F,J)},$n.useId=function(){return X.H.useId()},$n.useImperativeHandle=function(F,J,Le){return X.H.useImperativeHandle(F,J,Le)},$n.useInsertionEffect=function(F,J){return X.H.useInsertionEffect(F,J)},$n.useLayoutEffect=function(F,J){return X.H.useLayoutEffect(F,J)},$n.useMemo=function(F,J){return X.H.useMemo(F,J)},$n.useOptimistic=function(F,J){return X.H.useOptimistic(F,J)},$n.useReducer=function(F,J,Le){return X.H.useReducer(F,J,Le)},$n.useRef=function(F){return X.H.useRef(F)},$n.useState=function(F){return X.H.useState(F)},$n.useSyncExternalStore=function(F,J,Le){return X.H.useSyncExternalStore(F,J,Le)},$n.useTransition=function(){return X.H.useTransition()},$n.version="19.0.0",$n}var rR;function Mh(){return rR||(rR=1,OE.exports=XB()),OE.exports}var oe=Mh();const Np=dv(oe);var PE={exports:{}},jv={},LE={exports:{}},NE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR;function WB(){return aR||(aR=1,(function(n){function e(ee,le){var ve=ee.length;ee.push(le);e:for(;0<ve;){var pe=ve-1>>>1,F=ee[pe];if(0<r(F,le))ee[pe]=le,ee[ve]=F,ve=pe;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var le=ee[0],ve=ee.pop();if(ve!==le){ee[0]=ve;e:for(var pe=0,F=ee.length,J=F>>>1;pe<J;){var Le=2*(pe+1)-1,te=ee[Le],Oe=Le+1,tt=ee[Oe];if(0>r(te,ve))Oe<F&&0>r(tt,te)?(ee[pe]=tt,ee[Oe]=ve,pe=Oe):(ee[pe]=te,ee[Le]=ve,pe=Le);else if(Oe<F&&0>r(tt,ve))ee[pe]=tt,ee[Oe]=ve,pe=Oe;else break e}}return le}function r(ee,le){var ve=ee.sortIndex-le.sortIndex;return ve!==0?ve:ee.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var c=[],f=[],p=1,g=null,y=3,v=!1,_=!1,D=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function P(ee){for(var le=t(f);le!==null;){if(le.callback===null)i(f);else if(le.startTime<=ee)i(f),le.sortIndex=le.expirationTime,e(c,le);else break;le=t(f)}}function U(ee){if(D=!1,P(ee),!_)if(t(c)!==null)_=!0,ge();else{var le=t(f);le!==null&&xe(U,le.startTime-ee)}}var X=!1,H=-1,G=5,W=-1;function B(){return!(n.unstable_now()-W<G)}function I(){if(X){var ee=n.unstable_now();W=ee;var le=!0;try{e:{_=!1,D&&(D=!1,S(H),H=-1),v=!0;var ve=y;try{t:{for(P(ee),g=t(c);g!==null&&!(g.expirationTime>ee&&B());){var pe=g.callback;if(typeof pe=="function"){g.callback=null,y=g.priorityLevel;var F=pe(g.expirationTime<=ee);if(ee=n.unstable_now(),typeof F=="function"){g.callback=F,P(ee),le=!0;break t}g===t(c)&&i(c),P(ee)}else i(c);g=t(c)}if(g!==null)le=!0;else{var J=t(f);J!==null&&xe(U,J.startTime-ee),le=!1}}break e}finally{g=null,y=ve,v=!1}le=void 0}}finally{le?Z():X=!1}}}var Z;if(typeof N=="function")Z=function(){N(I)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,se=ae.port2;ae.port1.onmessage=I,Z=function(){se.postMessage(null)}}else Z=function(){M(I,0)};function ge(){X||(X=!0,Z())}function xe(ee,le){H=M(function(){ee(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){_||v||(_=!0,ge())},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(ee){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var ve=y;y=le;try{return ee()}finally{y=ve}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ve=y;y=ee;try{return le()}finally{y=ve}},n.unstable_scheduleCallback=function(ee,le,ve){var pe=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?pe+ve:pe):ve=pe,ee){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ve+F,ee={id:p++,callback:le,priorityLevel:ee,startTime:ve,expirationTime:F,sortIndex:-1},ve>pe?(ee.sortIndex=ve,e(f,ee),t(c)===null&&ee===t(f)&&(D?(S(H),H=-1):D=!0,xe(U,ve-pe))):(ee.sortIndex=F,e(c,ee),_||v||(_=!0,ge())),ee},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(ee){var le=y;return function(){var ve=y;y=le;try{return ee.apply(this,arguments)}finally{y=ve}}}})(NE)),NE}var sR;function cA(){return sR||(sR=1,LE.exports=WB()),LE.exports}var UE={exports:{}},Oo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR;function YB(){if(oR)return Oo;oR=1;var n=Mh();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(c,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:c,containerInfo:f,implementation:p}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Oo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Oo.createPortal=function(c,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,p)},Oo.flushSync=function(c){var f=s.T,p=i.p;try{if(s.T=null,i.p=2,c)return c()}finally{s.T=f,i.p=p,i.d.f()}},Oo.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},Oo.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Oo.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):p==="script"&&i.d.X(c,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Oo.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},Oo.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin);i.d.L(c,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Oo.preloadModule=function(c,f){if(typeof c=="string")if(f){var p=l(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},Oo.requestFormReset=function(c){i.d.r(c)},Oo.unstable_batchedUpdates=function(c,f){return c(f)},Oo.useFormState=function(c,f,p){return s.H.useFormState(c,f,p)},Oo.useFormStatus=function(){return s.H.useHostTransitionStatus()},Oo.version="19.0.0",Oo}var lR;function fA(){if(lR)return UE.exports;lR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),UE.exports=YB(),UE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR;function jB(){if(uR)return jv;uR=1;var n=cA(),e=Mh(),t=fA();function i(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}var a=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),U=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var G=Symbol.for("react.client.reference");function W(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===G?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case c:return"Fragment";case l:return"Portal";case p:return"Profiler";case f:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case v:return(o.displayName||"Context")+".Provider";case y:return(o._context.displayName||"Context")+".Consumer";case _:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case S:return u=o.displayName||null,u!==null?u:W(o.type)||"Memo";case N:u=o._payload,o=o._init;try{return W(o(u))}catch{}}return null}var B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,Z,ae;function se(o){if(Z===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);Z=u&&u[1]||"",ae=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Z+o+ae}var ge=!1;function xe(o,u){if(!o||ge)return"";ge=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var Tt=function(){throw Error()};if(Object.defineProperty(Tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Tt,[])}catch(rt){var qe=rt}Reflect.construct(o,[],Tt)}else{try{Tt.call()}catch(rt){qe=rt}o.call(Tt.prototype)}}else{try{throw Error()}catch(rt){qe=rt}(Tt=o())&&typeof Tt.catch=="function"&&Tt.catch(function(){})}}catch(rt){if(rt&&qe&&typeof rt.stack=="string")return[rt.stack,qe.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=x.DetermineComponentFrameRoot(),q=O[0],ie=O[1];if(q&&ie){var be=q.split(`
`),ze=ie.split(`
`);for(w=x=0;x<be.length&&!be[x].includes("DetermineComponentFrameRoot");)x++;for(;w<ze.length&&!ze[w].includes("DetermineComponentFrameRoot");)w++;if(x===be.length||w===ze.length)for(x=be.length-1,w=ze.length-1;1<=x&&0<=w&&be[x]!==ze[w];)w--;for(;1<=x&&0<=w;x--,w--)if(be[x]!==ze[w]){if(x!==1||w!==1)do if(x--,w--,0>w||be[x]!==ze[w]){var ot=`
`+be[x].replace(" at new "," at ");return o.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",o.displayName)),ot}while(1<=x&&0<=w);break}}}finally{ge=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?se(m):""}function ee(o){switch(o.tag){case 26:case 27:case 5:return se(o.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 15:return o=xe(o.type,!1),o;case 11:return o=xe(o.type.render,!1),o;case 1:return o=xe(o.type,!0),o;default:return""}}function le(o){try{var u="";do u+=ee(o),o=o.return;while(o);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function ve(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function pe(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function F(o){if(ve(o)!==o)throw Error(i(188))}function J(o){var u=o.alternate;if(!u){if(u=ve(o),u===null)throw Error(i(188));return u!==o?null:o}for(var m=o,x=u;;){var w=m.return;if(w===null)break;var O=w.alternate;if(O===null){if(x=w.return,x!==null){m=x;continue}break}if(w.child===O.child){for(O=w.child;O;){if(O===m)return F(w),o;if(O===x)return F(w),u;O=O.sibling}throw Error(i(188))}if(m.return!==x.return)m=w,x=O;else{for(var q=!1,ie=w.child;ie;){if(ie===m){q=!0,m=w,x=O;break}if(ie===x){q=!0,x=w,m=O;break}ie=ie.sibling}if(!q){for(ie=O.child;ie;){if(ie===m){q=!0,m=O,x=w;break}if(ie===x){q=!0,x=O,m=w;break}ie=ie.sibling}if(!q)throw Error(i(189))}}if(m.alternate!==x)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?o:u}function Le(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=Le(o),u!==null)return u;o=o.sibling}return null}var te=Array.isArray,Oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},Te=[],je=-1;function $e(o){return{current:o}}function St(o){0>je||(o.current=Te[je],Te[je]=null,je--)}function ut(o,u){je++,Te[je]=o.current,o.current=u}var Yt=$e(null),kt=$e(null),ye=$e(null),ct=$e(null);function Qe(o,u){switch(ut(ye,u),ut(kt,o),ut(Yt,null),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)&&(u=u.namespaceURI)?R2(u):0;break;default:if(o=o===8?u.parentNode:u,u=o.tagName,o=o.namespaceURI)o=R2(o),u=D2(o,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}St(Yt),ut(Yt,u)}function et(){St(Yt),St(kt),St(ye)}function Je(o){o.memoizedState!==null&&ut(ct,o);var u=Yt.current,m=D2(u,o.type);u!==m&&(ut(kt,o),ut(Yt,m))}function Ct(o){kt.current===o&&(St(Yt),St(kt)),ct.current===o&&(St(ct),Hv._currentValue=tt)}var yt=Object.prototype.hasOwnProperty,mt=n.unstable_scheduleCallback,Rt=n.unstable_cancelCallback,on=n.unstable_shouldYield,he=n.unstable_requestPaint,$=n.unstable_now,Ue=n.unstable_getCurrentPriorityLevel,me=n.unstable_ImmediatePriority,De=n.unstable_UserBlockingPriority,Ie=n.unstable_NormalPriority,bt=n.unstable_LowPriority,it=n.unstable_IdlePriority,zt=n.log,Xt=n.unstable_setDisableYieldValue,lt=null,at=null;function sn(o){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(lt,o,void 0,(o.current.flags&128)===128)}catch{}}function Et(o){if(typeof zt=="function"&&Xt(o),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(lt,o)}catch{}}var gt=Math.clz32?Math.clz32:Dt,ln=Math.log,Me=Math.LN2;function Dt(o){return o>>>=0,o===0?32:31-(ln(o)/Me|0)|0}var Lt=128,Zt=4194304;function vt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ft(o,u){var m=o.pendingLanes;if(m===0)return 0;var x=0,w=o.suspendedLanes,O=o.pingedLanes,q=o.warmLanes;o=o.finishedLanes!==0;var ie=m&134217727;return ie!==0?(m=ie&~w,m!==0?x=vt(m):(O&=ie,O!==0?x=vt(O):o||(q=ie&~q,q!==0&&(x=vt(q))))):(ie=m&~w,ie!==0?x=vt(ie):O!==0?x=vt(O):o||(q=m&~q,q!==0&&(x=vt(q)))),x===0?0:u!==0&&u!==x&&(u&w)===0&&(w=x&-x,q=u&-u,w>=q||w===32&&(q&4194176)!==0)?u:x}function Wt(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function $t(o,u){switch(o){case 1:case 2:case 4:case 8:return u+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sn(){var o=Lt;return Lt<<=1,(Lt&4194176)===0&&(Lt=128),o}function bn(){var o=Zt;return Zt<<=1,(Zt&62914560)===0&&(Zt=4194304),o}function ca(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function vr(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function hi(o,u,m,x,w,O){var q=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var ie=o.entanglements,be=o.expirationTimes,ze=o.hiddenUpdates;for(m=q&~m;0<m;){var ot=31-gt(m),Tt=1<<ot;ie[ot]=0,be[ot]=-1;var qe=ze[ot];if(qe!==null)for(ze[ot]=null,ot=0;ot<qe.length;ot++){var rt=qe[ot];rt!==null&&(rt.lane&=-536870913)}m&=~Tt}x!==0&&xr(o,x,0),O!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=O&~(q&~u))}function xr(o,u,m){o.pendingLanes|=u,o.suspendedLanes&=~u;var x=31-gt(u);o.entangledLanes|=u,o.entanglements[x]=o.entanglements[x]|1073741824|m&4194218}function Ho(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var x=31-gt(m),w=1<<x;w&u|o[x]&u&&(o[x]|=u),m&=~w}}function Fa(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function au(){var o=Oe.p;return o!==0?o:(o=window.event,o===void 0?32:q2(o.type))}function Ha(o,u){var m=Oe.p;try{return Oe.p=o,u()}finally{Oe.p=m}}var br=Math.random().toString(36).slice(2),mn="__reactFiber$"+br,pn="__reactProps$"+br,Oa="__reactContainer$"+br,Br="__reactEvents$"+br,Mf="__reactListeners$"+br,Yu="__reactHandles$"+br,Af="__reactResources$"+br,lo="__reactMarker$"+br;function su(o){delete o[mn],delete o[pn],delete o[Br],delete o[Mf],delete o[Yu]}function ne(o){var u=o[mn];if(u)return u;for(var m=o.parentNode;m;){if(u=m[Oa]||m[mn]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=L2(o);o!==null;){if(m=o[mn])return m;o=L2(o)}return u}o=m,m=o.parentNode}return null}function we(o){if(o=o[mn]||o[Oa]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function Be(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(i(33))}function We(o){var u=o[Af];return u||(u=o[Af]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Ce(o){o[lo]=!0}var _t=new Set,Nt={};function Ft(o,u){Ht(o,u),Ht(o+"Capture",u)}function Ht(o,u){for(Nt[o]=u,o=0;o<u.length;o++)_t.add(u[o])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gt={},Nn={};function ni(o){return yt.call(Nn,o)?!0:yt.call(Gt,o)?!1:fn.test(o)?Nn[o]=!0:(Gt[o]=!0,!1)}function di(o,u,m){if(ni(u))if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+m)}}function Cn(o,u,m){if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+m)}}function Rn(o,u,m,x){if(x===null)o.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(u,m,""+x)}}function Qt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function wi(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Wn(o){var u=wi(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),x=""+o[u];if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,O=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return w.call(this)},set:function(q){x=""+q,O.call(this,q)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(q){x=""+q},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function _r(o){o._valueTracker||(o._valueTracker=Wn(o))}function Zr(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),x="";return o&&(x=wi(o)?o.checked?"true":"false":o.value),o=x,o!==m?(u.setValue(o),!0):!1}function ur(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var vl=/[\n"\\]/g;function Bn(o){return o.replace(vl,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Sr(o,u,m,x,w,O,q,ie){o.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?o.type=q:o.removeAttribute("type"),u!=null?q==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Qt(u)):o.value!==""+Qt(u)&&(o.value=""+Qt(u)):q!=="submit"&&q!=="reset"||o.removeAttribute("value"),u!=null?Er(o,q,Qt(u)):m!=null?Er(o,q,Qt(m)):x!=null&&o.removeAttribute("value"),w==null&&O!=null&&(o.defaultChecked=!!O),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?o.name=""+Qt(ie):o.removeAttribute("name")}function fa(o,u,m,x,w,O,q,ie){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.type=O),u!=null||m!=null){if(!(O!=="submit"&&O!=="reset"||u!=null))return;m=m!=null?""+Qt(m):"",u=u!=null?""+Qt(u):m,ie||u===o.value||(o.value=u),o.defaultValue=u}x=x??w,x=typeof x!="function"&&typeof x!="symbol"&&!!x,o.checked=ie?o.checked:!!x,o.defaultChecked=!!x,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(o.name=q)}function Er(o,u,m){u==="number"&&ur(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function ir(o,u,m,x){if(o=o.options,u){u={};for(var w=0;w<m.length;w++)u["$"+m[w]]=!0;for(m=0;m<o.length;m++)w=u.hasOwnProperty("$"+o[m].value),o[m].selected!==w&&(o[m].selected=w),w&&x&&(o[m].defaultSelected=!0)}else{for(m=""+Qt(m),u=null,w=0;w<o.length;w++){if(o[w].value===m){o[w].selected=!0,x&&(o[w].defaultSelected=!0);return}u!==null||o[w].disabled||(u=o[w])}u!==null&&(u.selected=!0)}}function ss(o,u,m){if(u!=null&&(u=""+Qt(u),u!==o.value&&(o.value=u),m==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=m!=null?""+Qt(m):""}function Fr(o,u,m,x){if(u==null){if(x!=null){if(m!=null)throw Error(i(92));if(te(x)){if(1<x.length)throw Error(i(93));x=x[0]}m=x}m==null&&(m=""),u=m}m=Qt(u),o.defaultValue=m,x=o.textContent,x===m&&x!==""&&x!==null&&(o.value=x)}function ou(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(o,u,m){var x=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":x?o.setProperty(u,m):typeof m!="number"||m===0||lu.has(u)?u==="float"?o.cssFloat=m:o[u]=(""+m).trim():o[u]=m+"px"}function Ph(o,u,m){if(u!=null&&typeof u!="object")throw Error(i(62));if(o=o.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?o.setProperty(x,""):x==="float"?o.cssFloat="":o[x]="");for(var w in u)x=u[w],u.hasOwnProperty(w)&&m[w]!==x&&xl(o,w,x)}else for(var O in u)u.hasOwnProperty(O)&&xl(o,O,u[O])}function Pc(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uu(o){return Cf.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ju=null;function bl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var oi=null,Is=null;function cu(o){var u=we(o);if(u&&(o=u.stateNode)){var m=o[pn]||null;e:switch(o=u.stateNode,u.type){case"input":if(Sr(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Bn(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var x=m[u];if(x!==o&&x.form===o.form){var w=x[pn]||null;if(!w)throw Error(i(90));Sr(x,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<m.length;u++)x=m[u],x.form===o.form&&Zr(x)}break e;case"textarea":ss(o,m.value,m.defaultValue);break e;case"select":u=m.value,u!=null&&ir(o,!!m.multiple,u,!1)}}}var _l=!1;function fu(o,u,m){if(_l)return o(u,m);_l=!0;try{var x=o(u);return x}finally{if(_l=!1,(oi!==null||Is!==null)&&(Jh(),oi&&(u=oi,o=Is,Is=oi=null,cu(u),o)))for(u=0;u<o.length;u++)cu(o[u])}}function co(o,u){var m=o.stateNode;if(m===null)return null;var x=m[pn]||null;if(x===null)return null;m=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(i(231,u,typeof m));return m}var Sl=!1;if(rn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Sl=!1}var ha=null,qu=null,Ss=null;function Rf(){if(Ss)return Ss;var o,u=qu,m=u.length,x,w="value"in ha?ha.value:ha.textContent,O=w.length;for(o=0;o<m&&u[o]===w[o];o++);var q=m-o;for(x=1;x<=q&&u[m-x]===w[O-x];x++);return Ss=w.slice(o,1<x?1-x:void 0)}function fo(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function ks(){return!0}function Vo(){return!1}function da(o){function u(m,x,w,O,q){this._reactName=m,this._targetInst=w,this.type=x,this.nativeEvent=O,this.target=q,this.currentTarget=null;for(var ie in o)o.hasOwnProperty(ie)&&(m=o[ie],this[ie]=m?m(O):O[ie]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ks:Vo,this.isPropagationStopped=Vo,this}return I(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),u}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=da(Go),Zu=I({},Go,{view:0,detail:0}),Od=da(Zu),Xo,du,pu,Ku=I({},Zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$u,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pu&&(pu&&o.type==="mousemove"?(Xo=o.screenX-pu.screenX,du=o.screenY-pu.screenY):du=Xo=0,pu=o),Xo)},movementY:function(o){return"movementY"in o?o.movementY:du}}),mu=da(Ku),Lc=I({},Ku,{dataTransfer:0}),Df=da(Lc),Kr=I({},Zu,{relatedTarget:0}),Qu=da(Kr),Lh=I({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=da(Lh),Of=I({},Go,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Wo=da(Of),Ju=I({},Go,{data:0}),Pf=da(Ju),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cr(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Nc[o])?!!u[o]:!1}function $u(){return cr}var Lf=I({},Zu,{key:function(o){if(o.key){var u=yu[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=fo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Pd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$u,charCode:function(o){return o.type==="keypress"?fo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?fo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),vu=da(Lf),Va=I({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pa=da(Va),ec=I({},Zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$u}),Yo=da(ec),Ga=I({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xa=da(Ga),Nf=I({},Ku,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ld=da(Nf),Uc=I({},Go,{newState:0,oldState:0}),ho=da(Uc),Tr=[9,13,27,32],El=rn&&"CompositionEvent"in window,po=null;rn&&"documentMode"in document&&(po=document.documentMode);var jo=rn&&"TextEvent"in window&&!po,Tl=rn&&(!El||po&&8<po&&11>=po),qo=" ",Mi=!1;function tc(o,u){switch(o){case"keyup":return Tr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zo=!1;function bu(o,u){switch(o){case"compositionend":return xu(u);case"keypress":return u.which!==32?null:(Mi=!0,qo);case"textInput":return o=u.data,o===qo&&Mi?null:o;default:return null}}function Ic(o,u){if(Zo)return o==="compositionend"||!El&&tc(o,u)?(o=Rf(),Ss=qu=ha=null,Zo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Tl&&u.locale!=="ko"?null:u.data;default:return null}}var _u={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Su(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!_u[o.type]:u==="textarea"}function pa(o,u,m,x){oi?Is?Is.push(x):Is=[x]:oi=x,u=rb(u,"onChange"),0<u.length&&(m=new hu("onChange","change",null,m,x),o.push({event:m,listeners:u}))}var Bs=null,os=null;function Eu(o){T2(o,0)}function Ko(o){var u=Be(o);if(Zr(u))return o}function Tu(o,u){if(o==="change")return u}var wu=!1;if(rn){var wl;if(rn){var ls="oninput"in document;if(!ls){var nc=document.createElement("div");nc.setAttribute("oninput","return;"),ls=typeof nc.oninput=="function"}wl=ls}else wl=!1;wu=wl&&(!document.documentMode||9<document.documentMode)}function Hi(){Bs&&(Bs.detachEvent("onpropertychange",zc),os=Bs=null)}function zc(o){if(o.propertyName==="value"&&Ko(os)){var u=[];pa(u,os,o,bl(o)),fu(Eu,u)}}function Nh(o,u,m){o==="focusin"?(Hi(),Bs=u,os=m,Bs.attachEvent("onpropertychange",zc)):o==="focusout"&&Hi()}function T(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ko(os)}function R(o,u){if(o==="click")return Ko(u)}function k(o,u){if(o==="input"||o==="change")return Ko(u)}function j(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var K=typeof Object.is=="function"?Object.is:j;function ce(o,u){if(K(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),x=Object.keys(u);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var w=m[x];if(!yt.call(u,w)||!K(o[w],u[w]))return!1}return!0}function Se(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ve(o,u){var m=Se(o);o=0;for(var x;m;){if(m.nodeType===3){if(x=o+m.textContent.length,o<=u&&x>=u)return{node:m,offset:u-o};o=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Se(m)}}function Ge(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Ge(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function ht(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=ur(o.document);u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=ur(o.document)}return u}function Bt(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function Mt(o,u){var m=ht(u);u=o.focusedElem;var x=o.selectionRange;if(m!==u&&u&&u.ownerDocument&&Ge(u.ownerDocument.documentElement,u)){if(x!==null&&Bt(u)){if(o=x.start,m=x.end,m===void 0&&(m=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(m,u.value.length);else if(m=(o=u.ownerDocument||document)&&o.defaultView||window,m.getSelection){m=m.getSelection();var w=u.textContent.length,O=Math.min(x.start,w);x=x.end===void 0?O:Math.min(x.end,w),!m.extend&&O>x&&(w=x,x=O,O=w),w=Ve(u,O);var q=Ve(u,x);w&&q&&(m.rangeCount!==1||m.anchorNode!==w.node||m.anchorOffset!==w.offset||m.focusNode!==q.node||m.focusOffset!==q.offset)&&(o=o.createRange(),o.setStart(w.node,w.offset),m.removeAllRanges(),O>x?(m.addRange(o),m.extend(q.node,q.offset)):(o.setEnd(q.node,q.offset),m.addRange(o)))}}for(o=[],m=u;m=m.parentNode;)m.nodeType===1&&o.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)m=o[u],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var nn=rn&&"documentMode"in document&&11>=document.documentMode,Dn=null,Jt=null,gn=null,bi=!1;function xn(o,u,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;bi||Dn==null||Dn!==ur(x)||(x=Dn,"selectionStart"in x&&Bt(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),gn&&ce(gn,x)||(gn=x,x=rb(Jt,"onSelect"),0<x.length&&(u=new hu("onSelect","select",null,u,m),o.push({event:u,listeners:x}),u.target=Dn)))}function Yn(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var jn={animationend:Yn("Animation","AnimationEnd"),animationiteration:Yn("Animation","AnimationIteration"),animationstart:Yn("Animation","AnimationStart"),transitionrun:Yn("Transition","TransitionRun"),transitionstart:Yn("Transition","TransitionStart"),transitioncancel:Yn("Transition","TransitionCancel"),transitionend:Yn("Transition","TransitionEnd")},pi={},Hn={};rn&&(Hn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function qn(o){if(pi[o])return pi[o];if(!jn[o])return o;var u=jn[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in Hn)return pi[o]=u[m];return o}var Wa=qn("animationend"),Ni=qn("animationiteration"),Ui=qn("animationstart"),yn=qn("transitionrun"),Pi=qn("transitionstart"),Qr=qn("transitioncancel"),Hr=qn("transitionend"),La=new Map,rr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ma(o,u){La.set(o,u),Ft(u,[o])}var Zi=[],Vr=0,us=0;function Ya(){for(var o=Vr,u=us=Vr=0;u<o;){var m=Zi[u];Zi[u++]=null;var x=Zi[u];Zi[u++]=null;var w=Zi[u];Zi[u++]=null;var O=Zi[u];if(Zi[u++]=null,x!==null&&w!==null){var q=x.pending;q===null?w.next=w:(w.next=q.next,q.next=w),x.pending=w}O!==0&&Hs(m,w,O)}}function Ml(o,u,m,x){Zi[Vr++]=o,Zi[Vr++]=u,Zi[Vr++]=m,Zi[Vr++]=x,us|=x,o.lanes|=x,o=o.alternate,o!==null&&(o.lanes|=x)}function Fs(o,u,m,x){return Ml(o,u,m,x),mo(o)}function ga(o,u){return Ml(o,null,null,u),mo(o)}function Hs(o,u,m){o.lanes|=m;var x=o.alternate;x!==null&&(x.lanes|=m);for(var w=!1,O=o.return;O!==null;)O.childLanes|=m,x=O.alternate,x!==null&&(x.childLanes|=m),O.tag===22&&(o=O.stateNode,o===null||o._visibility&1||(w=!0)),o=O,O=O.return;w&&u!==null&&o.tag===3&&(O=o.stateNode,w=31-gt(m),O=O.hiddenUpdates,o=O[w],o===null?O[w]=[u]:o.push(u),u.lane=m|536870912)}function mo(o){if(50<Gl)throw Gl=0,of=null,Error(i(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Lr={},ic=new WeakMap;function Gr(o,u){if(typeof o=="object"&&o!==null){var m=ic.get(o);return m!==void 0?m:(u={value:o,source:u,stack:le(u)},ic.set(o,u),u)}return{value:o,source:u,stack:le(u)}}var Al=[],Qo=0,Xr=null,Mu=0,Ai=[],Wr=0,ya=null,fr=1,go="";function Yr(o,u){Al[Qo++]=Mu,Al[Qo++]=Xr,Xr=o,Mu=u}function Cl(o,u,m){Ai[Wr++]=fr,Ai[Wr++]=go,Ai[Wr++]=ya,ya=o;var x=fr;o=go;var w=32-gt(x)-1;x&=~(1<<w),m+=1;var O=32-gt(u)+w;if(30<O){var q=w-w%5;O=(x&(1<<q)-1).toString(32),x>>=q,w-=q,fr=1<<32-gt(u)+w|m<<w|x,go=O+o}else fr=1<<O|m<<w|x,go=o}function Vs(o){o.return!==null&&(Yr(o,1),Cl(o,1,0))}function va(o){for(;o===Xr;)Xr=Al[--Qo],Al[Qo]=null,Mu=Al[--Qo],Al[Qo]=null;for(;o===ya;)ya=Ai[--Wr],Ai[Wr]=null,go=Ai[--Wr],Ai[Wr]=null,fr=Ai[--Wr],Ai[Wr]=null}var Ki=null,Qi=null,Gn=!1,hr=null,Nr=!1,Rl=Error(i(519));function Jo(o){var u=Error(i(418,""));throw Na(Gr(u,o)),Rl}function Vi(o){var u=o.stateNode,m=o.type,x=o.memoizedProps;switch(u[mn]=o,u[pn]=x,m){case"dialog":gi("cancel",u),gi("close",u);break;case"iframe":case"object":case"embed":gi("load",u);break;case"video":case"audio":for(m=0;m<Iv.length;m++)gi(Iv[m],u);break;case"source":gi("error",u);break;case"img":case"image":case"link":gi("error",u),gi("load",u);break;case"details":gi("toggle",u);break;case"input":gi("invalid",u),fa(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),_r(u);break;case"select":gi("invalid",u);break;case"textarea":gi("invalid",u),Fr(u,x.value,x.defaultValue,x.children),_r(u)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||x.suppressHydrationWarning===!0||C2(u.textContent,m)?(x.popover!=null&&(gi("beforetoggle",u),gi("toggle",u)),x.onScroll!=null&&gi("scroll",u),x.onScrollEnd!=null&&gi("scrollend",u),x.onClick!=null&&(u.onclick=ab),u=!0):u=!1,u||Jo(o)}function Uf(o){for(Ki=o.return;Ki;)switch(Ki.tag){case 3:case 27:Nr=!0;return;case 5:case 13:Nr=!1;return;default:Ki=Ki.return}}function Gs(o){if(o!==Ki)return!1;if(!Gn)return Uf(o),Gn=!0,!1;var u=!1,m;if((m=o.tag!==3&&o.tag!==27)&&((m=o.tag===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||gE(o.type,o.memoizedProps)),m=!m),m&&(u=!0),u&&Qi&&Jo(o),Uf(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(m=o.data,m==="/$"){if(u===0){Qi=uf(o.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++;o=o.nextSibling}Qi=null}}else Qi=Ki?uf(o.stateNode.nextSibling):null;return!0}function yo(){Qi=Ki=null,Gn=!1}function Na(o){hr===null?hr=[o]:hr.push(o)}var cs=Error(i(460)),Xs=Error(i(474)),ja={then:function(){}};function Ua(o){return o=o.status,o==="fulfilled"||o==="rejected"}function vo(){}function Ws(o,u,m){switch(m=o[m],m===void 0?o.push(u):m!==u&&(u.then(vo,vo),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,o===cs?Error(i(483)):o;default:if(typeof u.status=="string")u.then(vo,vo);else{if(o=Wi,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=u,o.status="pending",o.then(function(x){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=x}},function(x){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,o===cs?Error(i(483)):o}throw Au=u,cs}}var Au=null;function Un(){if(Au===null)throw Error(i(459));var o=Au;return Au=null,o}var fs=null,wr=0;function Es(o){var u=wr;return wr+=1,fs===null&&(fs=[]),Ws(fs,o,u)}function xo(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function $o(o,u){throw u.$$typeof===a?Error(i(525)):(o=Object.prototype.toString.call(u),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function kc(o){var u=o._init;return u(o._payload)}function If(o){function u(Fe,Pe){if(o){var Xe=Fe.deletions;Xe===null?(Fe.deletions=[Pe],Fe.flags|=16):Xe.push(Pe)}}function m(Fe,Pe){if(!o)return null;for(;Pe!==null;)u(Fe,Pe),Pe=Pe.sibling;return null}function x(Fe){for(var Pe=new Map;Fe!==null;)Fe.key!==null?Pe.set(Fe.key,Fe):Pe.set(Fe.index,Fe),Fe=Fe.sibling;return Pe}function w(Fe,Pe){return Fe=$s(Fe,Pe),Fe.index=0,Fe.sibling=null,Fe}function O(Fe,Pe,Xe){return Fe.index=Xe,o?(Xe=Fe.alternate,Xe!==null?(Xe=Xe.index,Xe<Pe?(Fe.flags|=33554434,Pe):Xe):(Fe.flags|=33554434,Pe)):(Fe.flags|=1048576,Pe)}function q(Fe){return o&&Fe.alternate===null&&(Fe.flags|=33554434),Fe}function ie(Fe,Pe,Xe,pt){return Pe===null||Pe.tag!==6?(Pe=Sa(Xe,Fe.mode,pt),Pe.return=Fe,Pe):(Pe=w(Pe,Xe),Pe.return=Fe,Pe)}function be(Fe,Pe,Xe,pt){var un=Xe.type;return un===c?ot(Fe,Pe,Xe.props.children,pt,Xe.key):Pe!==null&&(Pe.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===N&&kc(un)===Pe.type)?(Pe=w(Pe,Xe.props),xo(Pe,Xe),Pe.return=Fe,Pe):(Pe=Jd(Xe.type,Xe.key,Xe.props,null,Fe.mode,pt),xo(Pe,Xe),Pe.return=Fe,Pe)}function ze(Fe,Pe,Xe,pt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Xe.containerInfo||Pe.stateNode.implementation!==Xe.implementation?(Pe=vm(Xe,Fe.mode,pt),Pe.return=Fe,Pe):(Pe=w(Pe,Xe.children||[]),Pe.return=Fe,Pe)}function ot(Fe,Pe,Xe,pt,un){return Pe===null||Pe.tag!==7?(Pe=ah(Xe,Fe.mode,pt,un),Pe.return=Fe,Pe):(Pe=w(Pe,Xe),Pe.return=Fe,Pe)}function Tt(Fe,Pe,Xe){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=Sa(""+Pe,Fe.mode,Xe),Pe.return=Fe,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case s:return Xe=Jd(Pe.type,Pe.key,Pe.props,null,Fe.mode,Xe),xo(Xe,Pe),Xe.return=Fe,Xe;case l:return Pe=vm(Pe,Fe.mode,Xe),Pe.return=Fe,Pe;case N:var pt=Pe._init;return Pe=pt(Pe._payload),Tt(Fe,Pe,Xe)}if(te(Pe)||H(Pe))return Pe=ah(Pe,Fe.mode,Xe,null),Pe.return=Fe,Pe;if(typeof Pe.then=="function")return Tt(Fe,Es(Pe),Xe);if(Pe.$$typeof===v)return Tt(Fe,Og(Fe,Pe),Xe);$o(Fe,Pe)}return null}function qe(Fe,Pe,Xe,pt){var un=Pe!==null?Pe.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return un!==null?null:ie(Fe,Pe,""+Xe,pt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case s:return Xe.key===un?be(Fe,Pe,Xe,pt):null;case l:return Xe.key===un?ze(Fe,Pe,Xe,pt):null;case N:return un=Xe._init,Xe=un(Xe._payload),qe(Fe,Pe,Xe,pt)}if(te(Xe)||H(Xe))return un!==null?null:ot(Fe,Pe,Xe,pt,null);if(typeof Xe.then=="function")return qe(Fe,Pe,Es(Xe),pt);if(Xe.$$typeof===v)return qe(Fe,Pe,Og(Fe,Xe),pt);$o(Fe,Xe)}return null}function rt(Fe,Pe,Xe,pt,un){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Fe=Fe.get(Xe)||null,ie(Pe,Fe,""+pt,un);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case s:return Fe=Fe.get(pt.key===null?Xe:pt.key)||null,be(Pe,Fe,pt,un);case l:return Fe=Fe.get(pt.key===null?Xe:pt.key)||null,ze(Pe,Fe,pt,un);case N:var ui=pt._init;return pt=ui(pt._payload),rt(Fe,Pe,Xe,pt,un)}if(te(pt)||H(pt))return Fe=Fe.get(Xe)||null,ot(Pe,Fe,pt,un,null);if(typeof pt.then=="function")return rt(Fe,Pe,Xe,Es(pt),un);if(pt.$$typeof===v)return rt(Fe,Pe,Xe,Og(Pe,pt),un);$o(Pe,pt)}return null}function dn(Fe,Pe,Xe,pt){for(var un=null,ui=null,vn=Pe,An=Pe=0,Os=null;vn!==null&&An<Xe.length;An++){vn.index>An?(Os=vn,vn=null):Os=vn.sibling;var Li=qe(Fe,vn,Xe[An],pt);if(Li===null){vn===null&&(vn=Os);break}o&&vn&&Li.alternate===null&&u(Fe,vn),Pe=O(Li,Pe,An),ui===null?un=Li:ui.sibling=Li,ui=Li,vn=Os}if(An===Xe.length)return m(Fe,vn),Gn&&Yr(Fe,An),un;if(vn===null){for(;An<Xe.length;An++)vn=Tt(Fe,Xe[An],pt),vn!==null&&(Pe=O(vn,Pe,An),ui===null?un=vn:ui.sibling=vn,ui=vn);return Gn&&Yr(Fe,An),un}for(vn=x(vn);An<Xe.length;An++)Os=rt(vn,Fe,An,Xe[An],pt),Os!==null&&(o&&Os.alternate!==null&&vn.delete(Os.key===null?An:Os.key),Pe=O(Os,Pe,An),ui===null?un=Os:ui.sibling=Os,ui=Os);return o&&vn.forEach(function(op){return u(Fe,op)}),Gn&&Yr(Fe,An),un}function Vn(Fe,Pe,Xe,pt){if(Xe==null)throw Error(i(151));for(var un=null,ui=null,vn=Pe,An=Pe=0,Os=null,Li=Xe.next();vn!==null&&!Li.done;An++,Li=Xe.next()){vn.index>An?(Os=vn,vn=null):Os=vn.sibling;var op=qe(Fe,vn,Li.value,pt);if(op===null){vn===null&&(vn=Os);break}o&&vn&&op.alternate===null&&u(Fe,vn),Pe=O(op,Pe,An),ui===null?un=op:ui.sibling=op,ui=op,vn=Os}if(Li.done)return m(Fe,vn),Gn&&Yr(Fe,An),un;if(vn===null){for(;!Li.done;An++,Li=Xe.next())Li=Tt(Fe,Li.value,pt),Li!==null&&(Pe=O(Li,Pe,An),ui===null?un=Li:ui.sibling=Li,ui=Li);return Gn&&Yr(Fe,An),un}for(vn=x(vn);!Li.done;An++,Li=Xe.next())Li=rt(vn,Fe,An,Li.value,pt),Li!==null&&(o&&Li.alternate!==null&&vn.delete(Li.key===null?An:Li.key),Pe=O(Li,Pe,An),ui===null?un=Li:ui.sibling=Li,ui=Li);return o&&vn.forEach(function(HB){return u(Fe,HB)}),Gn&&Yr(Fe,An),un}function wa(Fe,Pe,Xe,pt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===c&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case s:e:{for(var un=Xe.key;Pe!==null;){if(Pe.key===un){if(un=Xe.type,un===c){if(Pe.tag===7){m(Fe,Pe.sibling),pt=w(Pe,Xe.props.children),pt.return=Fe,Fe=pt;break e}}else if(Pe.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===N&&kc(un)===Pe.type){m(Fe,Pe.sibling),pt=w(Pe,Xe.props),xo(pt,Xe),pt.return=Fe,Fe=pt;break e}m(Fe,Pe);break}else u(Fe,Pe);Pe=Pe.sibling}Xe.type===c?(pt=ah(Xe.props.children,Fe.mode,pt,Xe.key),pt.return=Fe,Fe=pt):(pt=Jd(Xe.type,Xe.key,Xe.props,null,Fe.mode,pt),xo(pt,Xe),pt.return=Fe,Fe=pt)}return q(Fe);case l:e:{for(un=Xe.key;Pe!==null;){if(Pe.key===un)if(Pe.tag===4&&Pe.stateNode.containerInfo===Xe.containerInfo&&Pe.stateNode.implementation===Xe.implementation){m(Fe,Pe.sibling),pt=w(Pe,Xe.children||[]),pt.return=Fe,Fe=pt;break e}else{m(Fe,Pe);break}else u(Fe,Pe);Pe=Pe.sibling}pt=vm(Xe,Fe.mode,pt),pt.return=Fe,Fe=pt}return q(Fe);case N:return un=Xe._init,Xe=un(Xe._payload),wa(Fe,Pe,Xe,pt)}if(te(Xe))return dn(Fe,Pe,Xe,pt);if(H(Xe)){if(un=H(Xe),typeof un!="function")throw Error(i(150));return Xe=un.call(Xe),Vn(Fe,Pe,Xe,pt)}if(typeof Xe.then=="function")return wa(Fe,Pe,Es(Xe),pt);if(Xe.$$typeof===v)return wa(Fe,Pe,Og(Fe,Xe),pt);$o(Fe,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Pe!==null&&Pe.tag===6?(m(Fe,Pe.sibling),pt=w(Pe,Xe),pt.return=Fe,Fe=pt):(m(Fe,Pe),pt=Sa(Xe,Fe.mode,pt),pt.return=Fe,Fe=pt),q(Fe)):m(Fe,Pe)}return function(Fe,Pe,Xe,pt){try{wr=0;var un=wa(Fe,Pe,Xe,pt);return fs=null,un}catch(vn){if(vn===cs)throw vn;var ui=aa(29,vn,null,Fe.mode);return ui.lanes=pt,ui.return=Fe,ui}finally{}}}var dr=If(!0),bo=If(!1),qa=$e(null),Ys=$e(0);function js(o,u){o=sf,ut(Ys,o),ut(qa,u),sf=o|u.baseLanes}function el(){ut(Ys,sf),ut(qa,qa.current)}function _o(){sf=Ys.current,St(qa),St(Ys)}var Ur=$e(null),hs=null;function Za(o){var u=o.alternate;ut(Ii,Ii.current&1),ut(Ur,o),hs===null&&(u===null||qa.current!==null||u.memoizedState!==null)&&(hs=o)}function Ts(o){if(o.tag===22){if(ut(Ii,Ii.current),ut(Ur,o),hs===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(hs=o)}}else Jr()}function Jr(){ut(Ii,Ii.current),ut(Ur,Ur.current)}function ds(o){St(Ur),hs===o&&(hs=null),St(Ii)}var Ii=$e(0);function So(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Mn=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(m,x){o.push(x)}};this.abort=function(){u.aborted=!0,o.forEach(function(m){return m()})}},Uh=n.unstable_scheduleCallback,zi=n.unstable_NormalPriority,Ji={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ps(){return{controller:new Mn,data:new Map,refCount:0}}function Eo(o){o.refCount--,o.refCount===0&&Uh(zi,function(){o.controller.abort()})}var E=null,A=0,z=0,Y=null;function Q(o,u){if(E===null){var m=E=[];A=0,z=oE(),Y={status:"pending",value:void 0,then:function(x){m.push(x)}}}return A++,u.then(ue,ue),u}function ue(){if(--A===0&&E!==null){Y!==null&&(Y.status="fulfilled");var o=E;E=null,z=0,Y=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function _e(o,u){var m=[],x={status:"pending",value:null,reason:null,then:function(w){m.push(w)}};return o.then(function(){x.status="fulfilled",x.value=u;for(var w=0;w<m.length;w++)(0,m[w])(u)},function(w){for(x.status="rejected",x.reason=w,w=0;w<m.length;w++)(0,m[w])(void 0)}),x}var Ne=B.S;B.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Q(o,u),Ne!==null&&Ne(o,u)};var Ae=$e(null);function Ke(){var o=Ae.current;return o!==null?o:Wi.pooledCache}function dt(o,u){u===null?ut(Ae,Ae.current):ut(Ae,u.pool)}function nt(){var o=Ke();return o===null?null:{parent:Ji._currentValue,pool:o}}var wt=0,Ut=null,Vt=null,en=null,Kt=!1,ki=!1,ar=!1,Ci=0,Bi=0,Mr=null,Ia=0;function Fn(){throw Error(i(321))}function _i(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!K(o[m],u[m]))return!1;return!0}function Ir(o,u,m,x,w,O){return wt=O,Ut=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,B.H=o===null||o.memoizedState===null?nl:ms,ar=!1,O=m(x,w),ar=!1,ki&&(O=Qa(u,m,x,w)),Ka(o),O}function Ka(o){B.H=tl;var u=Vt!==null&&Vt.next!==null;if(wt=0,en=Vt=Ut=null,Kt=!1,Bi=0,Mr=null,u)throw Error(i(300));o===null||Cr||(o=o.dependencies,o!==null&&Yd(o)&&(Cr=!0))}function Qa(o,u,m,x){Ut=o;var w=0;do{if(ki&&(Mr=null),Bi=0,ki=!1,25<=w)throw Error(i(301));if(w+=1,en=Vt=null,o.updateQueue!=null){var O=o.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}B.H=Mo,O=u(m,x)}while(ki);return O}function Zp(){var o=B.H,u=o.useState()[0];return u=typeof u.then=="function"?zf(u):u,o=o.useState()[0],(Vt!==null?Vt.memoizedState:null)!==o&&(Ut.flags|=1024),u}function rc(){var o=Ci!==0;return Ci=0,o}function Cu(o,u,m){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~m}function ac(o){if(Kt){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Kt=!1}wt=0,en=Vt=Ut=null,ki=!1,Bi=Ci=0,Mr=null}function xa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Ut.memoizedState=en=o:en=en.next=o,en}function Ar(){if(Vt===null){var o=Ut.alternate;o=o!==null?o.memoizedState:null}else o=Vt.next;var u=en===null?Ut.memoizedState:en.next;if(u!==null)en=u,Vt=o;else{if(o===null)throw Ut.alternate===null?Error(i(467)):Error(i(310));Vt=o,o={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},en===null?Ut.memoizedState=en=o:en=en.next=o}return en}var Ih;Ih=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function zf(o){var u=Bi;return Bi+=1,Mr===null&&(Mr=[]),o=Ws(Mr,o,u),u=Ut,(en===null?u.memoizedState:en.next)===null&&(u=u.alternate,B.H=u===null||u.memoizedState===null?nl:ms),o}function Bc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return zf(o);if(o.$$typeof===v)return ws(o)}throw Error(i(438,String(o)))}function qs(o){var u=null,m=Ut.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var x=Ut.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=Ih(),Ut.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(o),x=0;x<o;x++)m[x]=U;return u.index++,m}function Gi(o,u){return typeof u=="function"?u(o):u}function Zs(o){var u=Ar();return Ja(u,Vt,o)}function Ja(o,u,m){var x=o.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=m;var w=o.baseQueue,O=x.pending;if(O!==null){if(w!==null){var q=w.next;w.next=O.next,O.next=q}u.baseQueue=w=O,x.pending=null}if(O=o.baseState,w===null)o.memoizedState=O;else{u=w.next;var ie=q=null,be=null,ze=u,ot=!1;do{var Tt=ze.lane&-536870913;if(Tt!==ze.lane?(_n&Tt)===Tt:(wt&Tt)===Tt){var qe=ze.revertLane;if(qe===0)be!==null&&(be=be.next={lane:0,revertLane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),Tt===z&&(ot=!0);else if((wt&qe)===qe){ze=ze.next,qe===z&&(ot=!0);continue}else Tt={lane:0,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},be===null?(ie=be=Tt,q=O):be=be.next=Tt,Ut.lanes|=qe,Iu|=qe;Tt=ze.action,ar&&m(O,Tt),O=ze.hasEagerState?ze.eagerState:m(O,Tt)}else qe={lane:Tt,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},be===null?(ie=be=qe,q=O):be=be.next=qe,Ut.lanes|=Tt,Iu|=Tt;ze=ze.next}while(ze!==null&&ze!==u);if(be===null?q=O:be.next=ie,!K(O,o.memoizedState)&&(Cr=!0,ot&&(m=Y,m!==null)))throw m;o.memoizedState=O,o.baseState=q,o.baseQueue=be,x.lastRenderedState=O}return w===null&&(x.lanes=0),[o.memoizedState,x.dispatch]}function sc(o){var u=Ar(),m=u.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=o;var x=m.dispatch,w=m.pending,O=u.memoizedState;if(w!==null){m.pending=null;var q=w=w.next;do O=o(O,q.action),q=q.next;while(q!==w);K(O,u.memoizedState)||(Cr=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),m.lastRenderedState=O}return[O,x]}function To(o,u,m){var x=Ut,w=Ar(),O=Gn;if(O){if(m===void 0)throw Error(i(407));m=m()}else m=u();var q=!K((Vt||w).memoizedState,m);if(q&&(w.memoizedState=m,Cr=!0),w=w.queue,Vf(Kp.bind(null,x,w,o),[o]),w.getSnapshot!==u||q||en!==null&&en.memoizedState.tag&1){if(x.flags|=2048,za(9,wo.bind(null,x,w,m,u),{destroy:void 0},null),Wi===null)throw Error(i(349));O||(wt&60)!==0||$a(x,u,m)}return m}function $a(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=Ut.updateQueue,u===null?(u=Ih(),Ut.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function wo(o,u,m,x){u.value=m,u.getSnapshot=x,Qp(u)&&Jp(o)}function Kp(o,u,m){return m(function(){Qp(u)&&Jp(o)})}function Qp(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!K(o,m)}catch{return!0}}function Jp(o){var u=ga(o,2);u!==null&&Ta(u,o,2)}function Nd(o){var u=xa();if(typeof o=="function"){var m=o;if(o=m(),ar){Et(!0);try{m()}finally{Et(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:o},u}function Ud(o,u,m,x){return o.baseState=m,Ja(o,Vt,typeof x=="function"?x:Gi)}function Ag(o,u,m,x,w){if(Wc(o))throw Error(i(485));if(o=u.action,o!==null){var O={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){O.listeners.push(q)}};B.T!==null?m(!0):O.isTransition=!1,x(O),m=u.pending,m===null?(O.next=u.pending=O,Fc(u,O)):(O.next=m.next,u.pending=m.next=O)}}function Fc(o,u){var m=u.action,x=u.payload,w=o.state;if(u.isTransition){var O=B.T,q={};B.T=q;try{var ie=m(w,x),be=B.S;be!==null&&be(q,ie),Dl(o,u,ie)}catch(ze){Ol(o,u,ze)}finally{B.T=O}}else try{O=m(w,x),Dl(o,u,O)}catch(ze){Ol(o,u,ze)}}function Dl(o,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){oc(o,u,x)},function(x){return Ol(o,u,x)}):oc(o,u,m)}function oc(o,u,m){u.status="fulfilled",u.value=m,kf(u),o.state=m,u=o.pending,u!==null&&(m=u.next,m===u?o.pending=null:(m=m.next,u.next=m,Fc(o,m)))}function Ol(o,u,m){var x=o.pending;if(o.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=m,kf(u),u=u.next;while(u!==x)}o.action=null}function kf(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function $p(o,u){return u}function lc(o,u){if(Gn){var m=Wi.formState;if(m!==null){e:{var x=Ut;if(Gn){if(Qi){t:{for(var w=Qi,O=Nr;w.nodeType!==8;){if(!O){w=null;break t}if(w=uf(w.nextSibling),w===null){w=null;break t}}O=w.data,w=O==="F!"||O==="F"?w:null}if(w){Qi=uf(w.nextSibling),x=w.data==="F!";break e}}Jo(x)}x=!1}x&&(u=m[0])}}return m=xa(),m.memoizedState=m.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:u},m.queue=x,m=Yf.bind(null,Ut,x),x.dispatch=m,x=Nd(!1),O=jf.bind(null,Ut,!1,x.queue),x=xa(),w={state:u,dispatch:null,action:o,pending:null},x.queue=w,m=Ag.bind(null,Ut,w,O,m),w.dispatch=m,x.memoizedState=o,[u,m,!1]}function Pl(o){var u=Ar();return Bf(u,Vt,o)}function Bf(o,u,m){u=Ja(o,u,$p)[0],o=Zs(Gi)[0],u=typeof u=="object"&&u!==null&&typeof u.then=="function"?zf(u):u;var x=Ar(),w=x.queue,O=w.dispatch;return m!==x.memoizedState&&(Ut.flags|=2048,za(9,zh.bind(null,w,m),{destroy:void 0},null)),[u,O,o]}function zh(o,u){o.action=u}function Ff(o){var u=Ar(),m=Vt;if(m!==null)return Bf(u,m,o);Ar(),u=u.memoizedState,m=Ar();var x=m.queue.dispatch;return m.memoizedState=o,[u,x,!1]}function za(o,u,m,x){return o={tag:o,create:u,inst:m,deps:x,next:null},u=Ut.updateQueue,u===null&&(u=Ih(),Ut.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=o.next=o:(x=m.next,m.next=o,o.next=x,u.lastEffect=o),o}function Id(){return Ar().memoizedState}function Hf(o,u,m,x){var w=xa();Ut.flags|=o,w.memoizedState=za(1|u,m,{destroy:void 0},x===void 0?null:x)}function Ll(o,u,m,x){var w=Ar();x=x===void 0?null:x;var O=w.memoizedState.inst;Vt!==null&&x!==null&&_i(x,Vt.memoizedState.deps)?w.memoizedState=za(u,m,O,x):(Ut.flags|=o,w.memoizedState=za(1|u,m,O,x))}function em(o,u){Hf(8390656,8,o,u)}function Vf(o,u){Ll(2048,8,o,u)}function tm(o,u){return Ll(4,2,o,u)}function Gf(o,u){return Ll(4,4,o,u)}function nm(o,u){if(typeof u=="function"){o=o();var m=u(o);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Xf(o,u,m){m=m!=null?m.concat([o]):null,Ll(4,4,nm.bind(null,u,o),m)}function Hc(){}function im(o,u){var m=Ar();u=u===void 0?null:u;var x=m.memoizedState;return u!==null&&_i(u,x[1])?x[0]:(m.memoizedState=[o,u],o)}function rm(o,u){var m=Ar();u=u===void 0?null:u;var x=m.memoizedState;if(u!==null&&_i(u,x[1]))return x[0];if(x=o(),ar){Et(!0);try{o()}finally{Et(!1)}}return m.memoizedState=[x,u],x}function Wf(o,u,m){return m===void 0||(wt&1073741824)!==0?o.memoizedState=u:(o.memoizedState=m,o=sl(),Ut.lanes|=o,Iu|=o,m)}function Cg(o,u,m,x){return K(m,u)?m:qa.current!==null?(o=Wf(o,m,x),K(o,u)||(Cr=!0),o):(wt&42)===0?(Cr=!0,o.memoizedState=m):(o=sl(),Ut.lanes|=o,Iu|=o,u)}function Ru(o,u,m,x,w){var O=Oe.p;Oe.p=O!==0&&8>O?O:8;var q=B.T,ie={};B.T=ie,jf(o,!1,u,m);try{var be=w(),ze=B.S;if(ze!==null&&ze(ie,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var ot=_e(be,x);Nl(o,u,ot,to(o))}else Nl(o,u,x,to(o))}catch(Tt){Nl(o,u,{then:function(){},status:"rejected",reason:Tt},to())}finally{Oe.p=O,B.T=q}}function zd(){}function Vc(o,u,m,x){if(o.tag!==5)throw Error(i(476));var w=Gc(o).queue;Ru(o,w,u,tt,m===null?zd:function(){return kh(o),m(x)})}function Gc(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:tt},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:m},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function kh(o){var u=Gc(o).next.queue;Nl(o,u,{},to())}function Xc(){return ws(Hv)}function Bh(){return Ar().memoizedState}function am(){return Ar().memoizedState}function kd(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var m=to();o=rl(m);var x=al(u,o,m);x!==null&&(Ta(x,u,m),$f(x,u,m)),u={cache:ps()},o.payload=u;return}u=u.return}}function sm(o,u,m){var x=to();m={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Wc(o)?Bd(u,m):(m=Fs(o,u,m,x),m!==null&&(Ta(m,o,x),om(m,u,x)))}function Yf(o,u,m){var x=to();Nl(o,u,m,x)}function Nl(o,u,m,x){var w={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Wc(o))Bd(u,w);else{var O=o.alternate;if(o.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var q=u.lastRenderedState,ie=O(q,m);if(w.hasEagerState=!0,w.eagerState=ie,K(ie,q))return Ml(o,u,w,0),Wi===null&&Ya(),!1}catch{}finally{}if(m=Fs(o,u,w,x),m!==null)return Ta(m,o,x),om(m,u,x),!0}return!1}function jf(o,u,m,x){if(x={lane:2,revertLane:oE(),action:x,hasEagerState:!1,eagerState:null,next:null},Wc(o)){if(u)throw Error(i(479))}else u=Fs(o,m,x,2),u!==null&&Ta(u,o,2)}function Wc(o){var u=o.alternate;return o===Ut||u!==null&&u===Ut}function Bd(o,u){ki=Kt=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function om(o,u,m){if((m&4194176)!==0){var x=u.lanes;x&=o.pendingLanes,m|=x,u.lanes=m,Ho(o,m)}}var tl={readContext:ws,use:Bc,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useLayoutEffect:Fn,useInsertionEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useSyncExternalStore:Fn,useId:Fn};tl.useCacheRefresh=Fn,tl.useMemoCache=Fn,tl.useHostTransitionStatus=Fn,tl.useFormState=Fn,tl.useActionState=Fn,tl.useOptimistic=Fn;var nl={readContext:ws,use:Bc,useCallback:function(o,u){return xa().memoizedState=[o,u===void 0?null:u],o},useContext:ws,useEffect:em,useImperativeHandle:function(o,u,m){m=m!=null?m.concat([o]):null,Hf(4194308,4,nm.bind(null,u,o),m)},useLayoutEffect:function(o,u){return Hf(4194308,4,o,u)},useInsertionEffect:function(o,u){Hf(4,2,o,u)},useMemo:function(o,u){var m=xa();u=u===void 0?null:u;var x=o();if(ar){Et(!0);try{o()}finally{Et(!1)}}return m.memoizedState=[x,u],x},useReducer:function(o,u,m){var x=xa();if(m!==void 0){var w=m(u);if(ar){Et(!0);try{m(u)}finally{Et(!1)}}}else w=u;return x.memoizedState=x.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},x.queue=o,o=o.dispatch=sm.bind(null,Ut,o),[x.memoizedState,o]},useRef:function(o){var u=xa();return o={current:o},u.memoizedState=o},useState:function(o){o=Nd(o);var u=o.queue,m=Yf.bind(null,Ut,u);return u.dispatch=m,[o.memoizedState,m]},useDebugValue:Hc,useDeferredValue:function(o,u){var m=xa();return Wf(m,o,u)},useTransition:function(){var o=Nd(!1);return o=Ru.bind(null,Ut,o.queue,!0,!1),xa().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,m){var x=Ut,w=xa();if(Gn){if(m===void 0)throw Error(i(407));m=m()}else{if(m=u(),Wi===null)throw Error(i(349));(_n&60)!==0||$a(x,u,m)}w.memoizedState=m;var O={value:m,getSnapshot:u};return w.queue=O,em(Kp.bind(null,x,O,o),[o]),x.flags|=2048,za(9,wo.bind(null,x,O,m,u),{destroy:void 0},null),m},useId:function(){var o=xa(),u=Wi.identifierPrefix;if(Gn){var m=go,x=fr;m=(x&~(1<<32-gt(x)-1)).toString(32)+m,u=":"+u+"R"+m,m=Ci++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=Ia++,u=":"+u+"r"+m.toString(32)+":";return o.memoizedState=u},useCacheRefresh:function(){return xa().memoizedState=kd.bind(null,Ut)}};nl.useMemoCache=qs,nl.useHostTransitionStatus=Xc,nl.useFormState=lc,nl.useActionState=lc,nl.useOptimistic=function(o){var u=xa();u.memoizedState=u.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=jf.bind(null,Ut,!0,m),m.dispatch=u,[o,u]};var ms={readContext:ws,use:Bc,useCallback:im,useContext:ws,useEffect:Vf,useImperativeHandle:Xf,useInsertionEffect:tm,useLayoutEffect:Gf,useMemo:rm,useReducer:Zs,useRef:Id,useState:function(){return Zs(Gi)},useDebugValue:Hc,useDeferredValue:function(o,u){var m=Ar();return Cg(m,Vt.memoizedState,o,u)},useTransition:function(){var o=Zs(Gi)[0],u=Ar().memoizedState;return[typeof o=="boolean"?o:zf(o),u]},useSyncExternalStore:To,useId:Bh};ms.useCacheRefresh=am,ms.useMemoCache=qs,ms.useHostTransitionStatus=Xc,ms.useFormState=Pl,ms.useActionState=Pl,ms.useOptimistic=function(o,u){var m=Ar();return Ud(m,Vt,o,u)};var Mo={readContext:ws,use:Bc,useCallback:im,useContext:ws,useEffect:Vf,useImperativeHandle:Xf,useInsertionEffect:tm,useLayoutEffect:Gf,useMemo:rm,useReducer:sc,useRef:Id,useState:function(){return sc(Gi)},useDebugValue:Hc,useDeferredValue:function(o,u){var m=Ar();return Vt===null?Wf(m,o,u):Cg(m,Vt.memoizedState,o,u)},useTransition:function(){var o=sc(Gi)[0],u=Ar().memoizedState;return[typeof o=="boolean"?o:zf(o),u]},useSyncExternalStore:To,useId:Bh};Mo.useCacheRefresh=am,Mo.useMemoCache=qs,Mo.useHostTransitionStatus=Xc,Mo.useFormState=Ff,Mo.useActionState=Ff,Mo.useOptimistic=function(o,u){var m=Ar();return Vt!==null?Ud(m,Vt,o,u):(m.baseState=o,[o,m.queue.dispatch])};function Fd(o,u,m,x){u=o.memoizedState,m=m(x,u),m=m==null?u:I({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var Yc={isMounted:function(o){return(o=o._reactInternals)?ve(o)===o:!1},enqueueSetState:function(o,u,m){o=o._reactInternals;var x=to(),w=rl(x);w.payload=u,m!=null&&(w.callback=m),u=al(o,w,x),u!==null&&(Ta(u,o,x),$f(u,o,x))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var x=to(),w=rl(x);w.tag=1,w.payload=u,m!=null&&(w.callback=m),u=al(o,w,x),u!==null&&(Ta(u,o,x),$f(u,o,x))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=to(),x=rl(m);x.tag=2,u!=null&&(x.callback=u),u=al(o,x,m),u!==null&&(Ta(u,o,m),$f(u,o,m))}};function Fh(o,u,m,x,w,O,q){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,O,q):u.prototype&&u.prototype.isPureReactComponent?!ce(m,x)||!ce(w,O):!0}function qf(o,u,m,x){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,x),u.state!==o&&Yc.enqueueReplaceState(u,u.state,null)}function uc(o,u){var m=u;if("ref"in u){m={};for(var x in u)x!=="ref"&&(m[x]=u[x])}if(o=o.defaultProps){m===u&&(m=I({},m));for(var w in o)m[w]===void 0&&(m[w]=o[w])}return m}var Ul=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function lm(o){Ul(o)}function jc(o){console.error(o)}function um(o){Ul(o)}function qc(o,u){try{var m=o.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function Hd(o,u,m){try{var x=o.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Zc(o,u,m){return m=rl(m),m.tag=3,m.payload={element:null},m.callback=function(){qc(o,u)},m}function Vd(o){return o=rl(o),o.tag=3,o}function Zf(o,u,m,x){var w=m.type.getDerivedStateFromError;if(typeof w=="function"){var O=x.value;o.payload=function(){return w(O)},o.callback=function(){Hd(u,m,x)}}var q=m.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(o.callback=function(){Hd(u,m,x),typeof w!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var ie=x.stack;this.componentDidCatch(x.value,{componentStack:ie!==null?ie:""})})}function Hh(o,u,m,x,w){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=m.alternate,u!==null&&dm(u,m,w,!0),m=Ur.current,m!==null){switch(m.tag){case 13:return hs===null?_m():m.alternate===null&&gr===0&&(gr=3),m.flags&=-257,m.flags|=65536,m.lanes=w,x===ja?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([x]):u.add(x),kn(o,x,w)),!1;case 22:return m.flags|=65536,x===ja?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([x]):m.add(x)),kn(o,x,w)),!1}throw Error(i(435,m.tag))}return kn(o,x,w),_m(),!1}if(Gn)return u=Ur.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,x!==Rl&&(o=Error(i(422),{cause:x}),Na(Gr(o,m)))):(x!==Rl&&(u=Error(i(423),{cause:x}),Na(Gr(u,m))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,x=Gr(x,m),w=Zc(o.stateNode,x,w),qd(o,w),gr!==4&&(gr=2)),!1;var O=Error(i(520),{cause:x});if(O=Gr(O,m),bm===null?bm=[O]:bm.push(O),gr!==4&&(gr=2),u===null)return!0;x=Gr(x,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,o=w&-w,m.lanes|=o,o=Zc(m.stateNode,x,o),qd(m,o),!1;case 1:if(u=m.type,O=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ea===null||!Ea.has(O))))return m.flags|=65536,w&=-w,m.lanes|=w,w=Vd(w),Zf(w,o,m,x),qd(m,w),!1}m=m.return}while(m!==null);return!1}var ka=Error(i(461)),Cr=!1;function $i(o,u,m,x){u.child=o===null?bo(u,null,m,x):dr(u,o.child,m,x)}function ba(o,u,m,x,w){m=m.render;var O=u.ref;if("ref"in x){var q={};for(var ie in x)ie!=="ref"&&(q[ie]=x[ie])}else q=x;return jh(u),x=Ir(o,u,m,q,O,w),ie=rc(),o!==null&&!Cr?(Cu(o,u,w),ta(o,u,w)):(Gn&&ie&&Vs(u),u.flags|=1,$i(o,u,x,w),u.child)}function $r(o,u,m,x,w){if(o===null){var O=m.type;return typeof O=="function"&&!rf(O)&&O.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=O,Gd(o,u,O,x,w)):(o=Jd(m.type,null,x,u,u.mode,w),o.ref=u.ref,o.return=u,u.child=o)}if(O=o.child,!Dv(o,w)){var q=O.memoizedProps;if(m=m.compare,m=m!==null?m:ce,m(q,x)&&o.ref===u.ref)return ta(o,u,w)}return u.flags|=1,o=$s(O,x),o.ref=u.ref,o.return=u,u.child=o}function Gd(o,u,m,x,w){if(o!==null){var O=o.memoizedProps;if(ce(O,x)&&o.ref===u.ref)if(Cr=!1,u.pendingProps=x=O,Dv(o,w))(o.flags&131072)!==0&&(Cr=!0);else return u.lanes=o.lanes,ta(o,u,w)}return Gh(o,u,m,x,w)}function Kc(o,u,m){var x=u.pendingProps,w=x.children,O=(u.stateNode._pendingVisibility&2)!==0,q=o!==null?o.memoizedState:null;if(Ao(o,u),x.mode==="hidden"||O){if((u.flags&128)!==0){if(x=q!==null?q.baseLanes|m:m,o!==null){for(w=u.child=o.child,O=0;w!==null;)O=O|w.lanes|w.childLanes,w=w.sibling;u.childLanes=O&~x}else u.childLanes=0,u.child=null;return Vh(o,u,x,m)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&dt(u,q!==null?q.cachePool:null),q!==null?js(u,q):el(),Ts(u);else return u.lanes=u.childLanes=536870912,Vh(o,u,q!==null?q.baseLanes|m:m,m)}else q!==null?(dt(u,q.cachePool),js(u,q),Jr(),u.memoizedState=null):(o!==null&&dt(u,null),el(),Jr());return $i(o,u,w,m),u.child}function Vh(o,u,m,x){var w=Ke();return w=w===null?null:{parent:Ji._currentValue,pool:w},u.memoizedState={baseLanes:m,cachePool:w},o!==null&&dt(u,null),el(),Ts(u),o!==null&&dm(o,u,x,!0),null}function Ao(o,u){var m=u.ref;if(m===null)o!==null&&o.ref!==null&&(u.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(o===null||o.ref!==m)&&(u.flags|=2097664)}}function Gh(o,u,m,x,w){return jh(u),m=Ir(o,u,m,x,void 0,w),x=rc(),o!==null&&!Cr?(Cu(o,u,w),ta(o,u,w)):(Gn&&x&&Vs(u),u.flags|=1,$i(o,u,m,w),u.child)}function cm(o,u,m,x,w,O){return jh(u),u.updateQueue=null,m=Qa(u,x,m,w),Ka(o),x=rc(),o!==null&&!Cr?(Cu(o,u,O),ta(o,u,O)):(Gn&&x&&Vs(u),u.flags|=1,$i(o,u,m,O),u.child)}function cc(o,u,m,x,w){if(jh(u),u.stateNode===null){var O=Lr,q=m.contextType;typeof q=="object"&&q!==null&&(O=ws(q)),O=new m(x,O),u.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Yc,u.stateNode=O,O._reactInternals=u,O=u.stateNode,O.props=x,O.state=u.memoizedState,O.refs={},Qs(u),q=m.contextType,O.context=typeof q=="object"&&q!==null?ws(q):Lr,O.state=u.memoizedState,q=m.getDerivedStateFromProps,typeof q=="function"&&(Fd(u,m,q,x),O.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(q=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),q!==O.state&&Yc.enqueueReplaceState(O,O.state,null),Ou(u,x,O,w),Ms(),O.state=u.memoizedState),typeof O.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(o===null){O=u.stateNode;var ie=u.memoizedProps,be=uc(m,ie);O.props=be;var ze=O.context,ot=m.contextType;q=Lr,typeof ot=="object"&&ot!==null&&(q=ws(ot));var Tt=m.getDerivedStateFromProps;ot=typeof Tt=="function"||typeof O.getSnapshotBeforeUpdate=="function",ie=u.pendingProps!==ie,ot||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(ie||ze!==q)&&qf(u,O,x,q),_a=!1;var qe=u.memoizedState;O.state=qe,Ou(u,x,O,w),Ms(),ze=u.memoizedState,ie||qe!==ze||_a?(typeof Tt=="function"&&(Fd(u,m,Tt,x),ze=u.memoizedState),(be=_a||Fh(u,m,be,x,qe,ze,q))?(ot||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=ze),O.props=x,O.state=ze,O.context=q,x=be):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{O=u.stateNode,Pg(o,u),q=u.memoizedProps,ot=uc(m,q),O.props=ot,Tt=u.pendingProps,qe=O.context,ze=m.contextType,be=Lr,typeof ze=="object"&&ze!==null&&(be=ws(ze)),ie=m.getDerivedStateFromProps,(ze=typeof ie=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(q!==Tt||qe!==be)&&qf(u,O,x,be),_a=!1,qe=u.memoizedState,O.state=qe,Ou(u,x,O,w),Ms();var rt=u.memoizedState;q!==Tt||qe!==rt||_a||o!==null&&o.dependencies!==null&&Yd(o.dependencies)?(typeof ie=="function"&&(Fd(u,m,ie,x),rt=u.memoizedState),(ot=_a||Fh(u,m,ot,x,qe,rt,be)||o!==null&&o.dependencies!==null&&Yd(o.dependencies))?(ze||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,rt,be),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,rt,be)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||q===o.memoizedProps&&qe===o.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&qe===o.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=rt),O.props=x,O.state=rt,O.context=be,x=ot):(typeof O.componentDidUpdate!="function"||q===o.memoizedProps&&qe===o.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&qe===o.memoizedState||(u.flags|=1024),x=!1)}return O=x,Ao(o,u),x=(u.flags&128)!==0,O||x?(O=u.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:O.render(),u.flags|=1,o!==null&&x?(u.child=dr(u,o.child,null,w),u.child=dr(u,null,m,w)):$i(o,u,m,w),u.memoizedState=O.state,o=u.child):o=ta(o,u,w),o}function Xh(o,u,m,x){return yo(),u.flags|=256,$i(o,u,m,x),u.child}var Xd={dehydrated:null,treeContext:null,retryLane:0};function ea(o){return{baseLanes:o,cachePool:nt()}}function Kf(o,u,m){return o=o!==null?o.childLanes&~m:0,u&&(o|=eo),o}function fm(o,u,m){var x=u.pendingProps,w=!1,O=(u.flags&128)!==0,q;if((q=O)||(q=o!==null&&o.memoizedState===null?!1:(Ii.current&2)!==0),q&&(w=!0,u.flags&=-129),q=(u.flags&32)!==0,u.flags&=-33,o===null){if(Gn){if(w?Za(u):Jr(),Gn){var ie=Qi,be;if(be=ie){e:{for(be=ie,ie=Nr;be.nodeType!==8;){if(!ie){ie=null;break e}if(be=uf(be.nextSibling),be===null){ie=null;break e}}ie=be}ie!==null?(u.memoizedState={dehydrated:ie,treeContext:ya!==null?{id:fr,overflow:go}:null,retryLane:536870912},be=aa(18,null,null,0),be.stateNode=ie,be.return=u,u.child=be,Ki=u,Qi=null,be=!0):be=!1}be||Jo(u)}if(ie=u.memoizedState,ie!==null&&(ie=ie.dehydrated,ie!==null))return ie.data==="$!"?u.lanes=16:u.lanes=536870912,null;ds(u)}return ie=x.children,x=x.fallback,w?(Jr(),w=u.mode,ie=Ks({mode:"hidden",children:ie},w),x=ah(x,w,m,null),ie.return=u,x.return=u,ie.sibling=x,u.child=ie,w=u.child,w.memoizedState=ea(m),w.childLanes=Kf(o,q,m),u.memoizedState=Xd,x):(Za(u),fc(u,ie))}if(be=o.memoizedState,be!==null&&(ie=be.dehydrated,ie!==null)){if(O)u.flags&256?(Za(u),u.flags&=-257,u=Wh(o,u,m)):u.memoizedState!==null?(Jr(),u.child=o.child,u.flags|=128,u=null):(Jr(),w=x.fallback,ie=u.mode,x=Ks({mode:"visible",children:x.children},ie),w=ah(w,ie,m,null),w.flags|=2,x.return=u,w.return=u,x.sibling=w,u.child=x,dr(u,o.child,null,m),x=u.child,x.memoizedState=ea(m),x.childLanes=Kf(o,q,m),u.memoizedState=Xd,u=w);else if(Za(u),ie.data==="$!"){if(q=ie.nextSibling&&ie.nextSibling.dataset,q)var ze=q.dgst;q=ze,x=Error(i(419)),x.stack="",x.digest=q,Na({value:x,source:null,stack:null}),u=Wh(o,u,m)}else if(Cr||dm(o,u,m,!1),q=(m&o.childLanes)!==0,Cr||q){if(q=Wi,q!==null){if(x=m&-m,(x&42)!==0)x=1;else switch(x){case 2:x=1;break;case 8:x=4;break;case 32:x=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:x=64;break;case 268435456:x=134217728;break;default:x=0}if(x=(x&(q.suspendedLanes|m))!==0?0:x,x!==0&&x!==be.retryLane)throw be.retryLane=x,ga(o,x),Ta(q,o,x),ka}ie.data==="$?"||_m(),u=Wh(o,u,m)}else ie.data==="$?"?(u.flags|=128,u.child=o.child,u=ed.bind(null,o),ie._reactRetry=u,u=null):(o=be.treeContext,Qi=uf(ie.nextSibling),Ki=u,Gn=!0,hr=null,Nr=!1,o!==null&&(Ai[Wr++]=fr,Ai[Wr++]=go,Ai[Wr++]=ya,fr=o.id,go=o.overflow,ya=u),u=fc(u,x.children),u.flags|=4096);return u}return w?(Jr(),w=x.fallback,ie=u.mode,be=o.child,ze=be.sibling,x=$s(be,{mode:"hidden",children:x.children}),x.subtreeFlags=be.subtreeFlags&31457280,ze!==null?w=$s(ze,w):(w=ah(w,ie,m,null),w.flags|=2),w.return=u,x.return=u,x.sibling=w,u.child=x,x=w,w=u.child,ie=o.child.memoizedState,ie===null?ie=ea(m):(be=ie.cachePool,be!==null?(ze=Ji._currentValue,be=be.parent!==ze?{parent:ze,pool:ze}:be):be=nt(),ie={baseLanes:ie.baseLanes|m,cachePool:be}),w.memoizedState=ie,w.childLanes=Kf(o,q,m),u.memoizedState=Xd,x):(Za(u),m=o.child,o=m.sibling,m=$s(m,{mode:"visible",children:x.children}),m.return=u,m.sibling=null,o!==null&&(q=u.deletions,q===null?(u.deletions=[o],u.flags|=16):q.push(o)),u.child=m,u.memoizedState=null,m)}function fc(o,u){return u=Ks({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Ks(o,u){return Pv(o,u,0,null)}function Wh(o,u,m){return dr(u,o.child,null,m),o=fc(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function Rg(o,u,m){o.lanes|=u;var x=o.alternate;x!==null&&(x.lanes|=u),il(o.return,u,m)}function Qf(o,u,m,x,w){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:w}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=m,O.tailMode=w)}function Yh(o,u,m){var x=u.pendingProps,w=x.revealOrder,O=x.tail;if($i(o,u,x.children,m),x=Ii.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Rg(o,m,u);else if(o.tag===19)Rg(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}switch(ut(Ii,x),w){case"forwards":for(m=u.child,w=null;m!==null;)o=m.alternate,o!==null&&So(o)===null&&(w=m),m=m.sibling;m=w,m===null?(w=u.child,u.child=null):(w=m.sibling,m.sibling=null),Qf(u,!1,w,m,O);break;case"backwards":for(m=null,w=u.child,u.child=null;w!==null;){if(o=w.alternate,o!==null&&So(o)===null){u.child=w;break}o=w.sibling,w.sibling=m,m=w,w=o}Qf(u,!0,m,null,O);break;case"together":Qf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function ta(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),Iu|=u.lanes,(m&u.childLanes)===0)if(o!==null){if(dm(o,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(i(153));if(u.child!==null){for(o=u.child,m=$s(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=$s(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function Dv(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Yd(o)))}function aE(o,u,m){switch(u.tag){case 3:Qe(u,u.stateNode.containerInfo),Jf(u,Ji,o.memoizedState.cache),yo();break;case 27:case 5:Je(u);break;case 4:Qe(u,u.stateNode.containerInfo);break;case 10:Jf(u,u.type,u.memoizedProps.value);break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(Za(u),u.flags|=128,null):(m&u.child.childLanes)!==0?fm(o,u,m):(Za(u),o=ta(o,u,m),o!==null?o.sibling:null);Za(u);break;case 19:var w=(o.flags&128)!==0;if(x=(m&u.childLanes)!==0,x||(dm(o,u,m,!1),x=(m&u.childLanes)!==0),w){if(x)return Yh(o,u,m);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ut(Ii,Ii.current),x)break;return null;case 22:case 23:return u.lanes=0,Kc(o,u,m);case 24:Jf(u,Ji,o.memoizedState.cache)}return ta(o,u,m)}function hm(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps)Cr=!0;else{if(!Dv(o,m)&&(u.flags&128)===0)return Cr=!1,aE(o,u,m);Cr=(o.flags&131072)!==0}else Cr=!1,Gn&&(u.flags&1048576)!==0&&Cl(u,Mu,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var x=u.elementType,w=x._init;if(x=w(x._payload),u.type=x,typeof x=="function")rf(x)?(o=uc(x,o),u.tag=1,u=cc(null,u,x,o,m)):(u.tag=0,u=Gh(null,u,x,o,m));else{if(x!=null){if(w=x.$$typeof,w===_){u.tag=11,u=ba(null,u,x,o,m);break e}else if(w===S){u.tag=14,u=$r(null,u,x,o,m);break e}}throw u=W(x)||x,Error(i(306,u,""))}}return u;case 0:return Gh(o,u,u.type,u.pendingProps,m);case 1:return x=u.type,w=uc(x,u.pendingProps),cc(o,u,x,w,m);case 3:e:{if(Qe(u,u.stateNode.containerInfo),o===null)throw Error(i(387));var O=u.pendingProps;w=u.memoizedState,x=w.element,Pg(o,u),Ou(u,O,null,m);var q=u.memoizedState;if(O=q.cache,Jf(u,Ji,O),O!==w.cache&&Dg(u,[Ji],m,!0),Ms(),O=q.element,w.isDehydrated)if(w={element:O,isDehydrated:!1,cache:q.cache},u.updateQueue.baseState=w,u.memoizedState=w,u.flags&256){u=Xh(o,u,O,m);break e}else if(O!==x){x=Gr(Error(i(424)),u),Na(x),u=Xh(o,u,O,m);break e}else for(Qi=uf(u.stateNode.containerInfo.firstChild),Ki=u,Gn=!0,hr=null,Nr=!0,m=bo(u,null,O,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(yo(),O===x){u=ta(o,u,m);break e}$i(o,u,O,m)}u=u.child}return u;case 26:return Ao(o,u),o===null?(m=z2(u.type,null,u.pendingProps,null))?u.memoizedState=m:Gn||(m=u.type,o=u.pendingProps,x=sb(ye.current).createElement(m),x[mn]=u,x[pn]=o,no(x,m,o),Ce(x),u.stateNode=x):u.memoizedState=z2(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Je(u),o===null&&Gn&&(x=u.stateNode=N2(u.type,u.pendingProps,ye.current),Ki=u,Nr=!0,Qi=uf(x.firstChild)),x=u.pendingProps.children,o!==null||Gn?$i(o,u,x,m):u.child=dr(u,null,x,m),Ao(o,u),u.child;case 5:return o===null&&Gn&&((w=x=Qi)&&(x=yB(x,u.type,u.pendingProps,Nr),x!==null?(u.stateNode=x,Ki=u,Qi=uf(x.firstChild),Nr=!1,w=!0):w=!1),w||Jo(u)),Je(u),w=u.type,O=u.pendingProps,q=o!==null?o.memoizedProps:null,x=O.children,gE(w,O)?x=null:q!==null&&gE(w,q)&&(u.flags|=32),u.memoizedState!==null&&(w=Ir(o,u,Zp,null,null,m),Hv._currentValue=w),Ao(o,u),$i(o,u,x,m),u.child;case 6:return o===null&&Gn&&((o=m=Qi)&&(m=vB(m,u.pendingProps,Nr),m!==null?(u.stateNode=m,Ki=u,Qi=null,o=!0):o=!1),o||Jo(u)),null;case 13:return fm(o,u,m);case 4:return Qe(u,u.stateNode.containerInfo),x=u.pendingProps,o===null?u.child=dr(u,null,x,m):$i(o,u,x,m),u.child;case 11:return ba(o,u,u.type,u.pendingProps,m);case 7:return $i(o,u,u.pendingProps,m),u.child;case 8:return $i(o,u,u.pendingProps.children,m),u.child;case 12:return $i(o,u,u.pendingProps.children,m),u.child;case 10:return x=u.pendingProps,Jf(u,u.type,x.value),$i(o,u,x.children,m),u.child;case 9:return w=u.type._context,x=u.pendingProps.children,jh(u),w=ws(w),x=x(w),u.flags|=1,$i(o,u,x,m),u.child;case 14:return $r(o,u,u.type,u.pendingProps,m);case 15:return Gd(o,u,u.type,u.pendingProps,m);case 19:return Yh(o,u,m);case 22:return Kc(o,u,m);case 24:return jh(u),x=ws(Ji),o===null?(w=Ke(),w===null&&(w=Wi,O=ps(),w.pooledCache=O,O.refCount++,O!==null&&(w.pooledCacheLanes|=m),w=O),u.memoizedState={parent:x,cache:w},Qs(u),Jf(u,Ji,w)):((o.lanes&m)!==0&&(Pg(o,u),Ou(u,null,null,m),Ms()),w=o.memoizedState,O=u.memoizedState,w.parent!==x?(w={parent:x,cache:x},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),Jf(u,Ji,x)):(x=O.cache,Jf(u,Ji,x),x!==w.cache&&Dg(u,[Ji],m,!0))),$i(o,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}var Wd=$e(null),hc=null,Du=null;function Jf(o,u,m){ut(Wd,u._currentValue),u._currentValue=m}function Qc(o){o._currentValue=Wd.current,St(Wd)}function il(o,u,m){for(;o!==null;){var x=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),o===m)break;o=o.return}}function Dg(o,u,m,x){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var O=w.dependencies;if(O!==null){var q=w.child;O=O.firstContext;e:for(;O!==null;){var ie=O;O=w;for(var be=0;be<u.length;be++)if(ie.context===u[be]){O.lanes|=m,ie=O.alternate,ie!==null&&(ie.lanes|=m),il(O.return,m,o),x||(q=null);break e}O=ie.next}}else if(w.tag===18){if(q=w.return,q===null)throw Error(i(341));q.lanes|=m,O=q.alternate,O!==null&&(O.lanes|=m),il(q,m,o),q=null}else q=w.child;if(q!==null)q.return=w;else for(q=w;q!==null;){if(q===o){q=null;break}if(w=q.sibling,w!==null){w.return=q.return,q=w;break}q=q.return}w=q}}function dm(o,u,m,x){o=null;for(var w=u,O=!1;w!==null;){if(!O){if((w.flags&524288)!==0)O=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var q=w.alternate;if(q===null)throw Error(i(387));if(q=q.memoizedProps,q!==null){var ie=w.type;K(w.pendingProps.value,q.value)||(o!==null?o.push(ie):o=[ie])}}else if(w===ct.current){if(q=w.alternate,q===null)throw Error(i(387));q.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Hv):o=[Hv])}w=w.return}o!==null&&Dg(u,o,m,x),u.flags|=262144}function Yd(o){for(o=o.firstContext;o!==null;){if(!K(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function jh(o){hc=o,Du=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ws(o){return jd(hc,o)}function Og(o,u){return hc===null&&jh(o),jd(o,u)}function jd(o,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},Du===null){if(o===null)throw Error(i(308));Du=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Du=Du.next=u;return m}var _a=!1;function Qs(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pg(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function rl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function al(o,u,m){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(zn&2)!==0){var w=x.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),x.pending=u,u=mo(o),Hs(o,null,m),u}return Ml(o,x,u,m),mo(o)}function $f(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194176)!==0)){var x=u.lanes;x&=o.pendingLanes,m|=x,u.lanes=m,Ho(o,m)}}function qd(o,u){var m=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var w=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var q={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};O===null?w=O=q:O=O.next=q,m=m.next}while(m!==null);O===null?w=O=u:O=O.next=u}else w=O=u;m={baseState:x.baseState,firstBaseUpdate:w,lastBaseUpdate:O,shared:x.shared,callbacks:x.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}var Co=!1;function Ms(){if(Co){var o=Y;if(o!==null)throw o}}function Ou(o,u,m,x){Co=!1;var w=o.updateQueue;_a=!1;var O=w.firstBaseUpdate,q=w.lastBaseUpdate,ie=w.shared.pending;if(ie!==null){w.shared.pending=null;var be=ie,ze=be.next;be.next=null,q===null?O=ze:q.next=ze,q=be;var ot=o.alternate;ot!==null&&(ot=ot.updateQueue,ie=ot.lastBaseUpdate,ie!==q&&(ie===null?ot.firstBaseUpdate=ze:ie.next=ze,ot.lastBaseUpdate=be))}if(O!==null){var Tt=w.baseState;q=0,ot=ze=be=null,ie=O;do{var qe=ie.lane&-536870913,rt=qe!==ie.lane;if(rt?(_n&qe)===qe:(x&qe)===qe){qe!==0&&qe===z&&(Co=!0),ot!==null&&(ot=ot.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var dn=o,Vn=ie;qe=u;var wa=m;switch(Vn.tag){case 1:if(dn=Vn.payload,typeof dn=="function"){Tt=dn.call(wa,Tt,qe);break e}Tt=dn;break e;case 3:dn.flags=dn.flags&-65537|128;case 0:if(dn=Vn.payload,qe=typeof dn=="function"?dn.call(wa,Tt,qe):dn,qe==null)break e;Tt=I({},Tt,qe);break e;case 2:_a=!0}}qe=ie.callback,qe!==null&&(o.flags|=64,rt&&(o.flags|=8192),rt=w.callbacks,rt===null?w.callbacks=[qe]:rt.push(qe))}else rt={lane:qe,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},ot===null?(ze=ot=rt,be=Tt):ot=ot.next=rt,q|=qe;if(ie=ie.next,ie===null){if(ie=w.shared.pending,ie===null)break;rt=ie,ie=rt.next,rt.next=null,w.lastBaseUpdate=rt,w.shared.pending=null}}while(!0);ot===null&&(be=Tt),w.baseState=be,w.firstBaseUpdate=ze,w.lastBaseUpdate=ot,O===null&&(w.shared.lanes=0),Iu|=q,o.lanes=q,o.memoizedState=Tt}}function dc(o,u){if(typeof o!="function")throw Error(i(191,o));o.call(u)}function pc(o,u){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)dc(m[o],u)}function na(o,u){try{var m=u.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var w=x.next;m=w;do{if((m.tag&o)===o){x=void 0;var O=m.create,q=m.inst;x=O(),q.destroy=x}m=m.next}while(m!==w)}}catch(ie){Ot(u,u.return,ie)}}function Il(o,u,m){try{var x=u.updateQueue,w=x!==null?x.lastEffect:null;if(w!==null){var O=w.next;x=O;do{if((x.tag&o)===o){var q=x.inst,ie=q.destroy;if(ie!==void 0){q.destroy=void 0,w=u;var be=m;try{ie()}catch(ze){Ot(w,be,ze)}}}x=x.next}while(x!==O)}}catch(ze){Ot(u,u.return,ze)}}function Jc(o){var u=o.updateQueue;if(u!==null){var m=o.stateNode;try{pc(u,m)}catch(x){Ot(o,o.return,x)}}}function pm(o,u,m){m.props=uc(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(x){Ot(o,u,x)}}function ia(o,u){try{var m=o.ref;if(m!==null){var x=o.stateNode;switch(o.tag){case 26:case 27:case 5:var w=x;break;default:w=x}typeof m=="function"?o.refCleanup=m(w):m.current=w}}catch(O){Ot(o,u,O)}}function Xi(o,u){var m=o.ref,x=o.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(w){Ot(o,u,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(w){Ot(o,u,w)}else m.current=null}function mi(o){var u=o.type,m=o.memoizedProps,x=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(w){Ot(o,o.return,w)}}function zl(o,u,m){try{var x=o.stateNode;hB(x,o.type,m,u),x[pn]=u}catch(w){Ot(o,o.return,w)}}function Pu(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27||o.tag===4}function mm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Pu(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==27&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ro(o,u,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(o,u):m.insertBefore(o,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(o,m)):(u=m,u.appendChild(o)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=ab));else if(x!==4&&x!==27&&(o=o.child,o!==null))for(Ro(o,u,m),o=o.sibling;o!==null;)Ro(o,u,m),o=o.sibling}function $c(o,u,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(x!==4&&x!==27&&(o=o.child,o!==null))for($c(o,u,m),o=o.sibling;o!==null;)$c(o,u,m),o=o.sibling}var Lu=!1,pr=!1,eh=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,ra=null,Ng=!1;function Zd(o,u){if(o=o.containerInfo,pE=hb,o=ht(o),Bt(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var w=x.anchorOffset,O=x.focusNode;x=x.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break e}var q=0,ie=-1,be=-1,ze=0,ot=0,Tt=o,qe=null;t:for(;;){for(var rt;Tt!==m||w!==0&&Tt.nodeType!==3||(ie=q+w),Tt!==O||x!==0&&Tt.nodeType!==3||(be=q+x),Tt.nodeType===3&&(q+=Tt.nodeValue.length),(rt=Tt.firstChild)!==null;)qe=Tt,Tt=rt;for(;;){if(Tt===o)break t;if(qe===m&&++ze===w&&(ie=q),qe===O&&++ot===x&&(be=q),(rt=Tt.nextSibling)!==null)break;Tt=qe,qe=Tt.parentNode}Tt=rt}m=ie===-1||be===-1?null:{start:ie,end:be}}else m=null}m=m||{start:0,end:0}}else m=null;for(mE={focusedElem:o,selectionRange:m},hb=!1,ra=u;ra!==null;)if(u=ra,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,ra=o;else for(;ra!==null;){switch(u=ra,O=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&O!==null){o=void 0,m=u,w=O.memoizedProps,O=O.memoizedState,x=m.stateNode;try{var dn=uc(m.type,w,m.elementType===m.type);o=x.getSnapshotBeforeUpdate(dn,O),x.__reactInternalSnapshotBeforeUpdate=o}catch(Vn){Ot(m,m.return,Vn)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,m=o.nodeType,m===9)xE(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":xE(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=u.sibling,o!==null){o.return=u.return,ra=o;break}ra=u.return}return dn=Ng,Ng=!1,dn}function Kd(o,u,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:mc(o,m),x&4&&na(5,m);break;case 1:if(mc(o,m),x&4)if(o=m.stateNode,u===null)try{o.componentDidMount()}catch(ie){Ot(m,m.return,ie)}else{var w=uc(m.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(w,u,o.__reactInternalSnapshotBeforeUpdate)}catch(ie){Ot(m,m.return,ie)}}x&64&&Jc(m),x&512&&ia(m,m.return);break;case 3:if(mc(o,m),x&64&&(x=m.updateQueue,x!==null)){if(o=null,m.child!==null)switch(m.child.tag){case 27:case 5:o=m.child.stateNode;break;case 1:o=m.child.stateNode}try{pc(x,o)}catch(ie){Ot(m,m.return,ie)}}break;case 26:mc(o,m),x&512&&ia(m,m.return);break;case 27:case 5:mc(o,m),u===null&&x&4&&mi(m),x&512&&ia(m,m.return);break;case 12:mc(o,m);break;case 13:mc(o,m),x&4&&eb(o,m);break;case 22:if(w=m.memoizedState!==null||Lu,!w){u=u!==null&&u.memoizedState!==null||pr;var O=Lu,q=pr;Lu=w,(pr=u)&&!q?Uu(o,m,(m.subtreeFlags&8772)!==0):mc(o,m),Lu=O,pr=q}x&512&&(m.memoizedProps.mode==="manual"?ia(m,m.return):Xi(m,m.return));break;default:mc(o,m)}}function Ug(o){var u=o.alternate;u!==null&&(o.alternate=null,Ug(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&su(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var mr=null,es=!1;function As(o,u,m){for(m=m.child;m!==null;)Ig(o,u,m),m=m.sibling}function Ig(o,u,m){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(lt,m)}catch{}switch(m.tag){case 26:pr||Xi(m,u),As(o,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:pr||Xi(m,u);var x=mr,w=es;for(mr=m.stateNode,As(o,u,m),m=m.stateNode,u=m.attributes;u.length;)m.removeAttributeNode(u[0]);su(m),mr=x,es=w;break;case 5:pr||Xi(m,u);case 6:w=mr;var O=es;if(mr=null,As(o,u,m),mr=w,es=O,mr!==null)if(es)try{o=mr,x=m.stateNode,o.nodeType===8?o.parentNode.removeChild(x):o.removeChild(x)}catch(q){Ot(m,u,q)}else try{mr.removeChild(m.stateNode)}catch(q){Ot(m,u,q)}break;case 18:mr!==null&&(es?(u=mr,m=m.stateNode,u.nodeType===8?vE(u.parentNode,m):u.nodeType===1&&vE(u,m),Wv(u)):vE(mr,m.stateNode));break;case 4:x=mr,w=es,mr=m.stateNode.containerInfo,es=!0,As(o,u,m),mr=x,es=w;break;case 0:case 11:case 14:case 15:pr||Il(2,m,u),pr||Il(4,m,u),As(o,u,m);break;case 1:pr||(Xi(m,u),x=m.stateNode,typeof x.componentWillUnmount=="function"&&pm(m,u,x)),As(o,u,m);break;case 21:As(o,u,m);break;case 22:pr||Xi(m,u),pr=(x=pr)||m.memoizedState!==null,As(o,u,m),pr=x;break;default:As(o,u,m)}}function eb(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Wv(o)}catch(m){Ot(u,u.return,m)}}function gm(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new Lg),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new Lg),u;default:throw Error(i(435,o.tag))}}function ym(o,u){var m=gm(o);u.forEach(function(x){var w=Ye.bind(null,o,x);m.has(x)||(m.add(x),x.then(w,w))})}function Js(o,u){var m=u.deletions;if(m!==null)for(var x=0;x<m.length;x++){var w=m[x],O=o,q=u,ie=q;e:for(;ie!==null;){switch(ie.tag){case 27:case 5:mr=ie.stateNode,es=!1;break e;case 3:mr=ie.stateNode.containerInfo,es=!0;break e;case 4:mr=ie.stateNode.containerInfo,es=!0;break e}ie=ie.return}if(mr===null)throw Error(i(160));Ig(O,q,w),mr=null,es=!1,O=w.alternate,O!==null&&(O.return=null),w.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)qh(u,o),u=u.sibling}var Cs=null;function qh(o,u){var m=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Js(u,o),Rs(o),x&4&&(Il(3,o,o.return),na(3,o),Il(5,o,o.return));break;case 1:Js(u,o),Rs(o),x&512&&(pr||m===null||Xi(m,m.return)),x&64&&Lu&&(o=o.updateQueue,o!==null&&(x=o.callbacks,x!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var w=Cs;if(Js(u,o),Rs(o),x&512&&(pr||m===null||Xi(m,m.return)),x&4){var O=m!==null?m.memoizedState:null;if(x=o.memoizedState,m===null)if(x===null)if(o.stateNode===null){e:{x=o.type,m=o.memoizedProps,w=w.ownerDocument||w;t:switch(x){case"title":O=w.getElementsByTagName("title")[0],(!O||O[lo]||O[mn]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=w.createElement(x),w.head.insertBefore(O,w.querySelector("head > title"))),no(O,x,m),O[mn]=o,Ce(O),x=O;break e;case"link":var q=F2("link","href",w).get(x+(m.href||""));if(q){for(var ie=0;ie<q.length;ie++)if(O=q[ie],O.getAttribute("href")===(m.href==null?null:m.href)&&O.getAttribute("rel")===(m.rel==null?null:m.rel)&&O.getAttribute("title")===(m.title==null?null:m.title)&&O.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){q.splice(ie,1);break t}}O=w.createElement(x),no(O,x,m),w.head.appendChild(O);break;case"meta":if(q=F2("meta","content",w).get(x+(m.content||""))){for(ie=0;ie<q.length;ie++)if(O=q[ie],O.getAttribute("content")===(m.content==null?null:""+m.content)&&O.getAttribute("name")===(m.name==null?null:m.name)&&O.getAttribute("property")===(m.property==null?null:m.property)&&O.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&O.getAttribute("charset")===(m.charSet==null?null:m.charSet)){q.splice(ie,1);break t}}O=w.createElement(x),no(O,x,m),w.head.appendChild(O);break;default:throw Error(i(468,x))}O[mn]=o,Ce(O),x=O}o.stateNode=x}else H2(w,o.type,o.stateNode);else o.stateNode=B2(w,x,o.memoizedProps);else O!==x?(O===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):O.count--,x===null?H2(w,o.type,o.stateNode):B2(w,x,o.memoizedProps)):x===null&&o.stateNode!==null&&zl(o,o.memoizedProps,m.memoizedProps)}break;case 27:if(x&4&&o.alternate===null){w=o.stateNode,O=o.memoizedProps;try{for(var be=w.firstChild;be;){var ze=be.nextSibling,ot=be.nodeName;be[lo]||ot==="HEAD"||ot==="BODY"||ot==="SCRIPT"||ot==="STYLE"||ot==="LINK"&&be.rel.toLowerCase()==="stylesheet"||w.removeChild(be),be=ze}for(var Tt=o.type,qe=w.attributes;qe.length;)w.removeAttributeNode(qe[0]);no(w,Tt,O),w[mn]=o,w[pn]=O}catch(dn){Ot(o,o.return,dn)}}case 5:if(Js(u,o),Rs(o),x&512&&(pr||m===null||Xi(m,m.return)),o.flags&32){w=o.stateNode;try{ou(w,"")}catch(dn){Ot(o,o.return,dn)}}x&4&&o.stateNode!=null&&(w=o.memoizedProps,zl(o,w,m!==null?m.memoizedProps:w)),x&1024&&(eh=!0);break;case 6:if(Js(u,o),Rs(o),x&4){if(o.stateNode===null)throw Error(i(162));x=o.memoizedProps,m=o.stateNode;try{m.nodeValue=x}catch(dn){Ot(o,o.return,dn)}}break;case 3:if(ub=null,w=Cs,Cs=ob(u.containerInfo),Js(u,o),Cs=w,Rs(o),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Wv(u.containerInfo)}catch(dn){Ot(o,o.return,dn)}eh&&(eh=!1,th(o));break;case 4:x=Cs,Cs=ob(o.stateNode.containerInfo),Js(u,o),Rs(o),Cs=x;break;case 12:Js(u,o),Rs(o);break;case 13:Js(u,o),Rs(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Jn=$()),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,ym(o,x)));break;case 22:if(x&512&&(pr||m===null||Xi(m,m.return)),be=o.memoizedState!==null,ze=m!==null&&m.memoizedState!==null,ot=Lu,Tt=pr,Lu=ot||be,pr=Tt||ze,Js(u,o),pr=Tt,Lu=ot,Rs(o),u=o.stateNode,u._current=o,u._visibility&=-3,u._visibility|=u._pendingVisibility&2,x&8192&&(u._visibility=be?u._visibility&-2:u._visibility|1,be&&(u=Lu||pr,m===null||ze||u||Nu(o)),o.memoizedProps===null||o.memoizedProps.mode!=="manual"))e:for(m=null,u=o;;){if(u.tag===5||u.tag===26||u.tag===27){if(m===null){ze=m=u;try{if(w=ze.stateNode,be)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{q=ze.stateNode,ie=ze.memoizedProps.style;var rt=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;q.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(dn){Ot(ze,ze.return,dn)}}}else if(u.tag===6){if(m===null){ze=u;try{ze.stateNode.nodeValue=be?"":ze.memoizedProps}catch(dn){Ot(ze,ze.return,dn)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=o.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,ym(o,m))));break;case 19:Js(u,o),Rs(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,ym(o,x)));break;case 21:break;default:Js(u,o),Rs(o)}}function Rs(o){var u=o.flags;if(u&2){try{if(o.tag!==27){e:{for(var m=o.return;m!==null;){if(Pu(m)){var x=m;break e}m=m.return}throw Error(i(160))}switch(x.tag){case 27:var w=x.stateNode,O=mm(o);$c(o,O,w);break;case 5:var q=x.stateNode;x.flags&32&&(ou(q,""),x.flags&=-33);var ie=mm(o);$c(o,ie,q);break;case 3:case 4:var be=x.stateNode.containerInfo,ze=mm(o);Ro(o,ze,be);break;default:throw Error(i(161))}}}catch(ot){Ot(o,o.return,ot)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function th(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;th(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function mc(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Kd(o,u.alternate,u),u=u.sibling}function Nu(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Il(4,u,u.return),Nu(u);break;case 1:Xi(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&pm(u,u.return,m),Nu(u);break;case 26:case 27:case 5:Xi(u,u.return),Nu(u);break;case 22:Xi(u,u.return),u.memoizedState===null&&Nu(u);break;default:Nu(u)}o=o.sibling}}function Uu(o,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,w=o,O=u,q=O.flags;switch(O.tag){case 0:case 11:case 15:Uu(w,O,m),na(4,O);break;case 1:if(Uu(w,O,m),x=O,w=x.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ze){Ot(x,x.return,ze)}if(x=O,w=x.updateQueue,w!==null){var ie=x.stateNode;try{var be=w.shared.hiddenCallbacks;if(be!==null)for(w.shared.hiddenCallbacks=null,w=0;w<be.length;w++)dc(be[w],ie)}catch(ze){Ot(x,x.return,ze)}}m&&q&64&&Jc(O),ia(O,O.return);break;case 26:case 27:case 5:Uu(w,O,m),m&&x===null&&q&4&&mi(O),ia(O,O.return);break;case 12:Uu(w,O,m);break;case 13:Uu(w,O,m),m&&q&4&&eb(w,O);break;case 22:O.memoizedState===null&&Uu(w,O,m),ia(O,O.return);break;default:Uu(w,O,m)}u=u.sibling}}function Do(o,u){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Eo(m))}function kl(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Eo(o))}function sr(o,u,m,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)ef(o,u,m,x),u=u.sibling}function ef(o,u,m,x){var w=u.flags;switch(u.tag){case 0:case 11:case 15:sr(o,u,m,x),w&2048&&na(9,u);break;case 3:sr(o,u,m,x),w&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Eo(o)));break;case 12:if(w&2048){sr(o,u,m,x),o=u.stateNode;try{var O=u.memoizedProps,q=O.id,ie=O.onPostCommit;typeof ie=="function"&&ie(q,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(be){Ot(u,u.return,be)}}else sr(o,u,m,x);break;case 23:break;case 22:O=u.stateNode,u.memoizedState!==null?O._visibility&4?sr(o,u,m,x):Si(o,u):O._visibility&4?sr(o,u,m,x):(O._visibility|=4,In(o,u,m,x,(u.subtreeFlags&10256)!==0)),w&2048&&Do(u.alternate,u);break;case 24:sr(o,u,m,x),w&2048&&kl(u.alternate,u);break;default:sr(o,u,m,x)}}function In(o,u,m,x,w){for(w=w&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var O=o,q=u,ie=m,be=x,ze=q.flags;switch(q.tag){case 0:case 11:case 15:In(O,q,ie,be,w),na(8,q);break;case 23:break;case 22:var ot=q.stateNode;q.memoizedState!==null?ot._visibility&4?In(O,q,ie,be,w):Si(O,q):(ot._visibility|=4,In(O,q,ie,be,w)),w&&ze&2048&&Do(q.alternate,q);break;case 24:In(O,q,ie,be,w),w&&ze&2048&&kl(q.alternate,q);break;default:In(O,q,ie,be,w)}u=u.sibling}}function Si(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=o,x=u,w=x.flags;switch(x.tag){case 22:Si(m,x),w&2048&&Do(x.alternate,x);break;case 24:Si(m,x),w&2048&&kl(x.alternate,x);break;default:Si(m,x)}u=u.sibling}}var Rr=8192;function tf(o){if(o.subtreeFlags&Rr)for(o=o.child;o!==null;)Zh(o),o=o.sibling}function Zh(o){switch(o.tag){case 26:tf(o),o.flags&Rr&&o.memoizedState!==null&&OB(Cs,o.memoizedState,o.memoizedProps);break;case 5:tf(o);break;case 3:case 4:var u=Cs;Cs=ob(o.stateNode.containerInfo),tf(o),Cs=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=Rr,Rr=16777216,tf(o),Rr=u):tf(o));break;default:tf(o)}}function nh(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function ih(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];ra=x,tb(x,o)}nh(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Qd(o),o=o.sibling}function Qd(o){switch(o.tag){case 0:case 11:case 15:ih(o),o.flags&2048&&Il(9,o,o.return);break;case 3:ih(o);break;case 12:ih(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&4&&(o.return===null||o.return.tag!==13)?(u._visibility&=-5,nf(o)):ih(o);break;default:ih(o)}}function nf(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];ra=x,tb(x,o)}nh(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Il(8,u,u.return),nf(u);break;case 22:m=u.stateNode,m._visibility&4&&(m._visibility&=-5,nf(u));break;default:nf(u)}o=o.sibling}}function tb(o,u){for(;ra!==null;){var m=ra;switch(m.tag){case 0:case 11:case 15:Il(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Eo(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,ra=x;else e:for(m=o;ra!==null;){x=ra;var w=x.sibling,O=x.return;if(Ug(x),x===m){ra=null;break e}if(w!==null){w.return=O,ra=w;break e}ra=O}}}function Ov(o,u,m,x){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(o,u,m,x){return new Ov(o,u,m,x)}function rf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $s(o,u){var m=o.alternate;return m===null?(m=aa(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&31457280,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function rh(o,u){o.flags&=31457282;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,u=m.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Jd(o,u,m,x,w,O){var q=0;if(x=o,typeof o=="function")rf(o)&&(q=1);else if(typeof o=="string")q=RB(o,m,Yt.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case c:return ah(m.children,w,O,u);case f:q=8,w|=24;break;case p:return o=aa(12,m,u,w|2),o.elementType=p,o.lanes=O,o;case D:return o=aa(13,m,u,w),o.elementType=D,o.lanes=O,o;case M:return o=aa(19,m,u,w),o.elementType=M,o.lanes=O,o;case P:return Pv(m,w,O,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case g:case v:q=10;break e;case y:q=9;break e;case _:q=11;break e;case S:q=14;break e;case N:q=16,x=null;break e}q=29,m=Error(i(130,o===null?"null":typeof o,"")),x=null}return u=aa(q,m,u,w),u.elementType=o,u.type=x,u.lanes=O,u}function ah(o,u,m,x){return o=aa(7,o,x,u),o.lanes=m,o}function Pv(o,u,m,x){o=aa(22,o,x,u),o.elementType=P,o.lanes=m;var w={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var O=w._current;if(O===null)throw Error(i(456));if((w._pendingVisibility&2)===0){var q=ga(O,2);q!==null&&(w._pendingVisibility|=2,Ta(q,O,2))}},attach:function(){var O=w._current;if(O===null)throw Error(i(456));if((w._pendingVisibility&2)!==0){var q=ga(O,2);q!==null&&(w._pendingVisibility&=-3,Ta(q,O,2))}}};return o.stateNode=w,o}function Sa(o,u,m){return o=aa(6,o,null,u),o.lanes=m,o}function vm(o,u,m){return u=aa(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function Bl(o){o.flags|=4}function sh(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!V2(u)){if(u=Ur.current,u!==null&&((_n&4194176)===_n?hs!==null:(_n&62914560)!==_n&&(_n&536870912)===0||u!==hs))throw Au=ja,Xs;o.flags|=8192}}function Fl(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?bn():536870912,o.lanes|=u,yc|=u)}function xm(o,u){if(!Gn)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function zr(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,x=0;if(u)for(var w=o.child;w!==null;)m|=w.lanes|w.childLanes,x|=w.subtreeFlags&31457280,x|=w.flags&31457280,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)m|=w.lanes|w.childLanes,x|=w.subtreeFlags,x|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=x,o.childLanes=m,u}function sE(o,u,m){var x=u.pendingProps;switch(va(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(u),null;case 1:return zr(u),null;case 3:return m=u.stateNode,x=null,o!==null&&(x=o.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),Qc(Ji),et(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Gs(u)?Bl(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,hr!==null&&(Xl(hr),hr=null))),zr(u),null;case 26:return m=u.memoizedState,o===null?(Bl(u),m!==null?(zr(u),sh(u,m)):(zr(u),u.flags&=-16777217)):m?m!==o.memoizedState?(Bl(u),zr(u),sh(u,m)):(zr(u),u.flags&=-16777217):(o.memoizedProps!==x&&Bl(u),zr(u),u.flags&=-16777217),null;case 27:Ct(u),m=ye.current;var w=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==x&&Bl(u);else{if(!x){if(u.stateNode===null)throw Error(i(166));return zr(u),null}o=Yt.current,Gs(u)?Vi(u):(o=N2(w,x,m),u.stateNode=o,Bl(u))}return zr(u),null;case 5:if(Ct(u),m=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==x&&Bl(u);else{if(!x){if(u.stateNode===null)throw Error(i(166));return zr(u),null}if(o=Yt.current,Gs(u))Vi(u);else{switch(w=sb(ye.current),o){case 1:o=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:o=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":o=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":o=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":o=w.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof x.is=="string"?w.createElement("select",{is:x.is}):w.createElement("select"),x.multiple?o.multiple=!0:x.size&&(o.size=x.size);break;default:o=typeof x.is=="string"?w.createElement(m,{is:x.is}):w.createElement(m)}}o[mn]=u,o[pn]=x;e:for(w=u.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===u)break e;for(;w.sibling===null;){if(w.return===null||w.return===u)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}u.stateNode=o;e:switch(no(o,m,x),m){case"button":case"input":case"select":case"textarea":o=!!x.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Bl(u)}}return zr(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==x&&Bl(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(i(166));if(o=ye.current,Gs(u)){if(o=u.stateNode,m=u.memoizedProps,x=null,w=Ki,w!==null)switch(w.tag){case 27:case 5:x=w.memoizedProps}o[mn]=u,o=!!(o.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||C2(o.nodeValue,m)),o||Jo(u)}else o=sb(o).createTextNode(x),o[mn]=u,u.stateNode=o}return zr(u),null;case 13:if(x=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Gs(u),x!==null&&x.dehydrated!==null){if(o===null){if(!w)throw Error(i(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[mn]=u}else yo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;zr(u),w=!1}else hr!==null&&(Xl(hr),hr=null),w=!0;if(!w)return u.flags&256?(ds(u),u):(ds(u),null)}if(ds(u),(u.flags&128)!==0)return u.lanes=m,u;if(m=x!==null,o=o!==null&&o.memoizedState!==null,m){x=u.child,w=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(w=x.alternate.memoizedState.cachePool.pool);var O=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(O=x.memoizedState.cachePool.pool),O!==w&&(x.flags|=2048)}return m!==o&&m&&(u.child.flags|=8192),Fl(u,u.updateQueue),zr(u),null;case 4:return et(),o===null&&fE(u.stateNode.containerInfo),zr(u),null;case 10:return Qc(u.type),zr(u),null;case 19:if(St(Ii),w=u.memoizedState,w===null)return zr(u),null;if(x=(u.flags&128)!==0,O=w.rendering,O===null)if(x)xm(w,!1);else{if(gr!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(O=So(o),O!==null){for(u.flags|=128,xm(w,!1),o=O.updateQueue,u.updateQueue=o,Fl(u,o),u.subtreeFlags=0,o=m,m=u.child;m!==null;)rh(m,o),m=m.sibling;return ut(Ii,Ii.current&1|2),u.child}o=o.sibling}w.tail!==null&&$()>si&&(u.flags|=128,x=!0,xm(w,!1),u.lanes=4194304)}else{if(!x)if(o=So(O),o!==null){if(u.flags|=128,x=!0,o=o.updateQueue,u.updateQueue=o,Fl(u,o),xm(w,!0),w.tail===null&&w.tailMode==="hidden"&&!O.alternate&&!Gn)return zr(u),null}else 2*$()-w.renderingStartTime>si&&m!==536870912&&(u.flags|=128,x=!0,xm(w,!1),u.lanes=4194304);w.isBackwards?(O.sibling=u.child,u.child=O):(o=w.last,o!==null?o.sibling=O:u.child=O,w.last=O)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=$(),u.sibling=null,o=Ii.current,ut(Ii,x?o&1|2:o&1),u):(zr(u),null);case 22:case 23:return ds(u),_o(),x=u.memoizedState!==null,o!==null?o.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(m&536870912)!==0&&(u.flags&128)===0&&(zr(u),u.subtreeFlags&6&&(u.flags|=8192)):zr(u),m=u.updateQueue,m!==null&&Fl(u,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==m&&(u.flags|=2048),o!==null&&St(Ae),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Qc(Ji),zr(u),null;case 25:return null}throw Error(i(156,u.tag))}function jr(o,u){switch(va(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Qc(Ji),et(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ct(u),null;case 13:if(ds(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(i(340));yo()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return St(Ii),null;case 4:return et(),null;case 10:return Qc(u.type),null;case 22:case 23:return ds(u),_o(),o!==null&&St(Ae),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Qc(Ji),null;case 25:return null;default:return null}}function Lv(o,u){switch(va(u),u.tag){case 3:Qc(Ji),et();break;case 26:case 27:case 5:Ct(u);break;case 4:et();break;case 13:ds(u);break;case 19:St(Ii);break;case 10:Qc(u.type);break;case 22:case 23:ds(u),_o(),o!==null&&St(Ae);break;case 24:Qc(Ji)}}var Kh={getCacheForType:function(o){var u=ws(Ji),m=u.data.get(o);return m===void 0&&(m=o(),u.data.set(o,m)),m}},af=typeof WeakMap=="function"?WeakMap:Map,zn=0,Wi=null,ii=null,_n=0,er=0,Ei=null,sa=!1,Ds=!1,oh=!1,sf=0,gr=0,Iu=0,gc=0,$d=0,eo=0,yc=0,bm=null,ai=null,Yi=!1,Jn=0,si=1/0,Fi=null,Ea=null,Hl=!1,Vl=null,Qh=0,zu=0,Dr=null,Gl=0,of=null;function to(){if((zn&2)!==0&&_n!==0)return _n&-_n;if(B.T!==null){var o=z;return o!==0?o:oE()}return au()}function sl(){eo===0&&(eo=(_n&536870912)===0||Gn?Sn():536870912);var o=Ur.current;return o!==null&&(o.flags|=32),eo}function Ta(o,u,m){(o===Wi&&er===2||o.cancelPendingCommit!==null)&&(lf(o,0),ol(o,_n,eo,!1)),vr(o,m),((zn&2)===0||o!==Wi)&&(o===Wi&&((zn&2)===0&&(gc|=m),gr===4&&ol(o,_n,eo,!1)),tr(o))}function ep(o,u,m){if((zn&6)!==0)throw Error(i(327));var x=!m&&(u&60)===0&&(u&o.expiredLanes)===0||Wt(o,u),w=x?h(o,u):$h(o,u,!0),O=x;do{if(w===0){Ds&&!x&&ol(o,u,0,!1);break}else if(w===6)ol(o,u,0,!sa);else{if(m=o.current.alternate,O&&!Nv(m)){w=$h(o,u,!1),O=!1;continue}if(w===2){if(O=u,o.errorRecoveryDisabledLanes&O)var q=0;else q=o.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){u=q;e:{var ie=o;w=bm;var be=ie.current.memoizedState.isDehydrated;if(be&&(lf(ie,q).flags|=256),q=$h(ie,q,!1),q!==2){if(oh&&!be){ie.errorRecoveryDisabledLanes|=O,gc|=O,w=4;break e}O=ai,ai=w,O!==null&&Xl(O)}w=q}if(O=!1,w!==2)continue}}if(w===1){lf(o,0),ol(o,u,0,!0);break}e:{switch(x=o,w){case 0:case 1:throw Error(i(345));case 4:if((u&4194176)===u){ol(x,u,eo,!sa);break e}break;case 2:ai=null;break;case 3:case 5:break;default:throw Error(i(329))}if(x.finishedWork=m,x.finishedLanes=u,(u&62914560)===u&&(O=Jn+300-$(),10<O)){if(ol(x,u,eo,!sa),ft(x,0)!==0)break e;x.timeoutHandle=O2(zg.bind(null,x,m,ai,Fi,Yi,u,eo,gc,yc,sa,2,-0,0),O);break e}zg(x,m,ai,Fi,Yi,u,eo,gc,yc,sa,0,-0,0)}}break}while(!0);tr(o)}function Xl(o){ai===null?ai=o:ai.push.apply(ai,o)}function zg(o,u,m,x,w,O,q,ie,be,ze,ot,Tt,qe){var rt=u.subtreeFlags;if((rt&8192||(rt&16785408)===16785408)&&(Fv={stylesheets:null,count:0,unsuspend:DB},Zh(u),u=PB(),u!==null)){o.cancelPendingCommit=u(Ee.bind(null,o,m,x,w,q,ie,be,1,Tt,qe)),ol(o,O,q,!ze);return}Ee(o,m,x,w,q,ie,be,ot,Tt,qe)}function Nv(o){for(var u=o;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var w=m[x],O=w.getSnapshot;w=w.value;try{if(!K(O(),w))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ol(o,u,m,x){u&=~$d,u&=~gc,o.suspendedLanes|=u,o.pingedLanes&=~u,x&&(o.warmLanes|=u),x=o.expirationTimes;for(var w=u;0<w;){var O=31-gt(w),q=1<<O;x[O]=-1,w&=~q}m!==0&&xr(o,m,u)}function Jh(){return(zn&6)===0?(li(0),!1):!0}function vc(){if(ii!==null){if(er===0)var o=ii.return;else o=ii,Du=hc=null,ac(o),fs=null,wr=0,o=ii;for(;o!==null;)Lv(o.alternate,o),o=o.return;ii=null}}function lf(o,u){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,pB(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),vc(),Wi=o,ii=m=$s(o.current,null),_n=u,er=0,Ei=null,sa=!1,Ds=Wt(o,u),oh=!1,yc=eo=$d=gc=Iu=gr=0,ai=bm=null,Yi=!1,(u&8)!==0&&(u|=u&32);var x=o.entangledLanes;if(x!==0)for(o=o.entanglements,x&=u;0<x;){var w=31-gt(x),O=1<<w;u|=o[w],x&=~O}return sf=u,Ya(),m}function lh(o,u){Ut=null,B.H=tl,u===cs?(u=Un(),er=3):u===Xs?(u=Un(),er=4):er=u===ka?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ei=u,ii===null&&(gr=1,qc(o,Gr(u,o.current)))}function tp(){var o=B.H;return B.H=tl,o===null?tl:o}function kg(){var o=B.A;return B.A=Kh,o}function _m(){gr=4,sa||(_n&4194176)!==_n&&Ur.current!==null||(Ds=!0),(Iu&134217727)===0&&(gc&134217727)===0||Wi===null||ol(Wi,_n,eo,!1)}function $h(o,u,m){var x=zn;zn|=2;var w=tp(),O=kg();(Wi!==o||_n!==u)&&(Fi=null,lf(o,u)),u=!1;var q=gr;e:do try{if(er!==0&&ii!==null){var ie=ii,be=Ei;switch(er){case 8:vc(),q=6;break e;case 3:case 2:case 6:Ur.current===null&&(u=!0);var ze=er;if(er=0,Ei=null,L(o,ie,be,ze),m&&Ds){q=0;break e}break;default:ze=er,er=0,Ei=null,L(o,ie,be,ze)}}Uv(),q=gr;break}catch(ot){lh(o,ot)}while(!0);return u&&o.shellSuspendCounter++,Du=hc=null,zn=x,B.H=w,B.A=O,ii===null&&(Wi=null,_n=0,Ya()),q}function Uv(){for(;ii!==null;)b(ii)}function h(o,u){var m=zn;zn|=2;var x=tp(),w=kg();Wi!==o||_n!==u?(Fi=null,si=$()+500,lf(o,u)):Ds=Wt(o,u);e:do try{if(er!==0&&ii!==null){u=ii;var O=Ei;t:switch(er){case 1:er=0,Ei=null,L(o,u,O,1);break;case 2:if(Ua(O)){er=0,Ei=null,C(u);break}u=function(){er===2&&Wi===o&&(er=7),tr(o)},O.then(u,u);break e;case 3:er=7;break e;case 4:er=5;break e;case 7:Ua(O)?(er=0,Ei=null,C(u)):(er=0,Ei=null,L(o,u,O,7));break;case 5:var q=null;switch(ii.tag){case 26:q=ii.memoizedState;case 5:case 27:var ie=ii;if(!q||V2(q)){er=0,Ei=null;var be=ie.sibling;if(be!==null)ii=be;else{var ze=ie.return;ze!==null?(ii=ze,V(ze)):ii=null}break t}}er=0,Ei=null,L(o,u,O,5);break;case 6:er=0,Ei=null,L(o,u,O,6);break;case 8:vc(),gr=6;break e;default:throw Error(i(462))}}d();break}catch(ot){lh(o,ot)}while(!0);return Du=hc=null,B.H=x,B.A=w,zn=m,ii!==null?0:(Wi=null,_n=0,Ya(),gr)}function d(){for(;ii!==null&&!on();)b(ii)}function b(o){var u=hm(o.alternate,o,sf);o.memoizedProps=o.pendingProps,u===null?V(o):ii=u}function C(o){var u=o,m=u.alternate;switch(u.tag){case 15:case 0:u=cm(m,u,u.pendingProps,u.type,void 0,_n);break;case 11:u=cm(m,u,u.pendingProps,u.type.render,u.ref,_n);break;case 5:ac(u);default:Lv(m,u),u=ii=rh(u,sf),u=hm(m,u,sf)}o.memoizedProps=o.pendingProps,u===null?V(o):ii=u}function L(o,u,m,x){Du=hc=null,ac(u),fs=null,wr=0;var w=u.return;try{if(Hh(o,w,u,m,_n)){gr=1,qc(o,Gr(m,o.current)),ii=null;return}}catch(O){if(w!==null)throw ii=w,O;gr=1,qc(o,Gr(m,o.current)),ii=null;return}u.flags&32768?(Gn||x===1?o=!0:Ds||(_n&536870912)!==0?o=!1:(sa=o=!0,(x===2||x===3||x===6)&&(x=Ur.current,x!==null&&x.tag===13&&(x.flags|=16384))),re(u,o)):V(u)}function V(o){var u=o;do{if((u.flags&32768)!==0){re(u,sa);return}o=u.return;var m=sE(u.alternate,u,sf);if(m!==null){ii=m;return}if(u=u.sibling,u!==null){ii=u;return}ii=u=o}while(u!==null);gr===0&&(gr=5)}function re(o,u){do{var m=jr(o.alternate,o);if(m!==null){m.flags&=32767,ii=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(o=o.sibling,o!==null)){ii=o;return}ii=o=m}while(o!==null);gr=6,ii=null}function Ee(o,u,m,x,w,O,q,ie,be,ze){var ot=B.T,Tt=Oe.p;try{Oe.p=2,B.T=null,He(o,u,m,x,Tt,w,O,q,ie,be,ze)}finally{B.T=ot,Oe.p=Tt}}function He(o,u,m,x,w,O,q,ie){do Pt();while(Vl!==null);if((zn&6)!==0)throw Error(i(327));var be=o.finishedWork;if(x=o.finishedLanes,be===null)return null;if(o.finishedWork=null,o.finishedLanes=0,be===o.current)throw Error(i(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var ze=be.lanes|be.childLanes;if(ze|=us,hi(o,x,ze,O,q,ie),o===Wi&&(ii=Wi=null,_n=0),(be.subtreeFlags&10256)===0&&(be.flags&10256)===0||Hl||(Hl=!0,zu=ze,Dr=m,ke(Ie,function(){return Pt(),null})),m=(be.flags&15990)!==0,(be.subtreeFlags&15990)!==0||m?(m=B.T,B.T=null,O=Oe.p,Oe.p=2,q=zn,zn|=4,Zd(o,be),qh(be,o),Mt(mE,o.containerInfo),hb=!!pE,mE=pE=null,o.current=be,Kd(o,be.alternate,be),he(),zn=q,Oe.p=O,B.T=m):o.current=be,Hl?(Hl=!1,Vl=o,Qh=x):st(o,ze),ze=o.pendingLanes,ze===0&&(Ea=null),sn(be.stateNode),tr(o),u!==null)for(w=o.onRecoverableError,be=0;be<u.length;be++)ze=u[be],w(ze.value,{componentStack:ze.stack});return(Qh&3)!==0&&Pt(),ze=o.pendingLanes,(x&4194218)!==0&&(ze&42)!==0?o===of?Gl++:(Gl=0,of=o):Gl=0,li(0),null}function st(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Eo(u)))}function Pt(){if(Vl!==null){var o=Vl,u=zu;zu=0;var m=Fa(Qh),x=B.T,w=Oe.p;try{if(Oe.p=32>m?32:m,B.T=null,Vl===null)var O=!1;else{m=Dr,Dr=null;var q=Vl,ie=Qh;if(Vl=null,Qh=0,(zn&6)!==0)throw Error(i(331));var be=zn;if(zn|=4,Qd(q.current),ef(q,q.current,ie,m),zn=be,li(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(lt,q)}catch{}O=!0}return O}finally{Oe.p=w,B.T=x,st(o,u)}}return!1}function jt(o,u,m){u=Gr(m,u),u=Zc(o.stateNode,u,2),o=al(o,u,2),o!==null&&(vr(o,2),tr(o))}function Ot(o,u,m){if(o.tag===3)jt(o,o,m);else for(;u!==null;){if(u.tag===3){jt(u,o,m);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ea===null||!Ea.has(x))){o=Gr(m,o),m=Vd(2),x=al(u,m,2),x!==null&&(Zf(m,x,u,o),vr(x,2),tr(x));break}}u=u.return}}function kn(o,u,m){var x=o.pingCache;if(x===null){x=o.pingCache=new af;var w=new Set;x.set(u,w)}else w=x.get(u),w===void 0&&(w=new Set,x.set(u,w));w.has(m)||(oh=!0,w.add(m),o=Wl.bind(null,o,u,m),u.then(o,o))}function Wl(o,u,m){var x=o.pingCache;x!==null&&x.delete(u),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,Wi===o&&(_n&m)===m&&(gr===4||gr===3&&(_n&62914560)===_n&&300>$()-Jn?(zn&2)===0&&lf(o,0):$d|=m,yc===_n&&(yc=0)),tr(o)}function np(o,u){u===0&&(u=bn()),o=ga(o,u),o!==null&&(vr(o,u),tr(o))}function ed(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),np(o,m)}function Ye(o,u){var m=0;switch(o.tag){case 13:var x=o.stateNode,w=o.memoizedState;w!==null&&(m=w.retryLane);break;case 19:x=o.stateNode;break;case 22:x=o.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(u),np(o,m)}function ke(o,u){return mt(o,u)}var Ze=null,At=null,hn=!1,ji=!1,Tn=!1,ri=0;function tr(o){o!==At&&o.next===null&&(At===null?Ze=At=o:At=At.next=o),ji=!0,hn||(hn=!0,aB(uh))}function li(o,u){if(!Tn&&ji){Tn=!0;do for(var m=!1,x=Ze;x!==null;){if(o!==0){var w=x.pendingLanes;if(w===0)var O=0;else{var q=x.suspendedLanes,ie=x.pingedLanes;O=(1<<31-gt(42|o)+1)-1,O&=w&~(q&~ie),O=O&201326677?O&201326677|1:O?O|2:0}O!==0&&(m=!0,_2(x,O))}else O=_n,O=ft(x,x===Wi?O:0),(O&3)===0||Wt(x,O)||(m=!0,_2(x,O));x=x.next}while(m);Tn=!1}}function uh(){ji=hn=!1;var o=0;ri!==0&&(dB()&&(o=ri),ri=0);for(var u=$(),m=null,x=Ze;x!==null;){var w=x.next,O=nb(x,u);O===0?(x.next=null,m===null?Ze=w:m.next=w,w===null&&(At=m)):(m=x,(o!==0||(O&3)!==0)&&(ji=!0)),x=w}li(o)}function nb(o,u){for(var m=o.suspendedLanes,x=o.pingedLanes,w=o.expirationTimes,O=o.pendingLanes&-62914561;0<O;){var q=31-gt(O),ie=1<<q,be=w[q];be===-1?((ie&m)===0||(ie&x)!==0)&&(w[q]=$t(ie,u)):be<=u&&(o.expiredLanes|=ie),O&=~ie}if(u=Wi,m=_n,m=ft(o,o===u?m:0),x=o.callbackNode,m===0||o===u&&er===2||o.cancelPendingCommit!==null)return x!==null&&x!==null&&Rt(x),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||Wt(o,m)){if(u=m&-m,u===o.callbackPriority)return u;switch(x!==null&&Rt(x),Fa(m)){case 2:case 8:m=De;break;case 32:m=Ie;break;case 268435456:m=it;break;default:m=Ie}return x=b2.bind(null,o),m=mt(m,x),o.callbackPriority=u,o.callbackNode=m,u}return x!==null&&x!==null&&Rt(x),o.callbackPriority=2,o.callbackNode=null,2}function b2(o,u){var m=o.callbackNode;if(Pt()&&o.callbackNode!==m)return null;var x=_n;return x=ft(o,o===Wi?x:0),x===0?null:(ep(o,x,u),nb(o,$()),o.callbackNode!=null&&o.callbackNode===m?b2.bind(null,o):null)}function _2(o,u){if(Pt())return null;ep(o,u,!0)}function aB(o){mB(function(){(zn&6)!==0?mt(me,o):o()})}function oE(){return ri===0&&(ri=Sn()),ri}function S2(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:uu(""+o)}function E2(o,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,o.id&&m.setAttribute("form",o.id),u.parentNode.insertBefore(m,u),o=new FormData(o),m.parentNode.removeChild(m),o}function sB(o,u,m,x,w){if(u==="submit"&&m&&m.stateNode===w){var O=S2((w[pn]||null).action),q=x.submitter;q&&(u=(u=q[pn]||null)?S2(u.formAction):q.getAttribute("formAction"),u!==null&&(O=u,q=null));var ie=new hu("action","action",null,x,w);o.push({event:ie,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(ri!==0){var be=q?E2(w,q):new FormData(w);Vc(m,{pending:!0,data:be,method:w.method,action:O},null,be)}}else typeof O=="function"&&(ie.preventDefault(),be=q?E2(w,q):new FormData(w),Vc(m,{pending:!0,data:be,method:w.method,action:O},O,be))},currentTarget:w}]})}}for(var lE=0;lE<rr.length;lE++){var uE=rr[lE],oB=uE.toLowerCase(),lB=uE[0].toUpperCase()+uE.slice(1);ma(oB,"on"+lB)}ma(Wa,"onAnimationEnd"),ma(Ni,"onAnimationIteration"),ma(Ui,"onAnimationStart"),ma("dblclick","onDoubleClick"),ma("focusin","onFocus"),ma("focusout","onBlur"),ma(yn,"onTransitionRun"),ma(Pi,"onTransitionStart"),ma(Qr,"onTransitionCancel"),ma(Hr,"onTransitionEnd"),Ht("onMouseEnter",["mouseout","mouseover"]),Ht("onMouseLeave",["mouseout","mouseover"]),Ht("onPointerEnter",["pointerout","pointerover"]),Ht("onPointerLeave",["pointerout","pointerover"]),Ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iv));function T2(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var x=o[m],w=x.event;x=x.listeners;e:{var O=void 0;if(u)for(var q=x.length-1;0<=q;q--){var ie=x[q],be=ie.instance,ze=ie.currentTarget;if(ie=ie.listener,be!==O&&w.isPropagationStopped())break e;O=ie,w.currentTarget=ze;try{O(w)}catch(ot){Ul(ot)}w.currentTarget=null,O=be}else for(q=0;q<x.length;q++){if(ie=x[q],be=ie.instance,ze=ie.currentTarget,ie=ie.listener,be!==O&&w.isPropagationStopped())break e;O=ie,w.currentTarget=ze;try{O(w)}catch(ot){Ul(ot)}w.currentTarget=null,O=be}}}}function gi(o,u){var m=u[Br];m===void 0&&(m=u[Br]=new Set);var x=o+"__bubble";m.has(x)||(w2(u,o,2,!1),m.add(x))}function cE(o,u,m){var x=0;u&&(x|=4),w2(m,o,x,u)}var ib="_reactListening"+Math.random().toString(36).slice(2);function fE(o){if(!o[ib]){o[ib]=!0,_t.forEach(function(m){m!=="selectionchange"&&(uB.has(m)||cE(m,!1,o),cE(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[ib]||(u[ib]=!0,cE("selectionchange",!1,u))}}function w2(o,u,m,x){switch(q2(u)){case 2:var w=UB;break;case 8:w=IB;break;default:w=TE}m=w.bind(null,u,m,o),w=void 0,!Sl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),x?w!==void 0?o.addEventListener(u,m,{capture:!0,passive:w}):o.addEventListener(u,m,!0):w!==void 0?o.addEventListener(u,m,{passive:w}):o.addEventListener(u,m,!1)}function hE(o,u,m,x,w){var O=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var q=x.tag;if(q===3||q===4){var ie=x.stateNode.containerInfo;if(ie===w||ie.nodeType===8&&ie.parentNode===w)break;if(q===4)for(q=x.return;q!==null;){var be=q.tag;if((be===3||be===4)&&(be=q.stateNode.containerInfo,be===w||be.nodeType===8&&be.parentNode===w))return;q=q.return}for(;ie!==null;){if(q=ne(ie),q===null)return;if(be=q.tag,be===5||be===6||be===26||be===27){x=O=q;continue e}ie=ie.parentNode}}x=x.return}fu(function(){var ze=O,ot=bl(m),Tt=[];e:{var qe=La.get(o);if(qe!==void 0){var rt=hu,dn=o;switch(o){case"keypress":if(fo(m)===0)break e;case"keydown":case"keyup":rt=vu;break;case"focusin":dn="focus",rt=Qu;break;case"focusout":dn="blur",rt=Qu;break;case"beforeblur":case"afterblur":rt=Qu;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Yo;break;case Wa:case Ni:case Ui:rt=gu;break;case Hr:rt=Xa;break;case"scroll":case"scrollend":rt=Od;break;case"wheel":rt=Ld;break;case"copy":case"cut":case"paste":rt=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Pa;break;case"toggle":case"beforetoggle":rt=ho}var Vn=(u&4)!==0,wa=!Vn&&(o==="scroll"||o==="scrollend"),Fe=Vn?qe!==null?qe+"Capture":null:qe;Vn=[];for(var Pe=ze,Xe;Pe!==null;){var pt=Pe;if(Xe=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||Xe===null||Fe===null||(pt=co(Pe,Fe),pt!=null&&Vn.push(zv(Pe,pt,Xe))),wa)break;Pe=Pe.return}0<Vn.length&&(qe=new rt(qe,dn,null,m,ot),Tt.push({event:qe,listeners:Vn}))}}if((u&7)===0){e:{if(qe=o==="mouseover"||o==="pointerover",rt=o==="mouseout"||o==="pointerout",qe&&m!==ju&&(dn=m.relatedTarget||m.fromElement)&&(ne(dn)||dn[Oa]))break e;if((rt||qe)&&(qe=ot.window===ot?ot:(qe=ot.ownerDocument)?qe.defaultView||qe.parentWindow:window,rt?(dn=m.relatedTarget||m.toElement,rt=ze,dn=dn?ne(dn):null,dn!==null&&(wa=ve(dn),Vn=dn.tag,dn!==wa||Vn!==5&&Vn!==27&&Vn!==6)&&(dn=null)):(rt=null,dn=ze),rt!==dn)){if(Vn=mu,pt="onMouseLeave",Fe="onMouseEnter",Pe="mouse",(o==="pointerout"||o==="pointerover")&&(Vn=Pa,pt="onPointerLeave",Fe="onPointerEnter",Pe="pointer"),wa=rt==null?qe:Be(rt),Xe=dn==null?qe:Be(dn),qe=new Vn(pt,Pe+"leave",rt,m,ot),qe.target=wa,qe.relatedTarget=Xe,pt=null,ne(ot)===ze&&(Vn=new Vn(Fe,Pe+"enter",dn,m,ot),Vn.target=Xe,Vn.relatedTarget=wa,pt=Vn),wa=pt,rt&&dn)t:{for(Vn=rt,Fe=dn,Pe=0,Xe=Vn;Xe;Xe=Bg(Xe))Pe++;for(Xe=0,pt=Fe;pt;pt=Bg(pt))Xe++;for(;0<Pe-Xe;)Vn=Bg(Vn),Pe--;for(;0<Xe-Pe;)Fe=Bg(Fe),Xe--;for(;Pe--;){if(Vn===Fe||Fe!==null&&Vn===Fe.alternate)break t;Vn=Bg(Vn),Fe=Bg(Fe)}Vn=null}else Vn=null;rt!==null&&M2(Tt,qe,rt,Vn,!1),dn!==null&&wa!==null&&M2(Tt,wa,dn,Vn,!0)}}e:{if(qe=ze?Be(ze):window,rt=qe.nodeName&&qe.nodeName.toLowerCase(),rt==="select"||rt==="input"&&qe.type==="file")var un=Tu;else if(Su(qe))if(wu)un=k;else{un=T;var ui=Nh}else rt=qe.nodeName,!rt||rt.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?ze&&Pc(ze.elementType)&&(un=Tu):un=R;if(un&&(un=un(o,ze))){pa(Tt,un,m,ot);break e}ui&&ui(o,qe,ze),o==="focusout"&&ze&&qe.type==="number"&&ze.memoizedProps.value!=null&&Er(qe,"number",qe.value)}switch(ui=ze?Be(ze):window,o){case"focusin":(Su(ui)||ui.contentEditable==="true")&&(Dn=ui,Jt=ze,gn=null);break;case"focusout":gn=Jt=Dn=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,xn(Tt,m,ot);break;case"selectionchange":if(nn)break;case"keydown":case"keyup":xn(Tt,m,ot)}var vn;if(El)e:{switch(o){case"compositionstart":var An="onCompositionStart";break e;case"compositionend":An="onCompositionEnd";break e;case"compositionupdate":An="onCompositionUpdate";break e}An=void 0}else Zo?tc(o,m)&&(An="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(An="onCompositionStart");An&&(Tl&&m.locale!=="ko"&&(Zo||An!=="onCompositionStart"?An==="onCompositionEnd"&&Zo&&(vn=Rf()):(ha=ot,qu="value"in ha?ha.value:ha.textContent,Zo=!0)),ui=rb(ze,An),0<ui.length&&(An=new Pf(An,o,null,m,ot),Tt.push({event:An,listeners:ui}),vn?An.data=vn:(vn=xu(m),vn!==null&&(An.data=vn)))),(vn=jo?bu(o,m):Ic(o,m))&&(An=rb(ze,"onBeforeInput"),0<An.length&&(ui=new Pf("onBeforeInput","beforeinput",null,m,ot),Tt.push({event:ui,listeners:An}),ui.data=vn)),sB(Tt,o,ze,m,ot)}T2(Tt,u)})}function zv(o,u,m){return{instance:o,listener:u,currentTarget:m}}function rb(o,u){for(var m=u+"Capture",x=[];o!==null;){var w=o,O=w.stateNode;w=w.tag,w!==5&&w!==26&&w!==27||O===null||(w=co(o,m),w!=null&&x.unshift(zv(o,w,O)),w=co(o,u),w!=null&&x.push(zv(o,w,O))),o=o.return}return x}function Bg(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function M2(o,u,m,x,w){for(var O=u._reactName,q=[];m!==null&&m!==x;){var ie=m,be=ie.alternate,ze=ie.stateNode;if(ie=ie.tag,be!==null&&be===x)break;ie!==5&&ie!==26&&ie!==27||ze===null||(be=ze,w?(ze=co(m,O),ze!=null&&q.unshift(zv(m,ze,be))):w||(ze=co(m,O),ze!=null&&q.push(zv(m,ze,be)))),m=m.return}q.length!==0&&o.push({event:u,listeners:q})}var cB=/\r\n?/g,fB=/\u0000|\uFFFD/g;function A2(o){return(typeof o=="string"?o:""+o).replace(cB,`
`).replace(fB,"")}function C2(o,u){return u=A2(u),A2(o)===u}function ab(){}function or(o,u,m,x,w,O){switch(m){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||ou(o,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&ou(o,""+x);break;case"className":Cn(o,"class",x);break;case"tabIndex":Cn(o,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(o,m,x);break;case"style":Ph(o,x,O);break;case"data":if(u!=="object"){Cn(o,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||m!=="href")){o.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(m);break}x=uu(""+x),o.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(m==="formAction"?(u!=="input"&&or(o,u,"name",w.name,w,null),or(o,u,"formEncType",w.formEncType,w,null),or(o,u,"formMethod",w.formMethod,w,null),or(o,u,"formTarget",w.formTarget,w,null)):(or(o,u,"encType",w.encType,w,null),or(o,u,"method",w.method,w,null),or(o,u,"target",w.target,w,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(m);break}x=uu(""+x),o.setAttribute(m,x);break;case"onClick":x!=null&&(o.onclick=ab);break;case"onScroll":x!=null&&gi("scroll",o);break;case"onScrollEnd":x!=null&&gi("scrollend",o);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(w.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"multiple":o.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":o.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){o.removeAttribute("xlink:href");break}m=uu(""+x),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,""+x):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":x===!0?o.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,x):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?o.setAttribute(m,x):o.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?o.removeAttribute(m):o.setAttribute(m,x);break;case"popover":gi("beforetoggle",o),gi("toggle",o),di(o,"popover",x);break;case"xlinkActuate":Rn(o,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Rn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Rn(o,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Rn(o,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Rn(o,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Rn(o,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Rn(o,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Rn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Rn(o,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":di(o,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=uo.get(m)||m,di(o,m,x))}}function dE(o,u,m,x,w,O){switch(m){case"style":Ph(o,x,O);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(w.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"children":typeof x=="string"?ou(o,x):(typeof x=="number"||typeof x=="bigint")&&ou(o,""+x);break;case"onScroll":x!=null&&gi("scroll",o);break;case"onScrollEnd":x!=null&&gi("scrollend",o);break;case"onClick":x!=null&&(o.onclick=ab);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nt.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(w=m.endsWith("Capture"),u=m.slice(2,w?m.length-7:void 0),O=o[pn]||null,O=O!=null?O[m]:null,typeof O=="function"&&o.removeEventListener(u,O,w),typeof x=="function")){typeof O!="function"&&O!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(u,x,w);break e}m in o?o[m]=x:x===!0?o.setAttribute(m,""):di(o,m,x)}}}function no(o,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gi("error",o),gi("load",o);var x=!1,w=!1,O;for(O in m)if(m.hasOwnProperty(O)){var q=m[O];if(q!=null)switch(O){case"src":x=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:or(o,u,O,q,m,null)}}w&&or(o,u,"srcSet",m.srcSet,m,null),x&&or(o,u,"src",m.src,m,null);return;case"input":gi("invalid",o);var ie=O=q=w=null,be=null,ze=null;for(x in m)if(m.hasOwnProperty(x)){var ot=m[x];if(ot!=null)switch(x){case"name":w=ot;break;case"type":q=ot;break;case"checked":be=ot;break;case"defaultChecked":ze=ot;break;case"value":O=ot;break;case"defaultValue":ie=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,u));break;default:or(o,u,x,ot,m,null)}}fa(o,O,ie,be,ze,q,w,!1),_r(o);return;case"select":gi("invalid",o),x=q=O=null;for(w in m)if(m.hasOwnProperty(w)&&(ie=m[w],ie!=null))switch(w){case"value":O=ie;break;case"defaultValue":q=ie;break;case"multiple":x=ie;default:or(o,u,w,ie,m,null)}u=O,m=q,o.multiple=!!x,u!=null?ir(o,!!x,u,!1):m!=null&&ir(o,!!x,m,!0);return;case"textarea":gi("invalid",o),O=w=x=null;for(q in m)if(m.hasOwnProperty(q)&&(ie=m[q],ie!=null))switch(q){case"value":x=ie;break;case"defaultValue":w=ie;break;case"children":O=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(91));break;default:or(o,u,q,ie,m,null)}Fr(o,x,w,O),_r(o);return;case"option":for(be in m)if(m.hasOwnProperty(be)&&(x=m[be],x!=null))switch(be){case"selected":o.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:or(o,u,be,x,m,null)}return;case"dialog":gi("cancel",o),gi("close",o);break;case"iframe":case"object":gi("load",o);break;case"video":case"audio":for(x=0;x<Iv.length;x++)gi(Iv[x],o);break;case"image":gi("error",o),gi("load",o);break;case"details":gi("toggle",o);break;case"embed":case"source":case"link":gi("error",o),gi("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in m)if(m.hasOwnProperty(ze)&&(x=m[ze],x!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:or(o,u,ze,x,m,null)}return;default:if(Pc(u)){for(ot in m)m.hasOwnProperty(ot)&&(x=m[ot],x!==void 0&&dE(o,u,ot,x,m,void 0));return}}for(ie in m)m.hasOwnProperty(ie)&&(x=m[ie],x!=null&&or(o,u,ie,x,m,null))}function hB(o,u,m,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,O=null,q=null,ie=null,be=null,ze=null,ot=null;for(rt in m){var Tt=m[rt];if(m.hasOwnProperty(rt)&&Tt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":be=Tt;default:x.hasOwnProperty(rt)||or(o,u,rt,null,x,Tt)}}for(var qe in x){var rt=x[qe];if(Tt=m[qe],x.hasOwnProperty(qe)&&(rt!=null||Tt!=null))switch(qe){case"type":O=rt;break;case"name":w=rt;break;case"checked":ze=rt;break;case"defaultChecked":ot=rt;break;case"value":q=rt;break;case"defaultValue":ie=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,u));break;default:rt!==Tt&&or(o,u,qe,rt,x,Tt)}}Sr(o,q,ie,be,ze,ot,O,w);return;case"select":rt=q=ie=qe=null;for(O in m)if(be=m[O],m.hasOwnProperty(O)&&be!=null)switch(O){case"value":break;case"multiple":rt=be;default:x.hasOwnProperty(O)||or(o,u,O,null,x,be)}for(w in x)if(O=x[w],be=m[w],x.hasOwnProperty(w)&&(O!=null||be!=null))switch(w){case"value":qe=O;break;case"defaultValue":ie=O;break;case"multiple":q=O;default:O!==be&&or(o,u,w,O,x,be)}u=ie,m=q,x=rt,qe!=null?ir(o,!!m,qe,!1):!!x!=!!m&&(u!=null?ir(o,!!m,u,!0):ir(o,!!m,m?[]:"",!1));return;case"textarea":rt=qe=null;for(ie in m)if(w=m[ie],m.hasOwnProperty(ie)&&w!=null&&!x.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:or(o,u,ie,null,x,w)}for(q in x)if(w=x[q],O=m[q],x.hasOwnProperty(q)&&(w!=null||O!=null))switch(q){case"value":qe=w;break;case"defaultValue":rt=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==O&&or(o,u,q,w,x,O)}ss(o,qe,rt);return;case"option":for(var dn in m)if(qe=m[dn],m.hasOwnProperty(dn)&&qe!=null&&!x.hasOwnProperty(dn))switch(dn){case"selected":o.selected=!1;break;default:or(o,u,dn,null,x,qe)}for(be in x)if(qe=x[be],rt=m[be],x.hasOwnProperty(be)&&qe!==rt&&(qe!=null||rt!=null))switch(be){case"selected":o.selected=qe&&typeof qe!="function"&&typeof qe!="symbol";break;default:or(o,u,be,qe,x,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vn in m)qe=m[Vn],m.hasOwnProperty(Vn)&&qe!=null&&!x.hasOwnProperty(Vn)&&or(o,u,Vn,null,x,qe);for(ze in x)if(qe=x[ze],rt=m[ze],x.hasOwnProperty(ze)&&qe!==rt&&(qe!=null||rt!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,u));break;default:or(o,u,ze,qe,x,rt)}return;default:if(Pc(u)){for(var wa in m)qe=m[wa],m.hasOwnProperty(wa)&&qe!==void 0&&!x.hasOwnProperty(wa)&&dE(o,u,wa,void 0,x,qe);for(ot in x)qe=x[ot],rt=m[ot],!x.hasOwnProperty(ot)||qe===rt||qe===void 0&&rt===void 0||dE(o,u,ot,qe,x,rt);return}}for(var Fe in m)qe=m[Fe],m.hasOwnProperty(Fe)&&qe!=null&&!x.hasOwnProperty(Fe)&&or(o,u,Fe,null,x,qe);for(Tt in x)qe=x[Tt],rt=m[Tt],!x.hasOwnProperty(Tt)||qe===rt||qe==null&&rt==null||or(o,u,Tt,qe,x,rt)}var pE=null,mE=null;function sb(o){return o.nodeType===9?o:o.ownerDocument}function R2(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D2(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function gE(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var yE=null;function dB(){var o=window.event;return o&&o.type==="popstate"?o===yE?!1:(yE=o,!0):(yE=null,!1)}var O2=typeof setTimeout=="function"?setTimeout:void 0,pB=typeof clearTimeout=="function"?clearTimeout:void 0,P2=typeof Promise=="function"?Promise:void 0,mB=typeof queueMicrotask=="function"?queueMicrotask:typeof P2<"u"?function(o){return P2.resolve(null).then(o).catch(gB)}:O2;function gB(o){setTimeout(function(){throw o})}function vE(o,u){var m=u,x=0;do{var w=m.nextSibling;if(o.removeChild(m),w&&w.nodeType===8)if(m=w.data,m==="/$"){if(x===0){o.removeChild(w),Wv(u);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=w}while(m);Wv(u)}function xE(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":xE(m),su(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function yB(o,u,m,x){for(;o.nodeType===1;){var w=m;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(x){if(!o[lo])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(O=o.getAttribute("rel"),O==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(O!==w.rel||o.getAttribute("href")!==(w.href==null?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(O=o.getAttribute("src"),(O!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&O&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var O=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===O)return o}else return o;if(o=uf(o.nextSibling),o===null)break}return null}function vB(o,u,m){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=uf(o.nextSibling),o===null))return null;return o}function uf(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}function L2(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return o;u--}else m==="/$"&&u++}o=o.previousSibling}return null}function N2(o,u,m){switch(u=sb(m),o){case"html":if(o=u.documentElement,!o)throw Error(i(452));return o;case"head":if(o=u.head,!o)throw Error(i(453));return o;case"body":if(o=u.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}var xc=new Map,U2=new Set;function ob(o){return typeof o.getRootNode=="function"?o.getRootNode():o.ownerDocument}var td=Oe.d;Oe.d={f:xB,r:bB,D:_B,C:SB,L:EB,m:TB,X:MB,S:wB,M:AB};function xB(){var o=td.f(),u=Jh();return o||u}function bB(o){var u=we(o);u!==null&&u.tag===5&&u.type==="form"?kh(u):td.r(o)}var Fg=typeof document>"u"?null:document;function I2(o,u,m){var x=Fg;if(x&&typeof u=="string"&&u){var w=Bn(u);w='link[rel="'+o+'"][href="'+w+'"]',typeof m=="string"&&(w+='[crossorigin="'+m+'"]'),U2.has(w)||(U2.add(w),o={rel:o,crossOrigin:m,href:u},x.querySelector(w)===null&&(u=x.createElement("link"),no(u,"link",o),Ce(u),x.head.appendChild(u)))}}function _B(o){td.D(o),I2("dns-prefetch",o,null)}function SB(o,u){td.C(o,u),I2("preconnect",o,u)}function EB(o,u,m){td.L(o,u,m);var x=Fg;if(x&&o&&u){var w='link[rel="preload"][as="'+Bn(u)+'"]';u==="image"&&m&&m.imageSrcSet?(w+='[imagesrcset="'+Bn(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(w+='[imagesizes="'+Bn(m.imageSizes)+'"]')):w+='[href="'+Bn(o)+'"]';var O=w;switch(u){case"style":O=Hg(o);break;case"script":O=Vg(o)}xc.has(O)||(o=I({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:o,as:u},m),xc.set(O,o),x.querySelector(w)!==null||u==="style"&&x.querySelector(kv(O))||u==="script"&&x.querySelector(Bv(O))||(u=x.createElement("link"),no(u,"link",o),Ce(u),x.head.appendChild(u)))}}function TB(o,u){td.m(o,u);var m=Fg;if(m&&o){var x=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+Bn(x)+'"][href="'+Bn(o)+'"]',O=w;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Vg(o)}if(!xc.has(O)&&(o=I({rel:"modulepreload",href:o},u),xc.set(O,o),m.querySelector(w)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Bv(O)))return}x=m.createElement("link"),no(x,"link",o),Ce(x),m.head.appendChild(x)}}}function wB(o,u,m){td.S(o,u,m);var x=Fg;if(x&&o){var w=We(x).hoistableStyles,O=Hg(o);u=u||"default";var q=w.get(O);if(!q){var ie={loading:0,preload:null};if(q=x.querySelector(kv(O)))ie.loading=5;else{o=I({rel:"stylesheet",href:o,"data-precedence":u},m),(m=xc.get(O))&&bE(o,m);var be=q=x.createElement("link");Ce(be),no(be,"link",o),be._p=new Promise(function(ze,ot){be.onload=ze,be.onerror=ot}),be.addEventListener("load",function(){ie.loading|=1}),be.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,lb(q,u,x)}q={type:"stylesheet",instance:q,count:1,state:ie},w.set(O,q)}}}function MB(o,u){td.X(o,u);var m=Fg;if(m&&o){var x=We(m).hoistableScripts,w=Vg(o),O=x.get(w);O||(O=m.querySelector(Bv(w)),O||(o=I({src:o,async:!0},u),(u=xc.get(w))&&_E(o,u),O=m.createElement("script"),Ce(O),no(O,"link",o),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(w,O))}}function AB(o,u){td.M(o,u);var m=Fg;if(m&&o){var x=We(m).hoistableScripts,w=Vg(o),O=x.get(w);O||(O=m.querySelector(Bv(w)),O||(o=I({src:o,async:!0,type:"module"},u),(u=xc.get(w))&&_E(o,u),O=m.createElement("script"),Ce(O),no(O,"link",o),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(w,O))}}function z2(o,u,m,x){var w=(w=ye.current)?ob(w):null;if(!w)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=Hg(m.href),m=We(w).hoistableStyles,x=m.get(u),x||(x={type:"style",instance:null,count:0,state:null},m.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Hg(m.href);var O=We(w).hoistableStyles,q=O.get(o);if(q||(w=w.ownerDocument||w,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(o,q),(O=w.querySelector(kv(o)))&&!O._p&&(q.instance=O,q.state.loading=5),xc.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},xc.set(o,m),O||CB(w,o,m,q.state))),u&&x===null)throw Error(i(528,""));return q}if(u&&x!==null)throw Error(i(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Vg(m),m=We(w).hoistableScripts,x=m.get(u),x||(x={type:"script",instance:null,count:0,state:null},m.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Hg(o){return'href="'+Bn(o)+'"'}function kv(o){return'link[rel="stylesheet"]['+o+"]"}function k2(o){return I({},o,{"data-precedence":o.precedence,precedence:null})}function CB(o,u,m,x){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=o.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),no(u,"link",m),Ce(u),o.head.appendChild(u))}function Vg(o){return'[src="'+Bn(o)+'"]'}function Bv(o){return"script[async]"+o}function B2(o,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var x=o.querySelector('style[data-href~="'+Bn(m.href)+'"]');if(x)return u.instance=x,Ce(x),x;var w=I({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(o.ownerDocument||o).createElement("style"),Ce(x),no(x,"style",w),lb(x,m.precedence,o),u.instance=x;case"stylesheet":w=Hg(m.href);var O=o.querySelector(kv(w));if(O)return u.state.loading|=4,u.instance=O,Ce(O),O;x=k2(m),(w=xc.get(w))&&bE(x,w),O=(o.ownerDocument||o).createElement("link"),Ce(O);var q=O;return q._p=new Promise(function(ie,be){q.onload=ie,q.onerror=be}),no(O,"link",x),u.state.loading|=4,lb(O,m.precedence,o),u.instance=O;case"script":return O=Vg(m.src),(w=o.querySelector(Bv(O)))?(u.instance=w,Ce(w),w):(x=m,(w=xc.get(O))&&(x=I({},m),_E(x,w)),o=o.ownerDocument||o,w=o.createElement("script"),Ce(w),no(w,"link",x),o.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,lb(x,m.precedence,o));return u.instance}function lb(o,u,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=x.length?x[x.length-1]:null,O=w,q=0;q<x.length;q++){var ie=x[q];if(ie.dataset.precedence===u)O=ie;else if(O!==w)break}O?O.parentNode.insertBefore(o,O.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(o,u.firstChild))}function bE(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function _E(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var ub=null;function F2(o,u,m){if(ub===null){var x=new Map,w=ub=new Map;w.set(m,x)}else w=ub,x=w.get(m),x||(x=new Map,w.set(m,x));if(x.has(o))return x;for(x.set(o,null),m=m.getElementsByTagName(o),w=0;w<m.length;w++){var O=m[w];if(!(O[lo]||O[mn]||o==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var q=O.getAttribute(u)||"";q=o+q;var ie=x.get(q);ie?ie.push(O):x.set(q,[O])}}return x}function H2(o,u,m){o=o.ownerDocument||o,o.head.insertBefore(m,u==="title"?o.querySelector("head > title"):null)}function RB(o,u,m){if(m===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function V2(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Fv=null;function DB(){}function OB(o,u,m){if(Fv===null)throw Error(i(475));var x=Fv;if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var w=Hg(m.href),O=o.querySelector(kv(w));if(O){o=O._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(x.count++,x=cb.bind(x),o.then(x,x)),u.state.loading|=4,u.instance=O,Ce(O);return}O=o.ownerDocument||o,m=k2(m),(w=xc.get(w))&&bE(m,w),O=O.createElement("link"),Ce(O);var q=O;q._p=new Promise(function(ie,be){q.onload=ie,q.onerror=be}),no(O,"link",m),u.instance=O}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(x.count++,u=cb.bind(x),o.addEventListener("load",u),o.addEventListener("error",u))}}function PB(){if(Fv===null)throw Error(i(475));var o=Fv;return o.stylesheets&&o.count===0&&SE(o,o.stylesheets),0<o.count?function(u){var m=setTimeout(function(){if(o.stylesheets&&SE(o,o.stylesheets),o.unsuspend){var x=o.unsuspend;o.unsuspend=null,x()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(m)}}:null}function cb(){if(this.count--,this.count===0){if(this.stylesheets)SE(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var fb=null;function SE(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,fb=new Map,u.forEach(LB,o),fb=null,cb.call(o))}function LB(o,u){if(!(u.state.loading&4)){var m=fb.get(o);if(m)var x=m.get(null);else{m=new Map,fb.set(o,m);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<w.length;O++){var q=w[O];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(m.set(q.dataset.precedence,q),x=q)}x&&m.set(null,x)}w=u.instance,q=w.getAttribute("data-precedence"),O=m.get(q)||x,O===x&&m.set(null,w),m.set(q,w),this.count++,x=cb.bind(this),w.addEventListener("load",x),w.addEventListener("error",x),O?O.parentNode.insertBefore(w,O.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),u.state.loading|=4}}var Hv={$$typeof:v,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function NB(o,u,m,x,w,O,q,ie){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.hiddenUpdates=ca(null),this.identifierPrefix=x,this.onUncaughtError=w,this.onCaughtError=O,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function G2(o,u,m,x,w,O,q,ie,be,ze,ot,Tt){return o=new NB(o,u,m,q,ie,be,ze,Tt),u=1,O===!0&&(u|=24),O=aa(3,null,null,u),o.current=O,O.stateNode=o,u=ps(),u.refCount++,o.pooledCache=u,u.refCount++,O.memoizedState={element:x,isDehydrated:m,cache:u},Qs(O),o}function X2(o){return o?(o=Lr,o):Lr}function W2(o,u,m,x,w,O){w=X2(w),x.context===null?x.context=w:x.pendingContext=w,x=rl(u),x.payload={element:m},O=O===void 0?null:O,O!==null&&(x.callback=O),m=al(o,x,u),m!==null&&(Ta(m,o,u),$f(m,o,u))}function Y2(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function EE(o,u){Y2(o,u),(o=o.alternate)&&Y2(o,u)}function j2(o){if(o.tag===13){var u=ga(o,67108864);u!==null&&Ta(u,o,67108864),EE(o,67108864)}}var hb=!0;function UB(o,u,m,x){var w=B.T;B.T=null;var O=Oe.p;try{Oe.p=2,TE(o,u,m,x)}finally{Oe.p=O,B.T=w}}function IB(o,u,m,x){var w=B.T;B.T=null;var O=Oe.p;try{Oe.p=8,TE(o,u,m,x)}finally{Oe.p=O,B.T=w}}function TE(o,u,m,x){if(hb){var w=wE(x);if(w===null)hE(o,u,x,db,m),Z2(o,x);else if(kB(w,o,u,m,x))x.stopPropagation();else if(Z2(o,x),u&4&&-1<zB.indexOf(o)){for(;w!==null;){var O=we(w);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var q=vt(O.pendingLanes);if(q!==0){var ie=O;for(ie.pendingLanes|=2,ie.entangledLanes|=2;q;){var be=1<<31-gt(q);ie.entanglements[1]|=be,q&=~be}tr(O),(zn&6)===0&&(si=$()+500,li(0))}}break;case 13:ie=ga(O,2),ie!==null&&Ta(ie,O,2),Jh(),EE(O,2)}if(O=wE(x),O===null&&hE(o,u,x,db,m),O===w)break;w=O}w!==null&&x.stopPropagation()}else hE(o,u,x,null,m)}}function wE(o){return o=bl(o),ME(o)}var db=null;function ME(o){if(db=null,o=ne(o),o!==null){var u=ve(o);if(u===null)o=null;else{var m=u.tag;if(m===13){if(o=pe(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return db=o,null}function q2(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case me:return 2;case De:return 8;case Ie:case bt:return 32;case it:return 268435456;default:return 32}default:return 32}}var AE=!1,ip=null,rp=null,ap=null,Vv=new Map,Gv=new Map,sp=[],zB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z2(o,u){switch(o){case"focusin":case"focusout":ip=null;break;case"dragenter":case"dragleave":rp=null;break;case"mouseover":case"mouseout":ap=null;break;case"pointerover":case"pointerout":Vv.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gv.delete(u.pointerId)}}function Xv(o,u,m,x,w,O){return o===null||o.nativeEvent!==O?(o={blockedOn:u,domEventName:m,eventSystemFlags:x,nativeEvent:O,targetContainers:[w]},u!==null&&(u=we(u),u!==null&&j2(u)),o):(o.eventSystemFlags|=x,u=o.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),o)}function kB(o,u,m,x,w){switch(u){case"focusin":return ip=Xv(ip,o,u,m,x,w),!0;case"dragenter":return rp=Xv(rp,o,u,m,x,w),!0;case"mouseover":return ap=Xv(ap,o,u,m,x,w),!0;case"pointerover":var O=w.pointerId;return Vv.set(O,Xv(Vv.get(O)||null,o,u,m,x,w)),!0;case"gotpointercapture":return O=w.pointerId,Gv.set(O,Xv(Gv.get(O)||null,o,u,m,x,w)),!0}return!1}function K2(o){var u=ne(o.target);if(u!==null){var m=ve(u);if(m!==null){if(u=m.tag,u===13){if(u=pe(m),u!==null){o.blockedOn=u,Ha(o.priority,function(){if(m.tag===13){var x=to(),w=ga(m,x);w!==null&&Ta(w,m,x),EE(m,x)}});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function pb(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=wE(o.nativeEvent);if(m===null){m=o.nativeEvent;var x=new m.constructor(m.type,m);ju=x,m.target.dispatchEvent(x),ju=null}else return u=we(m),u!==null&&j2(u),o.blockedOn=m,!1;u.shift()}return!0}function Q2(o,u,m){pb(o)&&m.delete(u)}function BB(){AE=!1,ip!==null&&pb(ip)&&(ip=null),rp!==null&&pb(rp)&&(rp=null),ap!==null&&pb(ap)&&(ap=null),Vv.forEach(Q2),Gv.forEach(Q2)}function mb(o,u){o.blockedOn===u&&(o.blockedOn=null,AE||(AE=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,BB)))}var gb=null;function J2(o){gb!==o&&(gb=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gb===o&&(gb=null);for(var u=0;u<o.length;u+=3){var m=o[u],x=o[u+1],w=o[u+2];if(typeof x!="function"){if(ME(x||m)===null)continue;break}var O=we(m);O!==null&&(o.splice(u,3),u-=3,Vc(O,{pending:!0,data:w,method:m.method,action:x},x,w))}}))}function Wv(o){function u(be){return mb(be,o)}ip!==null&&mb(ip,o),rp!==null&&mb(rp,o),ap!==null&&mb(ap,o),Vv.forEach(u),Gv.forEach(u);for(var m=0;m<sp.length;m++){var x=sp[m];x.blockedOn===o&&(x.blockedOn=null)}for(;0<sp.length&&(m=sp[0],m.blockedOn===null);)K2(m),m.blockedOn===null&&sp.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var w=m[x],O=m[x+1],q=w[pn]||null;if(typeof O=="function")q||J2(m);else if(q){var ie=null;if(O&&O.hasAttribute("formAction")){if(w=O,q=O[pn]||null)ie=q.formAction;else if(ME(w)!==null)continue}else ie=q.action;typeof ie=="function"?m[x+1]=ie:(m.splice(x,3),x-=3),J2(m)}}}function CE(o){this._internalRoot=o}yb.prototype.render=CE.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(i(409));var m=u.current,x=to();W2(m,x,o,u,null,null)},yb.prototype.unmount=CE.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;o.tag===0&&Pt(),W2(o.current,2,null,o,null,null),Jh(),u[Oa]=null}};function yb(o){this._internalRoot=o}yb.prototype.unstable_scheduleHydration=function(o){if(o){var u=au();o={blockedOn:null,target:o,priority:u};for(var m=0;m<sp.length&&u!==0&&u<sp[m].priority;m++);sp.splice(m,0,o),m===0&&K2(o)}};var $2=e.version;if($2!=="19.0.0")throw Error(i(527,$2,"19.0.0"));Oe.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=J(u),o=o!==null?Le(o):null,o=o===null?null:o.stateNode,o};var FB={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:B,findFiberByHostInstance:ne,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vb.isDisabled&&vb.supportsFiber)try{lt=vb.inject(FB),at=vb}catch{}}return jv.createRoot=function(o,u){if(!r(o))throw Error(i(299));var m=!1,x="",w=lm,O=jc,q=um,ie=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ie=u.unstable_transitionCallbacks)),u=G2(o,1,!1,null,null,m,x,w,O,q,ie,null),o[Oa]=u.current,fE(o.nodeType===8?o.parentNode:o),new CE(u)},jv.hydrateRoot=function(o,u,m){if(!r(o))throw Error(i(299));var x=!1,w="",O=lm,q=jc,ie=um,be=null,ze=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(w=m.identifierPrefix),m.onUncaughtError!==void 0&&(O=m.onUncaughtError),m.onCaughtError!==void 0&&(q=m.onCaughtError),m.onRecoverableError!==void 0&&(ie=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(be=m.unstable_transitionCallbacks),m.formState!==void 0&&(ze=m.formState)),u=G2(o,1,!0,u,m??null,x,w,O,q,ie,be,ze),u.context=X2(null),m=u.current,x=to(),w=rl(x),w.callback=null,al(m,w,x),u.current.lanes=x,vr(u,x),tr(u),o[Oa]=u.current,fE(o),new yb(u)},jv.version="19.0.0",jv}var cR;function qB(){if(cR)return PE.exports;cR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),PE.exports=jB(),PE.exports}var ZB=qB();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fR="popstate";function KB(n={}){function e(i,r){let{pathname:a,search:s,hash:l}=i.location;return Nw("",{pathname:a,search:s,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:W0(r)}return JB(e,t,null,n)}function ua(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ef(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QB(){return Math.random().toString(36).substring(2,10)}function hR(n,e){return{usr:n.state,key:n.key,idx:e}}function Nw(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?pv(e):e,state:t,key:e&&e.key||i||QB()}}function W0({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function pv(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function JB(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,l="POP",c=null,f=p();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function p(){return(s.state||{idx:null}).idx}function g(){l="POP";let M=p(),S=M==null?null:M-f;f=M,c&&c({action:l,location:D.location,delta:S})}function y(M,S){l="PUSH";let N=Nw(D.location,M,S);f=p()+1;let P=hR(N,f),U=D.createHref(N);try{s.pushState(P,"",U)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;r.location.assign(U)}a&&c&&c({action:l,location:D.location,delta:1})}function v(M,S){l="REPLACE";let N=Nw(D.location,M,S);f=p();let P=hR(N,f),U=D.createHref(N);s.replaceState(P,"",U),a&&c&&c({action:l,location:D.location,delta:0})}function _(M){return $B(M)}let D={get action(){return l},get location(){return n(r,s)},listen(M){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(fR,g),c=M,()=>{r.removeEventListener(fR,g),c=null}},createHref(M){return e(r,M)},createURL:_,encodeLocation(M){let S=_(M);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:v,go(M){return s.go(M)}};return D}function $B(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ua(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:W0(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function LL(n,e,t="/"){return eF(n,e,t,!1)}function eF(n,e,t,i){let r=typeof e=="string"?pv(e):e,a=_d(r.pathname||"/",t);if(a==null)return null;let s=NL(n);tF(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let f=hF(a);l=cF(s[c],f,i)}return l}function NL(n,e=[],t=[],i="",r=!1){let a=(s,l,c=r,f)=>{let p={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&c)return;ua(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let g=vd([i,p.relativePath]),y=t.concat(p);s.children&&s.children.length>0&&(ua(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),NL(s.children,e,y,g,c)),!(s.path==null&&!s.index)&&e.push({path:g,score:lF(g,s.index),routesMeta:y})};return n.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,l);else for(let f of UL(s.path))a(s,l,!0,f)}),e}function UL(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=UL(i.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),r&&l.push(...s),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function tF(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uF(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var nF=/^:[\w-]+$/,iF=3,rF=2,aF=1,sF=10,oF=-2,dR=n=>n==="*";function lF(n,e){let t=n.split("/"),i=t.length;return t.some(dR)&&(i+=oF),e&&(i+=rF),t.filter(r=>!dR(r)).reduce((r,a)=>r+(nF.test(a)?iF:a===""?aF:sF),i)}function uF(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function cF(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",s=[];for(let l=0;l<i.length;++l){let c=i[l],f=l===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=K_({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),y=c.route;if(!g&&f&&t&&!i[i.length-1].route.index&&(g=K_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(r,g.params),s.push({params:r,pathname:vd([a,g.pathname]),pathnameBase:gF(vd([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=vd([a,g.pathnameBase]))}return s}function K_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=fF(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:g},y)=>{if(p==="*"){let _=l[y]||"";s=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const v=l[y];return g&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:n}}function fF(n,e=!1,t=!0){Ef(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function hF(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ef(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _d(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function dF(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?pv(n):n;return{pathname:t?t.startsWith("/")?t:pF(t,e):e,search:yF(i),hash:vF(r)}}function pF(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function IE(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mF(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function IL(n){let e=mF(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function zL(n,e,t,i=!1){let r;typeof n=="string"?r=pv(n):(r={...n},ua(!r.pathname||!r.pathname.includes("?"),IE("?","pathname","search",r)),ua(!r.pathname||!r.pathname.includes("#"),IE("#","pathname","hash",r)),ua(!r.search||!r.search.includes("#"),IE("#","search","hash",r)));let a=n===""||r.pathname==="",s=a?"/":r.pathname,l;if(s==null)l=t;else{let g=e.length-1;if(!i&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}l=g>=0?e[g]:"/"}let c=dF(r,l),f=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}var vd=n=>n.join("/").replace(/\/\/+/g,"/"),gF=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yF=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vF=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xF(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var kL=["POST","PUT","PATCH","DELETE"];new Set(kL);var bF=["GET",...kL];new Set(bF);var mv=oe.createContext(null);mv.displayName="DataRouter";var r1=oe.createContext(null);r1.displayName="DataRouterState";oe.createContext(!1);var BL=oe.createContext({isTransitioning:!1});BL.displayName="ViewTransition";var _F=oe.createContext(new Map);_F.displayName="Fetchers";var SF=oe.createContext(null);SF.displayName="Await";var Ah=oe.createContext(null);Ah.displayName="Navigation";var Ax=oe.createContext(null);Ax.displayName="Location";var Tf=oe.createContext({outlet:null,matches:[],isDataRoute:!1});Tf.displayName="Route";var hA=oe.createContext(null);hA.displayName="RouteError";function EF(n,{relative:e}={}){ua(Cx(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=oe.useContext(Ah),{hash:r,pathname:a,search:s}=Rx(n,{relative:e}),l=a;return t!=="/"&&(l=a==="/"?t:vd([t,a])),i.createHref({pathname:l,search:s,hash:r})}function Cx(){return oe.useContext(Ax)!=null}function Ch(){return ua(Cx(),"useLocation() may be used only in the context of a <Router> component."),oe.useContext(Ax).location}var FL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HL(n){oe.useContext(Ah).static||oe.useLayoutEffect(n)}function a1(){let{isDataRoute:n}=oe.useContext(Tf);return n?kF():TF()}function TF(){ua(Cx(),"useNavigate() may be used only in the context of a <Router> component.");let n=oe.useContext(mv),{basename:e,navigator:t}=oe.useContext(Ah),{matches:i}=oe.useContext(Tf),{pathname:r}=Ch(),a=JSON.stringify(IL(i)),s=oe.useRef(!1);return HL(()=>{s.current=!0}),oe.useCallback((c,f={})=>{if(Ef(s.current,FL),!s.current)return;if(typeof c=="number"){t.go(c);return}let p=zL(c,JSON.parse(a),r,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:vd([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,r,n])}var wF=oe.createContext(null);function MF(n){let e=oe.useContext(Tf).outlet;return e&&oe.createElement(wF.Provider,{value:n},e)}function VL(){let{matches:n}=oe.useContext(Tf),e=n[n.length-1];return e?e.params:{}}function Rx(n,{relative:e}={}){let{matches:t}=oe.useContext(Tf),{pathname:i}=Ch(),r=JSON.stringify(IL(t));return oe.useMemo(()=>zL(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function AF(n,e){return GL(n,e)}function GL(n,e,t,i,r){var N;ua(Cx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=oe.useContext(Ah),{matches:s}=oe.useContext(Tf),l=s[s.length-1],c=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let P=g&&g.path||"";XL(f,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Ch(),v;if(e){let P=typeof e=="string"?pv(e):e;ua(p==="/"||((N=P.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),v=P}else v=y;let _=v.pathname||"/",D=_;if(p!=="/"){let P=p.replace(/^\//,"").split("/");D="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let M=LL(n,{pathname:D});Ef(g||M!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ef(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=PF(M&&M.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:vd([p,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:vd([p,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,t,i,r);return e&&S?oe.createElement(Ax.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function CF(){let n=zF(),e=xF(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=oe.createElement(oe.Fragment,null,oe.createElement("p",null," Hey developer "),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:a},"ErrorBoundary")," or"," ",oe.createElement("code",{style:a},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),t?oe.createElement("pre",{style:r},t):null,s)}var RF=oe.createElement(CF,null),DF=class extends oe.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?oe.createElement(Tf.Provider,{value:this.props.routeContext},oe.createElement(hA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OF({routeContext:n,match:e,children:t}){let i=oe.useContext(mv);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),oe.createElement(Tf.Provider,{value:n},t)}function PF(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,s=t==null?void 0:t.errors;if(s!=null){let f=a.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);ua(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:y}=t,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,p,g)=>{let y,v=!1,_=null,D=null;t&&(y=s&&p.route.id?s[p.route.id]:void 0,_=p.route.errorElement||RF,l&&(c<0&&g===0?(XL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,D=null):c===g&&(v=!0,D=p.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,g+1)),S=()=>{let N;return y?N=_:v?N=D:p.route.Component?N=oe.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=f,oe.createElement(OF,{match:p,routeContext:{outlet:f,matches:M,isDataRoute:t!=null},children:N})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?oe.createElement(DF,{location:t.location,revalidation:t.revalidation,component:_,error:y,children:S(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:i}):S()},null)}function dA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LF(n){let e=oe.useContext(mv);return ua(e,dA(n)),e}function NF(n){let e=oe.useContext(r1);return ua(e,dA(n)),e}function UF(n){let e=oe.useContext(Tf);return ua(e,dA(n)),e}function pA(n){let e=UF(n),t=e.matches[e.matches.length-1];return ua(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function IF(){return pA("useRouteId")}function zF(){var i;let n=oe.useContext(hA),e=NF("useRouteError"),t=pA("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function kF(){let{router:n}=LF("useNavigate"),e=pA("useNavigate"),t=oe.useRef(!1);return HL(()=>{t.current=!0}),oe.useCallback(async(r,a={})=>{Ef(t.current,FL),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var pR={};function XL(n,e,t){!e&&!pR[n]&&(pR[n]=!0,Ef(!1,t))}oe.memo(BF);function BF({routes:n,future:e,state:t,unstable_onError:i}){return GL(n,void 0,t,i,e)}function mA(n){return MF(n.context)}function Sc(n){ua(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FF({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){ua(!Cx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),l=oe.useMemo(()=>({basename:s,navigator:r,static:a,future:{}}),[s,r,a]);typeof t=="string"&&(t=pv(t));let{pathname:c="/",search:f="",hash:p="",state:g=null,key:y="default"}=t,v=oe.useMemo(()=>{let _=_d(c,s);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:y},navigationType:i}},[s,c,f,p,g,y,i]);return Ef(v!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:oe.createElement(Ah.Provider,{value:l},oe.createElement(Ax.Provider,{children:e,value:v}))}function HF({children:n,location:e}){return AF(Uw(n),e)}function Uw(n,e=[]){let t=[];return oe.Children.forEach(n,(i,r)=>{if(!oe.isValidElement(i))return;let a=[...e,r];if(i.type===oe.Fragment){t.push.apply(t,Uw(i.props.children,a));return}ua(i.type===Sc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ua(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=Uw(i.props.children,a)),t.push(s)}),t}var D_="get",O_="application/x-www-form-urlencoded";function s1(n){return n!=null&&typeof n.tagName=="string"}function VF(n){return s1(n)&&n.tagName.toLowerCase()==="button"}function GF(n){return s1(n)&&n.tagName.toLowerCase()==="form"}function XF(n){return s1(n)&&n.tagName.toLowerCase()==="input"}function WF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YF(n,e){return n.button===0&&(!e||e==="_self")&&!WF(n)}function Iw(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function jF(n,e){let t=Iw(n);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(a=>{t.append(r,a)})}),t}var bb=null;function qF(){if(bb===null)try{new FormData(document.createElement("form"),0),bb=!1}catch{bb=!0}return bb}var ZF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zE(n){return n!=null&&!ZF.has(n)?(Ef(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${O_}"`),null):n}function KF(n,e){let t,i,r,a,s;if(GF(n)){let l=n.getAttribute("action");i=l?_d(l,e):null,t=n.getAttribute("method")||D_,r=zE(n.getAttribute("enctype"))||O_,a=new FormData(n)}else if(VF(n)||XF(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||l.getAttribute("action");if(i=c?_d(c,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||D_,r=zE(n.getAttribute("formenctype"))||zE(l.getAttribute("enctype"))||O_,a=new FormData(l,n),!qF()){let{name:f,type:p,value:g}=n;if(p==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,g)}}else{if(s1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=D_,i=null,r=O_,s=n}return a&&r==="text/plain"&&(s=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gA(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function QF(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&_d(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function JF(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $F(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function e5(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let s=await JF(a,t);return s.links?s.links():[]}return[]}));return r5(i.flat(1).filter($F).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function mR(n,e,t,i,r,a){let s=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,l=(c,f)=>{var p;return t[f].pathname!==c.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,f)=>s(c,f)||l(c,f)):a==="data"?e.filter((c,f)=>{var g;let p=i.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(s(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function t5(n,e,{includeHydrateFallback:t}={}){return n5(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function n5(n){return[...new Set(n)]}function i5(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function r5(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(i5(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function WL(){let n=oe.useContext(mv);return gA(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function a5(){let n=oe.useContext(r1);return gA(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var yA=oe.createContext(void 0);yA.displayName="FrameworkContext";function YL(){let n=oe.useContext(yA);return gA(n,"You must render this element inside a <HydratedRouter> element"),n}function s5(n,e){let t=oe.useContext(yA),[i,r]=oe.useState(!1),[a,s]=oe.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,y=oe.useRef(null);oe.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let D=S=>{S.forEach(N=>{s(N.isIntersecting)})},M=new IntersectionObserver(D,{threshold:.5});return y.current&&M.observe(y.current),()=>{M.disconnect()}}},[n]),oe.useEffect(()=>{if(i){let D=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(D)}}},[i]);let v=()=>{r(!0)},_=()=>{r(!1),s(!1)};return t?n!=="intent"?[a,y,{}]:[a,y,{onFocus:qv(l,v),onBlur:qv(c,_),onMouseEnter:qv(f,v),onMouseLeave:qv(p,_),onTouchStart:qv(g,v)}]:[!1,y,{}]}function qv(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function o5({page:n,...e}){let{router:t}=WL(),i=oe.useMemo(()=>LL(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?oe.createElement(u5,{page:n,matches:i,...e}):null}function l5(n){let{manifest:e,routeModules:t}=YL(),[i,r]=oe.useState([]);return oe.useEffect(()=>{let a=!1;return e5(n,e,t).then(s=>{a||r(s)}),()=>{a=!0}},[n,e,t]),i}function u5({page:n,matches:e,...t}){let i=Ch(),{manifest:r,routeModules:a}=YL(),{basename:s}=WL(),{loaderData:l,matches:c}=a5(),f=oe.useMemo(()=>mR(n,e,c,r,i,"data"),[n,e,c,r,i]),p=oe.useMemo(()=>mR(n,e,c,r,i,"assets"),[n,e,c,r,i]),g=oe.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,D=!1;if(e.forEach(S=>{var P;let N=r.routes[S.route.id];!N||!N.hasLoader||(!f.some(U=>U.route.id===S.route.id)&&S.route.id in l&&((P=a[S.route.id])!=null&&P.shouldRevalidate)||N.hasClientLoader?D=!0:_.add(S.route.id))}),_.size===0)return[];let M=QF(n,s,"data");return D&&_.size>0&&M.searchParams.set("_routes",e.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[M.pathname+M.search]},[s,l,i,r,f,e,n,a]),y=oe.useMemo(()=>t5(p,r),[p,r]),v=l5(p);return oe.createElement(oe.Fragment,null,g.map(_=>oe.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>oe.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),v.map(({key:_,link:D})=>oe.createElement("link",{key:_,nonce:t.nonce,...D})))}function c5(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jL&&(window.__reactRouterVersion="7.9.1")}catch{}function f5({basename:n,children:e,window:t}){let i=oe.useRef();i.current==null&&(i.current=KB({window:t,v5Compat:!0}));let r=i.current,[a,s]=oe.useState({action:r.action,location:r.location}),l=oe.useCallback(c=>{oe.startTransition(()=>s(c))},[s]);return oe.useLayoutEffect(()=>r.listen(l),[r,l]),oe.createElement(FF,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var qL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vu=oe.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:s,state:l,target:c,to:f,preventScrollReset:p,viewTransition:g,...y},v){let{basename:_}=oe.useContext(Ah),D=typeof f=="string"&&qL.test(f),M,S=!1;if(typeof f=="string"&&D&&(M=f,jL))try{let B=new URL(window.location.href),I=f.startsWith("//")?new URL(B.protocol+f):new URL(f),Z=_d(I.pathname,_);I.origin===B.origin&&Z!=null?f=Z+I.search+I.hash:S=!0}catch{Ef(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=EF(f,{relative:r}),[P,U,X]=s5(i,y),H=p5(f,{replace:s,state:l,target:c,preventScrollReset:p,relative:r,viewTransition:g});function G(B){e&&e(B),B.defaultPrevented||H(B)}let W=oe.createElement("a",{...y,...X,href:M||N,onClick:S||a?e:G,ref:c5(v,U),target:c,"data-discover":!D&&t==="render"?"true":void 0});return P&&!D?oe.createElement(oe.Fragment,null,W,oe.createElement(o5,{page:N})):W});Vu.displayName="Link";var o1=oe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:s,viewTransition:l,children:c,...f},p){let g=Rx(s,{relative:f.relative}),y=Ch(),v=oe.useContext(r1),{navigator:_,basename:D}=oe.useContext(Ah),M=v!=null&&b5(g)&&l===!0,S=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,N=y.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(N=N.toLowerCase(),P=P?P.toLowerCase():null,S=S.toLowerCase()),P&&D&&(P=_d(P,D)||P);const U=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let X=N===S||!r&&N.startsWith(S)&&N.charAt(U)==="/",H=P!=null&&(P===S||!r&&P.startsWith(S)&&P.charAt(S.length)==="/"),G={isActive:X,isPending:H,isTransitioning:M},W=X?e:void 0,B;typeof i=="function"?B=i(G):B=[i,X?"active":null,H?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(G):a;return oe.createElement(Vu,{...f,"aria-current":W,className:B,ref:p,style:I,to:s,viewTransition:l},typeof c=="function"?c(G):c)});o1.displayName="NavLink";var h5=oe.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:s=D_,action:l,onSubmit:c,relative:f,preventScrollReset:p,viewTransition:g,...y},v)=>{let _=v5(),D=x5(l,{relative:f}),M=s.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&qL.test(l),N=P=>{if(c&&c(P),P.defaultPrevented)return;P.preventDefault();let U=P.nativeEvent.submitter,X=(U==null?void 0:U.getAttribute("formmethod"))||s;_(U||P.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:r,state:a,relative:f,preventScrollReset:p,viewTransition:g})};return oe.createElement("form",{ref:v,method:M,action:D,onSubmit:i?c:N,...y,"data-discover":!S&&n==="render"?"true":void 0})});h5.displayName="Form";function d5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZL(n){let e=oe.useContext(mv);return ua(e,d5(n)),e}function p5(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:s}={}){let l=a1(),c=Ch(),f=Rx(n,{relative:a});return oe.useCallback(p=>{if(YF(p,e)){p.preventDefault();let g=t!==void 0?t:W0(c)===W0(f);l(n,{replace:g,state:i,preventScrollReset:r,relative:a,viewTransition:s})}},[c,l,f,t,i,e,n,r,a,s])}function m5(n){Ef(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=oe.useRef(Iw(n)),t=oe.useRef(!1),i=Ch(),r=oe.useMemo(()=>jF(i.search,t.current?null:e.current),[i.search]),a=a1(),s=oe.useCallback((l,c)=>{const f=Iw(typeof l=="function"?l(new URLSearchParams(r)):l);t.current=!0,a("?"+f,c)},[a,r]);return[r,s]}var g5=0,y5=()=>`__${String(++g5)}__`;function v5(){let{router:n}=ZL("useSubmit"),{basename:e}=oe.useContext(Ah),t=IF();return oe.useCallback(async(i,r={})=>{let{action:a,method:s,encType:l,formData:c,body:f}=KF(i,e);if(r.navigate===!1){let p=r.fetcherKey||y5();await n.fetch(p,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||s,formEncType:r.encType||l,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||s,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function x5(n,{relative:e}={}){let{basename:t}=oe.useContext(Ah),i=oe.useContext(Tf);ua(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Rx(n||".",{relative:e})},s=Ch();if(n==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(p=>p==="")){l.delete("index"),c.filter(g=>g).forEach(g=>l.append("index",g));let p=l.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:vd([t,a.pathname])),W0(a)}function b5(n,{relative:e}={}){let t=oe.useContext(BL);ua(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ZL("useViewTransitionState"),r=Rx(n,{relative:e});if(!t.isTransitioning)return!1;let a=_d(t.currentLocation.pathname,i)||t.currentLocation.pathname,s=_d(t.nextLocation.pathname,i)||t.nextLocation.pathname;return K_(r.pathname,s)!=null||K_(r.pathname,a)!=null}function KL(){return fe.jsx("div",{className:"card-wrapper w-[180px] h-[180px]  relative",children:fe.jsx("img",{src:"/profileImg.jpg",alt:"round",className:"w-full h-full rounded-full object-cover object-top relative z-10"})})}function _5(){return fe.jsxs("section",{className:"glass mt-12 p-10 flex flex-col lg:flex-row items-center gap-10 mb-6 ",children:[fe.jsx("div",{children:fe.jsx(KL,{})}),fe.jsxs("div",{children:[fe.jsx("h2",{className:"text-2xl  text-white mb-2",children:"About Me"}),fe.jsx("p",{className:"text-gray-200 mb-4 max-w 4xl line-clamp-2",children:"Im a web developer based in South Korea who loves bringing ideas to life online. I enjoy building websites and apps that look great and actually work  from the layout and design all the way to the behind-the-scenes logic. Whether Im creating smooth user experiences or solving tricky backend challenges, I get excited about turning complex problems into simple, useful tools that people enjoy using."}),fe.jsx(Vu,{to:"/about",className:"inline-block text-purple-400 hover:underline text-sm",children:"Learn More About Me "})]})]})}function QL({projects:n}){return fe.jsx(Vu,{className:"block transform transition duration-300 hover:scale-[1.02]",to:`/projects/${n.id}`,children:fe.jsxs("div",{className:"glass h-full  rounded-lg overflow-hidden shadow-sm transition hover:shadow-md",children:[fe.jsx("img",{src:n.image,alt:n.title,className:"w-full h-40 object-cover"}),fe.jsxs("div",{className:"p-5",children:[fe.jsxs("h3",{className:"text-3xl font-semibold text-purple-500 mb-1",children:[" ",n.title]}),fe.jsx("p",{className:"text-sm text-gray-300 mb-2 line-clamp-1",children:n.description}),fe.jsx("span",{className:"text-purple-400 hover:underline text-sm",children:"Read more"}),fe.jsxs("div",{className:"flex justify-between items-center-text-sm text-gray-400",children:[fe.jsx("span",{children:n.category}),fe.jsx("span",{children:new Date(n.date).toLocaleDateString()})]})]})]})})}var Dx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},S5={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},wp,uA,SL,E5=(SL=class{constructor(){wn(this,wp,S5);wn(this,uA,!1)}setTimeoutProvider(n){an(this,wp,n)}setTimeout(n,e){return Re(this,wp).setTimeout(n,e)}clearTimeout(n){Re(this,wp).clearTimeout(n)}setInterval(n,e){return Re(this,wp).setInterval(n,e)}clearInterval(n){Re(this,wp).clearInterval(n)}},wp=new WeakMap,uA=new WeakMap,SL),qm=new E5;function T5(n){setTimeout(n,0)}var pg=typeof window>"u"||"Deno"in globalThis;function Kl(){}function w5(n,e){return typeof n=="function"?n(e):n}function zw(n){return typeof n=="number"&&n>=0&&n!==1/0}function JL(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Up(n,e){return typeof n=="function"?n(e):n}function wc(n,e){return typeof n=="function"?n(e):n}function gR(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:a,queryKey:s,stale:l}=n;if(s){if(i){if(e.queryHash!==vA(s,e.options))return!1}else if(!j0(e.queryKey,s))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||a&&!a(e))}function yR(n,e){const{exact:t,status:i,predicate:r,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(Y0(e.options.mutationKey)!==Y0(a))return!1}else if(!j0(e.options.mutationKey,a))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function vA(n,e){return((e==null?void 0:e.queryKeyHashFn)||Y0)(n)}function Y0(n){return JSON.stringify(n,(e,t)=>Bw(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function j0(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>j0(n[t],e[t])):!1}var M5=Object.prototype.hasOwnProperty;function $L(n,e){if(n===e)return n;const t=vR(n)&&vR(e);if(!t&&!(Bw(n)&&Bw(e)))return e;const r=(t?n:Object.keys(n)).length,a=t?e:Object.keys(e),s=a.length,l=t?new Array(s):{};let c=0;for(let f=0;f<s;f++){const p=t?f:a[f],g=n[p],y=e[p];if(g===y){l[p]=g,(t?f<r:M5.call(n,p))&&c++;continue}if(g===null||y===null||typeof g!="object"||typeof y!="object"){l[p]=y;continue}const v=$L(g,y);l[p]=v,v===g&&c++}return r===s&&c===r?n:l}function kw(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function vR(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Bw(n){if(!xR(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!xR(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function xR(n){return Object.prototype.toString.call(n)==="[object Object]"}function A5(n){return new Promise(e=>{qm.setTimeout(e,n)})}function Fw(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?$L(n,e):e}function C5(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function R5(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var xA=Symbol();function eN(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===xA?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function D5(n,e){return typeof n=="function"?n(...e):!!n}var eg,Mp,Fy,EL,O5=(EL=class extends Dx{constructor(){super();wn(this,eg);wn(this,Mp);wn(this,Fy);an(this,Fy,e=>{if(!pg&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Re(this,Mp)||this.setEventListener(Re(this,Fy))}onUnsubscribe(){var e;this.hasListeners()||((e=Re(this,Mp))==null||e.call(this),an(this,Mp,void 0))}setEventListener(e){var t;an(this,Fy,e),(t=Re(this,Mp))==null||t.call(this),an(this,Mp,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){Re(this,eg)!==e&&(an(this,eg,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Re(this,eg)=="boolean"?Re(this,eg):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},eg=new WeakMap,Mp=new WeakMap,Fy=new WeakMap,EL),bA=new O5;function Hw(){let n,e;const t=new Promise((r,a)=>{n=r,e=a});t.status="pending",t.catch(()=>{});function i(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{i({status:"fulfilled",value:r}),n(r)},t.reject=r=>{i({status:"rejected",reason:r}),e(r)},t}var P5=T5;function L5(){let n=[],e=0,t=l=>{l()},i=l=>{l()},r=P5;const a=l=>{e?n.push(l):r(()=>{t(l)})},s=()=>{const l=n;n=[],l.length&&r(()=>{i(()=>{l.forEach(c=>{t(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||s()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{r=l}}}var ro=L5(),Hy,Ap,Vy,TL,N5=(TL=class extends Dx{constructor(){super();wn(this,Hy,!0);wn(this,Ap);wn(this,Vy);an(this,Vy,e=>{if(!pg&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){Re(this,Ap)||this.setEventListener(Re(this,Vy))}onUnsubscribe(){var e;this.hasListeners()||((e=Re(this,Ap))==null||e.call(this),an(this,Ap,void 0))}setEventListener(e){var t;an(this,Vy,e),(t=Re(this,Ap))==null||t.call(this),an(this,Ap,e(this.setOnline.bind(this)))}setOnline(e){Re(this,Hy)!==e&&(an(this,Hy,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return Re(this,Hy)}},Hy=new WeakMap,Ap=new WeakMap,Vy=new WeakMap,TL),Q_=new N5;function U5(n){return Math.min(1e3*2**n,3e4)}function tN(n){return(n??"online")==="online"?Q_.isOnline():!0}var Vw=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function nN(n){let e=!1,t=0,i;const r=Hw(),a=()=>r.status!=="pending",s=D=>{var M;if(!a()){const S=new Vw(D);y(S),(M=n.onCancel)==null||M.call(n,S)}},l=()=>{e=!0},c=()=>{e=!1},f=()=>bA.isFocused()&&(n.networkMode==="always"||Q_.isOnline())&&n.canRun(),p=()=>tN(n.networkMode)&&n.canRun(),g=D=>{a()||(i==null||i(),r.resolve(D))},y=D=>{a()||(i==null||i(),r.reject(D))},v=()=>new Promise(D=>{var M;i=S=>{(a()||f())&&D(S)},(M=n.onPause)==null||M.call(n)}).then(()=>{var D;i=void 0,a()||(D=n.onContinue)==null||D.call(n)}),_=()=>{if(a())return;let D;const M=t===0?n.initialPromise:void 0;try{D=M??n.fn()}catch(S){D=Promise.reject(S)}Promise.resolve(D).then(g).catch(S=>{var H;if(a())return;const N=n.retry??(pg?0:3),P=n.retryDelay??U5,U=typeof P=="function"?P(t,S):P,X=N===!0||typeof N=="number"&&t<N||typeof N=="function"&&N(t,S);if(e||!X){y(S);return}t++,(H=n.onFail)==null||H.call(n,t,S),A5(U).then(()=>f()?void 0:v()).then(()=>{e?y(S):_()})})};return{promise:r,status:()=>r.status,cancel:s,continue:()=>(i==null||i(),r),cancelRetry:l,continueRetry:c,canStart:p,start:()=>(p()?_():v().then(_),r)}}var tg,wL,iN=(wL=class{constructor(){wn(this,tg)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zw(this.gcTime)&&an(this,tg,qm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(pg?1/0:300*1e3))}clearGcTimeout(){Re(this,tg)&&(qm.clearTimeout(Re(this,tg)),an(this,tg,void 0))}},tg=new WeakMap,wL),ng,Gy,Tc,ig,Ns,Sx,rg,gf,fd,ML,I5=(ML=class extends iN{constructor(e){super();wn(this,gf);wn(this,ng);wn(this,Gy);wn(this,Tc);wn(this,ig);wn(this,Ns);wn(this,Sx);wn(this,rg);an(this,rg,!1),an(this,Sx,e.defaultOptions),this.setOptions(e.options),this.observers=[],an(this,ig,e.client),an(this,Tc,Re(this,ig).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,an(this,ng,bR(this.options)),this.state=e.state??Re(this,ng),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Re(this,Ns))==null?void 0:e.promise}setOptions(e){if(this.options={...Re(this,Sx),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=bR(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),an(this,ng,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Re(this,Tc).remove(this)}setData(e,t){const i=Fw(this.state.data,e,this.options);return yi(this,gf,fd).call(this,{data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){yi(this,gf,fd).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var i,r;const t=(i=Re(this,Ns))==null?void 0:i.promise;return(r=Re(this,Ns))==null||r.cancel(e),t?t.then(Kl).catch(Kl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Re(this,ng))}isActive(){return this.observers.some(e=>wc(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Up(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!JL(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Re(this,Ns))==null||t.continue()}onOnline(){var t;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Re(this,Ns))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Re(this,Tc).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Re(this,Ns)&&(Re(this,rg)?Re(this,Ns).cancel({revert:!0}):Re(this,Ns).cancelRetry()),this.scheduleGc()),Re(this,Tc).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yi(this,gf,fd).call(this,{type:"invalidate"})}async fetch(e,t){var c,f,p,g,y,v,_,D,M,S,N,P;if(this.state.fetchStatus!=="idle"&&((c=Re(this,Ns))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Re(this,Ns))return Re(this,Ns).continueRetry(),Re(this,Ns).promise}if(e&&this.setOptions(e),!this.options.queryFn){const U=this.observers.find(X=>X.options.queryFn);U&&this.setOptions(U.options)}const i=new AbortController,r=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(an(this,rg,!0),i.signal)})},a=()=>{const U=eN(this.options,t),H=(()=>{const G={client:Re(this,ig),queryKey:this.queryKey,meta:this.meta};return r(G),G})();return an(this,rg,!1),this.options.persister?this.options.persister(U,H,this):U(H)},l=(()=>{const U={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Re(this,ig),state:this.state,fetchFn:a};return r(U),U})();(f=this.options.behavior)==null||f.onFetch(l,this),an(this,Gy,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&yi(this,gf,fd).call(this,{type:"fetch",meta:(g=l.fetchOptions)==null?void 0:g.meta}),an(this,Ns,nN({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,onCancel:U=>{U instanceof Vw&&U.revert&&this.setState({...Re(this,Gy),fetchStatus:"idle"}),i.abort()},onFail:(U,X)=>{yi(this,gf,fd).call(this,{type:"failed",failureCount:U,error:X})},onPause:()=>{yi(this,gf,fd).call(this,{type:"pause"})},onContinue:()=>{yi(this,gf,fd).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const U=await Re(this,Ns).start();if(U===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(U),(v=(y=Re(this,Tc).config).onSuccess)==null||v.call(y,U,this),(D=(_=Re(this,Tc).config).onSettled)==null||D.call(_,U,this.state.error,this),U}catch(U){if(U instanceof Vw){if(U.silent)return Re(this,Ns).promise;if(U.revert){if(this.state.data===void 0)throw U;return this.state.data}}throw yi(this,gf,fd).call(this,{type:"error",error:U}),(S=(M=Re(this,Tc).config).onError)==null||S.call(M,U,this),(P=(N=Re(this,Tc).config).onSettled)==null||P.call(N,this.state.data,U,this),U}finally{this.scheduleGc()}}},ng=new WeakMap,Gy=new WeakMap,Tc=new WeakMap,ig=new WeakMap,Ns=new WeakMap,Sx=new WeakMap,rg=new WeakMap,gf=new WeakSet,fd=function(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...rN(i.data,this.options),fetchMeta:e.meta??null};case"success":const r={...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return an(this,Gy,e.manual?r:void 0),r;case"error":const a=e.error;return{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),ro.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Re(this,Tc).notify({query:this,type:"updated",action:e})})},ML);function rN(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tN(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function bR(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Zl,vi,Ex,fl,ag,Xy,pd,Cp,Tx,Wy,Yy,sg,og,Rp,jy,qi,y0,Gw,Xw,Ww,Yw,jw,qw,Zw,aN,AL,z5=(AL=class extends Dx{constructor(e,t){super();wn(this,qi);wn(this,Zl);wn(this,vi);wn(this,Ex);wn(this,fl);wn(this,ag);wn(this,Xy);wn(this,pd);wn(this,Cp);wn(this,Tx);wn(this,Wy);wn(this,Yy);wn(this,sg);wn(this,og);wn(this,Rp);wn(this,jy,new Set);this.options=t,an(this,Zl,e),an(this,Cp,null),an(this,pd,Hw()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Re(this,vi).addObserver(this),_R(Re(this,vi),this.options)?yi(this,qi,y0).call(this):this.updateResult(),yi(this,qi,Yw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kw(Re(this,vi),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kw(Re(this,vi),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,yi(this,qi,jw).call(this),yi(this,qi,qw).call(this),Re(this,vi).removeObserver(this)}setOptions(e){const t=this.options,i=Re(this,vi);if(this.options=Re(this,Zl).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wc(this.options.enabled,Re(this,vi))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");yi(this,qi,Zw).call(this),Re(this,vi).setOptions(this.options),t._defaulted&&!kw(this.options,t)&&Re(this,Zl).getQueryCache().notify({type:"observerOptionsUpdated",query:Re(this,vi),observer:this});const r=this.hasListeners();r&&SR(Re(this,vi),i,this.options,t)&&yi(this,qi,y0).call(this),this.updateResult(),r&&(Re(this,vi)!==i||wc(this.options.enabled,Re(this,vi))!==wc(t.enabled,Re(this,vi))||Up(this.options.staleTime,Re(this,vi))!==Up(t.staleTime,Re(this,vi)))&&yi(this,qi,Gw).call(this);const a=yi(this,qi,Xw).call(this);r&&(Re(this,vi)!==i||wc(this.options.enabled,Re(this,vi))!==wc(t.enabled,Re(this,vi))||a!==Re(this,Rp))&&yi(this,qi,Ww).call(this,a)}getOptimisticResult(e){const t=Re(this,Zl).getQueryCache().build(Re(this,Zl),e),i=this.createResult(t,e);return B5(this,i)&&(an(this,fl,i),an(this,Xy,this.options),an(this,ag,Re(this,vi).state)),i}getCurrentResult(){return Re(this,fl)}trackResult(e,t){return new Proxy(e,{get:(i,r)=>(this.trackProp(r),t==null||t(r),r==="promise"&&!this.options.experimental_prefetchInRender&&Re(this,pd).status==="pending"&&Re(this,pd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(i,r))})}trackProp(e){Re(this,jy).add(e)}getCurrentQuery(){return Re(this,vi)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Re(this,Zl).defaultQueryOptions(e),i=Re(this,Zl).getQueryCache().build(Re(this,Zl),t);return i.fetch().then(()=>this.createResult(i,t))}fetch(e){return yi(this,qi,y0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Re(this,fl)))}createResult(e,t){var B;const i=Re(this,vi),r=this.options,a=Re(this,fl),s=Re(this,ag),l=Re(this,Xy),f=e!==i?e.state:Re(this,Ex),{state:p}=e;let g={...p},y=!1,v;if(t._optimisticResults){const I=this.hasListeners(),Z=!I&&_R(e,t),ae=I&&SR(e,i,t,r);(Z||ae)&&(g={...g,...rN(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:_,errorUpdatedAt:D,status:M}=g;v=g.data;let S=!1;if(t.placeholderData!==void 0&&v===void 0&&M==="pending"){let I;a!=null&&a.isPlaceholderData&&t.placeholderData===(l==null?void 0:l.placeholderData)?(I=a.data,S=!0):I=typeof t.placeholderData=="function"?t.placeholderData((B=Re(this,Yy))==null?void 0:B.state.data,Re(this,Yy)):t.placeholderData,I!==void 0&&(M="success",v=Fw(a==null?void 0:a.data,I,t),y=!0)}if(t.select&&v!==void 0&&!S)if(a&&v===(s==null?void 0:s.data)&&t.select===Re(this,Tx))v=Re(this,Wy);else try{an(this,Tx,t.select),v=t.select(v),v=Fw(a==null?void 0:a.data,v,t),an(this,Wy,v),an(this,Cp,null)}catch(I){an(this,Cp,I)}Re(this,Cp)&&(_=Re(this,Cp),v=Re(this,Wy),D=Date.now(),M="error");const N=g.fetchStatus==="fetching",P=M==="pending",U=M==="error",X=P&&N,H=v!==void 0,W={status:M,fetchStatus:g.fetchStatus,isPending:P,isSuccess:M==="success",isError:U,isInitialLoading:X,isLoading:X,data:v,dataUpdatedAt:g.dataUpdatedAt,error:_,errorUpdatedAt:D,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:N,isRefetching:N&&!P,isLoadingError:U&&!H,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:U&&H,isStale:_A(e,t),refetch:this.refetch,promise:Re(this,pd),isEnabled:wc(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=se=>{W.status==="error"?se.reject(W.error):W.data!==void 0&&se.resolve(W.data)},Z=()=>{const se=an(this,pd,W.promise=Hw());I(se)},ae=Re(this,pd);switch(ae.status){case"pending":e.queryHash===i.queryHash&&I(ae);break;case"fulfilled":(W.status==="error"||W.data!==ae.value)&&Z();break;case"rejected":(W.status!=="error"||W.error!==ae.reason)&&Z();break}}return W}updateResult(){const e=Re(this,fl),t=this.createResult(Re(this,vi),this.options);if(an(this,ag,Re(this,vi).state),an(this,Xy,this.options),Re(this,ag).data!==void 0&&an(this,Yy,Re(this,vi)),kw(t,e))return;an(this,fl,t);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!Re(this,jy).size)return!0;const s=new Set(a??Re(this,jy));return this.options.throwOnError&&s.add("error"),Object.keys(Re(this,fl)).some(l=>{const c=l;return Re(this,fl)[c]!==e[c]&&s.has(c)})};yi(this,qi,aN).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&yi(this,qi,Yw).call(this)}},Zl=new WeakMap,vi=new WeakMap,Ex=new WeakMap,fl=new WeakMap,ag=new WeakMap,Xy=new WeakMap,pd=new WeakMap,Cp=new WeakMap,Tx=new WeakMap,Wy=new WeakMap,Yy=new WeakMap,sg=new WeakMap,og=new WeakMap,Rp=new WeakMap,jy=new WeakMap,qi=new WeakSet,y0=function(e){yi(this,qi,Zw).call(this);let t=Re(this,vi).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Kl)),t},Gw=function(){yi(this,qi,jw).call(this);const e=Up(this.options.staleTime,Re(this,vi));if(pg||Re(this,fl).isStale||!zw(e))return;const i=JL(Re(this,fl).dataUpdatedAt,e)+1;an(this,sg,qm.setTimeout(()=>{Re(this,fl).isStale||this.updateResult()},i))},Xw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Re(this,vi)):this.options.refetchInterval)??!1},Ww=function(e){yi(this,qi,qw).call(this),an(this,Rp,e),!(pg||wc(this.options.enabled,Re(this,vi))===!1||!zw(Re(this,Rp))||Re(this,Rp)===0)&&an(this,og,qm.setInterval(()=>{(this.options.refetchIntervalInBackground||bA.isFocused())&&yi(this,qi,y0).call(this)},Re(this,Rp)))},Yw=function(){yi(this,qi,Gw).call(this),yi(this,qi,Ww).call(this,yi(this,qi,Xw).call(this))},jw=function(){Re(this,sg)&&(qm.clearTimeout(Re(this,sg)),an(this,sg,void 0))},qw=function(){Re(this,og)&&(qm.clearInterval(Re(this,og)),an(this,og,void 0))},Zw=function(){const e=Re(this,Zl).getQueryCache().build(Re(this,Zl),this.options);if(e===Re(this,vi))return;const t=Re(this,vi);an(this,vi,e),an(this,Ex,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},aN=function(e){ro.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Re(this,fl))}),Re(this,Zl).getQueryCache().notify({query:Re(this,vi),type:"observerResultsUpdated"})})},AL);function k5(n,e){return wc(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function _R(n,e){return k5(n,e)||n.state.data!==void 0&&Kw(n,e,e.refetchOnMount)}function Kw(n,e,t){if(wc(e.enabled,n)!==!1&&Up(e.staleTime,n)!=="static"){const i=typeof t=="function"?t(n):t;return i==="always"||i!==!1&&_A(n,e)}return!1}function SR(n,e,t,i){return(n!==e||wc(i.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&_A(n,t)}function _A(n,e){return wc(e.enabled,n)!==!1&&n.isStaleByTime(Up(e.staleTime,n))}function B5(n,e){return!kw(n.getCurrentResult(),e)}function ER(n){return{onFetch:(e,t)=>{var p,g,y,v,_;const i=e.options,r=(y=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,a=((v=e.state.data)==null?void 0:v.pages)||[],s=((_=e.state.data)==null?void 0:_.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const f=async()=>{let D=!1;const M=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?D=!0:e.signal.addEventListener("abort",()=>{D=!0}),e.signal)})},S=eN(e.options,e.fetchOptions),N=async(P,U,X)=>{if(D)return Promise.reject();if(U==null&&P.pages.length)return Promise.resolve(P);const G=(()=>{const Z={client:e.client,queryKey:e.queryKey,pageParam:U,direction:X?"backward":"forward",meta:e.options.meta};return M(Z),Z})(),W=await S(G),{maxPages:B}=e.options,I=X?R5:C5;return{pages:I(P.pages,W,B),pageParams:I(P.pageParams,U,B)}};if(r&&a.length){const P=r==="backward",U=P?F5:TR,X={pages:a,pageParams:s},H=U(i,X);l=await N(X,H,P)}else{const P=n??a.length;do{const U=c===0?s[0]??i.initialPageParam:TR(i,l);if(c>0&&U==null)break;l=await N(l,U),c++}while(c<P)}return l};e.options.persister?e.fetchFn=()=>{var D,M;return(M=(D=e.options).persister)==null?void 0:M.call(D,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=f}}}function TR(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function F5(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var wx,ph,hl,lg,mh,yp,CL,H5=(CL=class extends iN{constructor(e){super();wn(this,mh);wn(this,wx);wn(this,ph);wn(this,hl);wn(this,lg);an(this,wx,e.client),this.mutationId=e.mutationId,an(this,hl,e.mutationCache),an(this,ph,[]),this.state=e.state||V5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Re(this,ph).includes(e)||(Re(this,ph).push(e),this.clearGcTimeout(),Re(this,hl).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){an(this,ph,Re(this,ph).filter(t=>t!==e)),this.scheduleGc(),Re(this,hl).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Re(this,ph).length||(this.state.status==="pending"?this.scheduleGc():Re(this,hl).remove(this))}continue(){var e;return((e=Re(this,lg))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,l,c,f,p,g,y,v,_,D,M,S,N,P,U,X,H,G,W,B;const t=()=>{yi(this,mh,yp).call(this,{type:"continue"})},i={client:Re(this,wx),meta:this.options.meta,mutationKey:this.options.mutationKey};an(this,lg,nN({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(I,Z)=>{yi(this,mh,yp).call(this,{type:"failed",failureCount:I,error:Z})},onPause:()=>{yi(this,mh,yp).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Re(this,hl).canRun(this)}));const r=this.state.status==="pending",a=!Re(this,lg).canStart();try{if(r)t();else{yi(this,mh,yp).call(this,{type:"pending",variables:e,isPaused:a}),await((l=(s=Re(this,hl).config).onMutate)==null?void 0:l.call(s,e,this,i));const Z=await((f=(c=this.options).onMutate)==null?void 0:f.call(c,e,i));Z!==this.state.context&&yi(this,mh,yp).call(this,{type:"pending",context:Z,variables:e,isPaused:a})}const I=await Re(this,lg).start();return await((g=(p=Re(this,hl).config).onSuccess)==null?void 0:g.call(p,I,e,this.state.context,this,i)),await((v=(y=this.options).onSuccess)==null?void 0:v.call(y,I,e,this.state.context,i)),await((D=(_=Re(this,hl).config).onSettled)==null?void 0:D.call(_,I,null,this.state.variables,this.state.context,this,i)),await((S=(M=this.options).onSettled)==null?void 0:S.call(M,I,null,e,this.state.context,i)),yi(this,mh,yp).call(this,{type:"success",data:I}),I}catch(I){try{throw await((P=(N=Re(this,hl).config).onError)==null?void 0:P.call(N,I,e,this.state.context,this,i)),await((X=(U=this.options).onError)==null?void 0:X.call(U,I,e,this.state.context,i)),await((G=(H=Re(this,hl).config).onSettled)==null?void 0:G.call(H,void 0,I,this.state.variables,this.state.context,this,i)),await((B=(W=this.options).onSettled)==null?void 0:B.call(W,void 0,I,e,this.state.context,i)),I}finally{yi(this,mh,yp).call(this,{type:"error",error:I})}}finally{Re(this,hl).runNext(this)}}},wx=new WeakMap,ph=new WeakMap,hl=new WeakMap,lg=new WeakMap,mh=new WeakSet,yp=function(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ro.batch(()=>{Re(this,ph).forEach(i=>{i.onMutationUpdate(e)}),Re(this,hl).notify({mutation:this,type:"updated",action:e})})},CL);function V5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var md,yf,Mx,RL,G5=(RL=class extends Dx{constructor(e={}){super();wn(this,md);wn(this,yf);wn(this,Mx);this.config=e,an(this,md,new Set),an(this,yf,new Map),an(this,Mx,0)}build(e,t,i){const r=new H5({client:e,mutationCache:this,mutationId:++xb(this,Mx)._,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){Re(this,md).add(e);const t=_b(e);if(typeof t=="string"){const i=Re(this,yf).get(t);i?i.push(e):Re(this,yf).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Re(this,md).delete(e)){const t=_b(e);if(typeof t=="string"){const i=Re(this,yf).get(t);if(i)if(i.length>1){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}else i[0]===e&&Re(this,yf).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=_b(e);if(typeof t=="string"){const i=Re(this,yf).get(t),r=i==null?void 0:i.find(a=>a.state.status==="pending");return!r||r===e}else return!0}runNext(e){var i;const t=_b(e);if(typeof t=="string"){const r=(i=Re(this,yf).get(t))==null?void 0:i.find(a=>a!==e&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ro.batch(()=>{Re(this,md).forEach(e=>{this.notify({type:"removed",mutation:e})}),Re(this,md).clear(),Re(this,yf).clear()})}getAll(){return Array.from(Re(this,md))}find(e){const t={exact:!0,...e};return this.getAll().find(i=>yR(t,i))}findAll(e={}){return this.getAll().filter(t=>yR(e,t))}notify(e){ro.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ro.batch(()=>Promise.all(e.map(t=>t.continue().catch(Kl))))}},md=new WeakMap,yf=new WeakMap,Mx=new WeakMap,RL);function _b(n){var e;return(e=n.options.scope)==null?void 0:e.id}var gh,DL,X5=(DL=class extends Dx{constructor(e={}){super();wn(this,gh);this.config=e,an(this,gh,new Map)}build(e,t,i){const r=t.queryKey,a=t.queryHash??vA(r,t);let s=this.get(a);return s||(s=new I5({client:e,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){Re(this,gh).has(e.queryHash)||(Re(this,gh).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Re(this,gh).get(e.queryHash);t&&(e.destroy(),t===e&&Re(this,gh).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ro.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Re(this,gh).get(e)}getAll(){return[...Re(this,gh).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>gR(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>gR(e,i)):t}notify(e){ro.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ro.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ro.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gh=new WeakMap,DL),Aa,Dp,Op,qy,Zy,Pp,Ky,Qy,OL,W5=(OL=class{constructor(n={}){wn(this,Aa);wn(this,Dp);wn(this,Op);wn(this,qy);wn(this,Zy);wn(this,Pp);wn(this,Ky);wn(this,Qy);an(this,Aa,n.queryCache||new X5),an(this,Dp,n.mutationCache||new G5),an(this,Op,n.defaultOptions||{}),an(this,qy,new Map),an(this,Zy,new Map),an(this,Pp,0)}mount(){xb(this,Pp)._++,Re(this,Pp)===1&&(an(this,Ky,bA.subscribe(async n=>{n&&(await this.resumePausedMutations(),Re(this,Aa).onFocus())})),an(this,Qy,Q_.subscribe(async n=>{n&&(await this.resumePausedMutations(),Re(this,Aa).onOnline())})))}unmount(){var n,e;xb(this,Pp)._--,Re(this,Pp)===0&&((n=Re(this,Ky))==null||n.call(this),an(this,Ky,void 0),(e=Re(this,Qy))==null||e.call(this),an(this,Qy,void 0))}isFetching(n){return Re(this,Aa).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Re(this,Dp).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Re(this,Aa).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Re(this,Aa).build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Up(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return Re(this,Aa).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),r=Re(this,Aa).get(i.queryHash),a=r==null?void 0:r.state.data,s=w5(e,a);if(s!==void 0)return Re(this,Aa).build(this,i).setData(s,{...t,manual:!0})}setQueriesData(n,e,t){return ro.batch(()=>Re(this,Aa).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Re(this,Aa).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Re(this,Aa);ro.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Re(this,Aa);return ro.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},i=ro.batch(()=>Re(this,Aa).findAll(n).map(r=>r.cancel(t)));return Promise.all(i).then(Kl).catch(Kl)}invalidateQueries(n,e={}){return ro.batch(()=>(Re(this,Aa).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=ro.batch(()=>Re(this,Aa).findAll(n).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let a=r.fetch(void 0,t);return t.throwOnError||(a=a.catch(Kl)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(Kl)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Re(this,Aa).build(this,e);return t.isStaleByTime(Up(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Kl).catch(Kl)}fetchInfiniteQuery(n){return n.behavior=ER(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Kl).catch(Kl)}ensureInfiniteQueryData(n){return n.behavior=ER(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Q_.isOnline()?Re(this,Dp).resumePausedMutations():Promise.resolve()}getQueryCache(){return Re(this,Aa)}getMutationCache(){return Re(this,Dp)}getDefaultOptions(){return Re(this,Op)}setDefaultOptions(n){an(this,Op,n)}setQueryDefaults(n,e){Re(this,qy).set(Y0(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Re(this,qy).values()],t={};return e.forEach(i=>{j0(n,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(n,e){Re(this,Zy).set(Y0(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Re(this,Zy).values()],t={};return e.forEach(i=>{j0(n,i.mutationKey)&&Object.assign(t,i.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Re(this,Op).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=vA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===xA&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Re(this,Op).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Re(this,Aa).clear(),Re(this,Dp).clear()}},Aa=new WeakMap,Dp=new WeakMap,Op=new WeakMap,qy=new WeakMap,Zy=new WeakMap,Pp=new WeakMap,Ky=new WeakMap,Qy=new WeakMap,OL),sN=oe.createContext(void 0),Y5=n=>{const e=oe.useContext(sN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},j5=({client:n,children:e})=>(oe.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),fe.jsx(sN.Provider,{value:n,children:e})),oN=oe.createContext(!1),q5=()=>oe.useContext(oN);oN.Provider;function Z5(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var K5=oe.createContext(Z5()),Q5=()=>oe.useContext(K5),J5=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},$5=n=>{oe.useEffect(()=>{n.clearReset()},[n])},e6=({result:n,errorResetBoundary:e,throwOnError:t,query:i,suspense:r})=>n.isError&&!e.isReset()&&!n.isFetching&&i&&(r&&n.data===void 0||D5(t,[n.error,i])),t6=n=>{if(n.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),i=n.staleTime;n.staleTime=typeof i=="function"?(...r)=>t(i(...r)):t(i),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},n6=(n,e)=>n.isLoading&&n.isFetching&&!e,i6=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,wR=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function r6(n,e,t){var g,y,v,_,D;const i=q5(),r=Q5(),a=Y5(),s=a.defaultQueryOptions(n);(y=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||y.call(g,s),s._optimisticResults=i?"isRestoring":"optimistic",t6(s),J5(s,r),$5(r);const l=!a.getQueryCache().get(s.queryHash),[c]=oe.useState(()=>new e(a,s)),f=c.getOptimisticResult(s),p=!i&&n.subscribed!==!1;if(oe.useSyncExternalStore(oe.useCallback(M=>{const S=p?c.subscribe(ro.batchCalls(M)):Kl;return c.updateResult(),S},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),oe.useEffect(()=>{c.setOptions(s)},[s,c]),i6(s,f))throw wR(s,c,r);if(e6({result:f,errorResetBoundary:r,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw f.error;if((_=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||_.call(v,s,f),s.experimental_prefetchInRender&&!pg&&n6(f,i)){const M=l?wR(s,c,r):(D=a.getQueryCache().get(s.queryHash))==null?void 0:D.promise;M==null||M.catch(Kl).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?f:c.trackResult(f)}function l1(n,e){return r6(n,z5)}const a6="modulepreload",s6=function(n){return"/"+n},MR={},Ox=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let s=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=s(t.map(f=>{if(f=s6(f),f in MR)return;MR[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":a6,p||(y.as="script"),y.crossOrigin="",y.href=f,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((v,_)=>{y.addEventListener("load",v),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},o6=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ox(async()=>{const{default:i}=await Promise.resolve().then(()=>gv);return{default:i}},[]).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class SA extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class l6 extends SA{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class AR extends SA{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class CR extends SA{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qw;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Qw||(Qw={}));var u6=function(n,e,t,i){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(i.next(p))}catch(g){s(g)}}function c(p){try{f(i.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,c)}f((i=i.apply(n,e||[])).next())})};class c6{constructor(e,{headers:t={},customFetch:i,region:r=Qw.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=o6(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return u6(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:s}=t;let l={},{region:c}=t;c||(c=this.region);const f=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,f.searchParams.set("forceFunctionRegion",c));let p;s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",p=s):typeof s=="string"?(l["Content-Type"]="text/plain",p=s):typeof FormData<"u"&&s instanceof FormData?p=s:(l["Content-Type"]="application/json",p=JSON.stringify(s)));const g=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:p}).catch(D=>{throw new l6(D)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new AR(g);if(!g.ok)throw new CR(g);let v=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield g.json():v==="application/octet-stream"?_=yield g.blob():v==="text/event-stream"?_=g:v==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(r){return{data:null,error:r,response:r instanceof CR||r instanceof AR?r.context:void 0}}})}}var Ps={},Gg={},Xg={},Wg={},Yg={},jg={},f6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jy=f6();const h6=Jy.fetch,lN=Jy.fetch.bind(Jy),uN=Jy.Headers,d6=Jy.Request,p6=Jy.Response,gv=Object.freeze(Object.defineProperty({__proto__:null,Headers:uN,Request:d6,Response:p6,default:lN,fetch:h6},Symbol.toStringTag,{value:"Module"})),m6=PL(gv);var Sb={},RR;function cN(){if(RR)return Sb;RR=1,Object.defineProperty(Sb,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Sb.default=n,Sb}var DR;function fN(){if(DR)return jg;DR=1;var n=jg&&jg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jg,"__esModule",{value:!0});const e=n(m6),t=n(cN());class i{constructor(a){var s,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,g,y,v;let _=null,D=null,M=null,S=f.status,N=f.statusText;if(f.ok){if(this.method!=="HEAD"){const H=await f.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?D=H:D=JSON.parse(H))}const U=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),X=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");U&&X&&X.length>1&&(M=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(D)&&(D.length>1?(_={code:"PGRST116",details:`Results contain ${D.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},D=null,M=null,S=406,N="Not Acceptable"):D.length===1?D=D[0]:D=null)}else{const U=await f.text();try{_=JSON.parse(U),Array.isArray(_)&&f.status===404&&(D=[],_=null,S=200,N="OK")}catch{f.status===404&&U===""?(S=204,N="No Content"):_={message:U}}if(_&&this.isMaybeSingle&&(!((v=_==null?void 0:_.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,S=200,N="OK"),_&&this.shouldThrowOnError)throw new t.default(_)}return{error:_,data:D,count:M,status:S,statusText:N}});return this.shouldThrowOnError||(c=c.catch(f=>{var p,g,y;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(g=f==null?void 0:f.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(y=f==null?void 0:f.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,s)}returns(){return this}overrideTypes(){return this}}return jg.default=i,jg}var OR;function hN(){if(OR)return Yg;OR=1;var n=Yg&&Yg.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Yg,"__esModule",{value:!0});const e=n(fN());class t extends e.default{select(r){let a=!1;const s=(r??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:s,foreignTable:l,referencedTable:c=l}={}){const f=c?`${c}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${r}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,a,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(f,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:s=!1,buffers:l=!1,wal:c=!1,format:f="text"}={}){var p;const g=[r?"analyze":null,a?"verbose":null,s?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return Yg.default=t,Yg}var PR;function EA(){if(PR)return Wg;PR=1;var n=Wg&&Wg.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wg,"__esModule",{value:!0});const e=n(hN());class t extends e.default{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}in(r,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const f=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${c}fts${f}.${a}`),this}match(r){return Object.entries(r).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(r,a,s){return this.url.searchParams.append(r,`not.${a}.${s}`),this}or(r,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,a,s){return this.url.searchParams.append(r,`${a}.${s}`),this}}return Wg.default=t,Wg}var LR;function dN(){if(LR)return Xg;LR=1;var n=Xg&&Xg.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xg,"__esModule",{value:!0});const e=n(EA());class t{constructor(r,{headers:a={},schema:s,fetch:l}){this.url=r,this.headers=new Headers(a),this.schema=s,this.fetch=l}select(r,{head:a=!1,count:s}={}){const l=a?"HEAD":"GET";let c=!1;const f=(r??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",f),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:s=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const f=r.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:s=!1,count:l,defaultToNull:c=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(r,{count:a}={}){var s;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var a;const s="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Xg.default=t,Xg}var NR;function g6(){if(NR)return Gg;NR=1;var n=Gg&&Gg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gg,"__esModule",{value:!0});const e=n(dN()),t=n(EA());class i{constructor(a,{headers:s={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(s),this.schemaName=l,this.fetch=c}from(a){const s=new URL(`${this.url}/${a}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new i(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:l=!1,get:c=!1,count:f}={}){var p;let g;const y=new URL(`${this.url}/rpc/${a}`);let v;l||c?(g=l?"HEAD":"GET",Object.entries(s).filter(([D,M])=>M!==void 0).map(([D,M])=>[D,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([D,M])=>{y.searchParams.append(D,M)})):(g="POST",v=s);const _=new Headers(this.headers);return f&&_.set("Prefer",`count=${f}`),new t.default({method:g,url:y,headers:_,schema:this.schemaName,body:v,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Gg.default=i,Gg}var UR;function y6(){if(UR)return Ps;UR=1;var n=Ps&&Ps.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.PostgrestError=Ps.PostgrestBuilder=Ps.PostgrestTransformBuilder=Ps.PostgrestFilterBuilder=Ps.PostgrestQueryBuilder=Ps.PostgrestClient=void 0;const e=n(g6());Ps.PostgrestClient=e.default;const t=n(dN());Ps.PostgrestQueryBuilder=t.default;const i=n(EA());Ps.PostgrestFilterBuilder=i.default;const r=n(hN());Ps.PostgrestTransformBuilder=r.default;const a=n(fN());Ps.PostgrestBuilder=a.default;const s=n(cN());return Ps.PostgrestError=s.default,Ps.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:a.default,PostgrestError:s.default},Ps}var v6=y6();const x6=dv(v6),{PostgrestClient:b6,PostgrestQueryBuilder:tue,PostgrestFilterBuilder:nue,PostgrestTransformBuilder:iue,PostgrestBuilder:rue,PostgrestError:aue}=x6;class _6{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,r=parseInt(i.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const S6="2.15.5",E6=`realtime-js/${S6}`,T6="1.0.0",Jw=1e4,w6=1e3,M6=100;var T0;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(T0||(T0={}));var gs;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(gs||(gs={}));var vf;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(vf||(vf={}));var $w;(function(n){n.websocket="websocket"})($w||($w={}));var Ym;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ym||(Ym={}));class A6{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const r=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const l=i.decode(e.slice(s,s+r));s=s+r;const c=i.decode(e.slice(s,s+a));s=s+a;const f=JSON.parse(i.decode(e.slice(s,e.byteLength)));return{ref:null,topic:l,event:c,payload:f}}}let pN=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Or;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Or||(Or={}));const IR=(n,e,t={})=>{var i;const r=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((a,s)=>(a[s]=C6(s,n,e,r),a),{})},C6=(n,e,t,i)=>{const r=e.find(l=>l.name===n),a=r==null?void 0:r.type,s=t[n];return a&&!i.includes(a)?mN(a,s):eM(s)},mN=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return P6(e,t)}switch(n){case Or.bool:return R6(e);case Or.float4:case Or.float8:case Or.int2:case Or.int4:case Or.int8:case Or.numeric:case Or.oid:return D6(e);case Or.json:case Or.jsonb:return O6(e);case Or.timestamp:return L6(e);case Or.abstime:case Or.date:case Or.daterange:case Or.int4range:case Or.int8range:case Or.money:case Or.reltime:case Or.text:case Or.time:case Or.timestamptz:case Or.timetz:case Or.tsrange:case Or.tstzrange:return eM(e);default:return eM(e)}},eM=n=>n,R6=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},D6=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},O6=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},P6=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let a;const s=n.slice(1,t);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>mN(e,l))}return n},L6=n=>typeof n=="string"?n.replace(" ","T"):n,gN=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class kE{constructor(e,t,i={},r=Jw){this.channel=e,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zR;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(zR||(zR={}));class w0{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=w0.syncState(this.state,r,a,s),this.pendingDiffs.forEach(c=>{this.state=w0.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},r=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=w0.syncDiff(this.state,r,a,s),l())}),this.onJoin((r,a,s)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:a,newPresences:s})}),this.onLeave((r,a,s)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,r){const a=this.cloneDeep(e),s=this.transformState(t),l={},c={};return this.map(a,(f,p)=>{s[f]||(c[f]=p)}),this.map(s,(f,p)=>{const g=a[f];if(g){const y=p.map(M=>M.presence_ref),v=g.map(M=>M.presence_ref),_=p.filter(M=>v.indexOf(M.presence_ref)<0),D=g.filter(M=>y.indexOf(M.presence_ref)<0);_.length>0&&(l[f]=_),D.length>0&&(c[f]=D)}else l[f]=p}),this.syncDiff(a,{joins:l,leaves:c},i,r)}static syncDiff(e,t,i,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(a,(l,c)=>{var f;const p=(f=e[l])!==null&&f!==void 0?f:[];if(e[l]=this.cloneDeep(c),p.length>0){const g=e[l].map(v=>v.presence_ref),y=p.filter(v=>g.indexOf(v.presence_ref)<0);e[l].unshift(...y)}i(l,p,c)}),this.map(s,(l,c)=>{let f=e[l];if(!f)return;const p=c.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),e[l]=f,r(l,f,c),f.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const r=e[i];return"metas"in r?t[i]=r.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[i]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kR;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(kR||(kR={}));var M0;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(M0||(M0={}));var dd;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(dd||(dd={}));class TA{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=gs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new kE(this,vf.join,this.params,this.timeout),this.rejoinTimer=new pN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gs.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=gs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=gs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vf.reply,{},(r,a)=>{this._trigger(this._replyEventName(a),r)}),this.presence=new w0(this),this.broadcastEndpointURL=gN(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gs.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,f=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(v=>v.filter))!==null&&r!==void 0?r:[],p=!!this.bindings[M0.PRESENCE]&&this.bindings[M0.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},y={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:p}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(dd.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(dd.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:v})=>{var _;if(this.socket.setAuth(),v===void 0){e==null||e(dd.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,M=(_=D==null?void 0:D.length)!==null&&_!==void 0?_:0,S=[];for(let N=0;N<M;N++){const P=D[N],{filter:{event:U,schema:X,table:H,filter:G}}=P,W=v&&v[N];if(W&&W.event===U&&W.schema===X&&W.table===H&&W.filter===G)S.push(Object.assign(Object.assign({},P),{id:W.id}));else{this.unsubscribe(),this.state=gs.errored,e==null||e(dd.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(dd.SUBSCRIBED);return}}).receive("error",v=>{this.state=gs.errored,e==null||e(dd.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dd.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===gs.joined&&e===M0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async send(e,t={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=f.body)===null||r===void 0?void 0:r.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gs.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vf.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new kE(this,vf.leave,{},e),i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gs.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const r=new AbortController,a=setTimeout(()=>r.abort(),i),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new kE(this,e,t,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>M6){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var r,a;const s=e.toLocaleLowerCase(),{close:l,error:c,leave:f,join:p}=vf;if(i&&[l,c,f,p].indexOf(s)>=0&&i!==this._joinRef())return;let y=this._onMessage(s,t,i);if(t&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(v=>{var _,D,M;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((M=(D=v.filter)===null||D===void 0?void 0:D.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===s}).map(v=>v.callback(y,i)):(a=this.bindings[s])===null||a===void 0||a.filter(v=>{var _,D,M,S,N,P;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in v){const U=v.id,X=(_=v.filter)===null||_===void 0?void 0:_.event;return U&&((D=t.ids)===null||D===void 0?void 0:D.includes(U))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((M=t.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const U=(N=(S=v==null?void 0:v.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return U==="*"||U===((P=t==null?void 0:t.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===s}).map(v=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:D,table:M,commit_timestamp:S,type:N,errors:P}=_;y=Object.assign(Object.assign({},{schema:D,table:M,commit_timestamp:S,eventType:N,new:{},old:{},errors:P}),this._getPayloadRecords(_))}v.callback(y,i)})}_isClosed(){return this.state===gs.closed}_isJoined(){return this.state===gs.joined}_isJoining(){return this.state===gs.joining}_isLeaving(){return this.state===gs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var a;return!(((a=r.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&TA.isEqual(r.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vf.close,{},e)}_onError(e){this._on(vf.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=IR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=IR(e.columns,e.old_record)),t}}const BE=()=>{},Eb={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},N6=[1e3,2e3,5e3,1e4],U6=1e4,I6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z6{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jw,this.transport=null,this.heartbeatIntervalMs=Eb.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=BE,this.ref=0,this.reconnectTimer=null,this.logger=BE,this.conn=null,this.sendBuffer=[],this.serializer=new A6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let a;return r?a=r:typeof fetch>"u"?a=(...s)=>Ox(async()=>{const{default:l}=await Promise.resolve().then(()=>gv);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((i=t==null?void 0:t.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${$w.websocket}`,this.httpEndpoint=gN(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_6.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:T6}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case T0.connecting:return Ym.Connecting;case T0.open:return Ym.Open;case T0.closing:return Ym.Closing;default:return Ym.Closed}}isConnected(){return this.connectionState()===Ym.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(a=>a.topic===i);if(r)return r;{const a=new TA(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:i,payload:r,ref:a}=e,s=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${i} (${a})`,r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(w6,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Eb.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:r,payload:a,ref:s}=t,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${i} ${r} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(r,a,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vf.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${i}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([I6],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const r={access_token:t,version:E6};t&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(vf.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new pN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Eb.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,r,a,s,l,c,f,p;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Jw,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:Eb.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:BE,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(g=>N6[g-1]||U6),this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:((g,y)=>y(JSON.stringify(g))),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class wA extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ys(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class k6 extends wA{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tM extends wA{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var B6=function(n,e,t,i){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(i.next(p))}catch(g){s(g)}}function c(p){try{f(i.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,c)}f((i=i.apply(n,e||[])).next())})};const yN=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ox(async()=>{const{default:i}=await Promise.resolve().then(()=>gv);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},F6=()=>B6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ox(()=>Promise.resolve().then(()=>gv),void 0)).Response:Response}),nM=n=>{if(Array.isArray(n))return n.map(t=>nM(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const r=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[r]=nM(i)}),e},H6=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Sg=function(n,e,t,i){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(i.next(p))}catch(g){s(g)}}function c(p){try{f(i.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,c)}f((i=i.apply(n,e||[])).next())})};const FE=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),V6=(n,e,t)=>Sg(void 0,void 0,void 0,function*(){const i=yield F6();n instanceof i&&!(t!=null&&t.noResolveJson)?n.json().then(r=>{const a=n.status||500,s=(r==null?void 0:r.statusCode)||a+"";e(new k6(FE(r),a,s))}).catch(r=>{e(new tM(FE(r),r))}):e(new tM(FE(n),n))}),G6=(n,e,t,i)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!i?r:(H6(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i)):r.body=i,e!=null&&e.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),t))};function Px(n,e,t,i,r,a){return Sg(this,void 0,void 0,function*(){return new Promise((s,l)=>{n(t,G6(e,i,r,a)).then(c=>{if(!c.ok)throw c;return i!=null&&i.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>V6(c,l,i))})})}function J_(n,e,t,i){return Sg(this,void 0,void 0,function*(){return Px(n,"GET",e,t,i)})}function hh(n,e,t,i,r){return Sg(this,void 0,void 0,function*(){return Px(n,"POST",e,i,r,t)})}function iM(n,e,t,i,r){return Sg(this,void 0,void 0,function*(){return Px(n,"PUT",e,i,r,t)})}function X6(n,e,t,i){return Sg(this,void 0,void 0,function*(){return Px(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function vN(n,e,t,i,r){return Sg(this,void 0,void 0,function*(){return Px(n,"DELETE",e,i,r,t)})}var ll=function(n,e,t,i){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(i.next(p))}catch(g){s(g)}}function c(p){try{f(i.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,c)}f((i=i.apply(n,e||[])).next())})};const W6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},BR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Y6{constructor(e,t={},i,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=yN(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,r){return ll(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},BR),r);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=i,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const f=this._removeEmptyFolders(t),p=this._getFinalPath(f),g=yield(e=="PUT"?iM:hh)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ys(a))return{data:null,error:a};throw a}})}upload(e,t,i){return ll(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,r){return ll(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",t);try{let c;const f=Object.assign({upsert:BR.upsert},r),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",f.cacheControl)):(c=i,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const g=yield iM(this.fetch,l.toString(),c,{headers:p});return{data:{path:a,fullPath:g.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ys(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return ll(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);t!=null&&t.upsert&&(r["x-upsert"]="true");const a=yield hh(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),s=new URL(this.url+a.url),l=s.searchParams.get("token");if(!l)throw new wA("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ys(i))return{data:null,error:i};throw i}})}update(e,t,i){return ll(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return ll(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}})}copy(e,t,i){return ll(this,void 0,void 0,function*(){try{return{data:{path:(yield hh(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,i){return ll(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield hh(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,i){return ll(this,void 0,void 0,function*(){try{const r=yield hh(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}})}download(e,t){return ll(this,void 0,void 0,function*(){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield J_(this.fetch,`${this.url}/${r}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ys(l))return{data:null,error:l};throw l}})}info(e){return ll(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield J_(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:nM(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ys(i))return{data:null,error:i};throw i}})}exists(e){return ll(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield X6(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ys(i)&&i instanceof tM){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),r=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&r.push(a);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&r.push(c);let f=r.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${f}`)}}}remove(e){return ll(this,void 0,void 0,function*(){try{return{data:yield vN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}})}list(e,t,i){return ll(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},W6),t),{prefix:e||""});return{data:yield hh(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}})}listV2(e,t){return ll(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield hh(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ys(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const j6="2.12.1",q6={"X-Client-Info":`storage-js/${j6}`};var qg=function(n,e,t,i){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(i.next(p))}catch(g){s(g)}}function c(p){try{f(i.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,c)}f((i=i.apply(n,e||[])).next())})};class Z6{constructor(e,t={},i,r){this.shouldThrowOnError=!1;const a=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},q6),t),this.fetch=yN(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qg(this,void 0,void 0,function*(){try{return{data:yield J_(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ys(e))return{data:null,error:e};throw e}})}getBucket(e){return qg(this,void 0,void 0,function*(){try{return{data:yield J_(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return qg(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ys(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return qg(this,void 0,void 0,function*(){try{return{data:yield iM(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ys(i))return{data:null,error:i};throw i}})}emptyBucket(e){return qg(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}})}deleteBucket(e){return qg(this,void 0,void 0,function*(){try{return{data:yield vN(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}})}}class K6 extends Z6{constructor(e,t={},i,r){super(e,t,i,r)}from(e){return new Y6(this.url,this.headers,e,this.fetch)}}const Q6="2.57.4";let v0="";typeof Deno<"u"?v0="deno":typeof document<"u"?v0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?v0="react-native":v0="node";const J6={"X-Client-Info":`supabase-js-${v0}/${Q6}`},$6={headers:J6},eH={schema:"public"},tH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nH={};var iH=function(n,e,t,i){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(i.next(p))}catch(g){s(g)}}function c(p){try{f(i.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,c)}f((i=i.apply(n,e||[])).next())})};const rH=n=>{let e;return n?e=n:typeof fetch>"u"?e=lN:e=fetch,(...t)=>e(...t)},aH=()=>typeof Headers>"u"?uN:Headers,sH=(n,e,t)=>{const i=rH(t),r=aH();return(a,s)=>iH(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:n;let f=new r(s==null?void 0:s.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),i(a,Object.assign(Object.assign({},s),{headers:f}))})};var oH=function(n,e,t,i){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(i.next(p))}catch(g){s(g)}}function c(p){try{f(i.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,c)}f((i=i.apply(n,e||[])).next())})};function lH(n){return n.endsWith("/")?n:n+"/"}function uH(n,e){var t,i;const{db:r,auth:a,realtime:s,global:l}=n,{db:c,auth:f,realtime:p,global:g}=e,y={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},p),s),storage:{},global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(t=g==null?void 0:g.headers)!==null&&t!==void 0?t:{}),(i=l==null?void 0:l.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>oH(this,void 0,void 0,function*(){return""})};return n.accessToken?y.accessToken=n.accessToken:delete y.accessToken,y}function cH(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lH(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const xN="2.71.1",wy=30*1e3,rM=3,HE=rM*wy,fH="http://localhost:9999",hH="supabase.auth.token",dH={"X-Client-Info":`gotrue-js/${xN}`},aM="X-Supabase-Api-Version",bN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mH=600*1e3;class MA extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function Zn(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class gH extends MA{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function yH(n){return Zn(n)&&n.name==="AuthApiError"}class _N extends MA{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Hp extends MA{constructor(e,t,i,r){super(e,i,r),this.name=t,this.status=i}}class vp extends Hp{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vH(n){return Zn(n)&&n.name==="AuthSessionMissingError"}class Tb extends Hp{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wb extends Hp{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mb extends Hp{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xH(n){return Zn(n)&&n.name==="AuthImplicitGrantRedirectError"}class FR extends Hp{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sM extends Hp{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function VE(n){return Zn(n)&&n.name==="AuthRetryableFetchError"}class HR extends Hp{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class oM extends Hp{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),VR=` 	
\r=`.split(""),bH=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<VR.length;e+=1)n[VR[e].charCodeAt(0)]=-2;for(let e=0;e<$_.length;e+=1)n[$_[e].charCodeAt(0)]=e;return n})();function GR(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t($_[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t($_[i]),e.queuedBits-=6}}function SN(n,e,t){const i=bH[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function XR(n){const e=[],t=s=>{e.push(String.fromCodePoint(s))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},a=s=>{EH(s,i,t)};for(let s=0;s<n.length;s+=1)SN(n.charCodeAt(s),r,a);return e.join("")}function _H(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function SH(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|r)+65536,t+=1}_H(i,e)}}function EH(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function TH(n){const e=[],t={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<n.length;r+=1)SN(n.charCodeAt(r),t,i);return new Uint8Array(e)}function wH(n){const e=[];return SH(n,t=>e.push(t)),new Uint8Array(e)}function MH(n){const e=[],t={queue:0,queuedBits:0},i=r=>{e.push(r)};return n.forEach(r=>GR(r,t,i)),GR(null,t,i),e.join("")}function AH(n){return Math.round(Date.now()/1e3)+n}function CH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const df=()=>typeof window<"u"&&typeof document<"u",Sm={tested:!1,writable:!1},EN=()=>{if(!df())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sm.tested)return Sm.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Sm.tested=!0,Sm.writable=!0}catch{Sm.tested=!0,Sm.writable=!1}return Sm.writable};function RH(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,a)=>{e[a]=r})}catch{}return t.searchParams.forEach((i,r)=>{e[r]=i}),e}const TN=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ox(async()=>{const{default:i}=await Promise.resolve().then(()=>gv);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},DH=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",My=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Em=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},lp=async(n,e)=>{await n.removeItem(e)};class u1{constructor(){this.promise=new u1.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}u1.promiseConstructor=Promise;function GE(n){const e=n.split(".");if(e.length!==3)throw new oM("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!pH.test(e[i]))throw new oM("JWT not in base64url format");return{header:JSON.parse(XR(e[0])),payload:JSON.parse(XR(e[1])),signature:TH(e[2]),raw:{header:e[0],payload:e[1]}}}async function OH(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function PH(n,e){return new Promise((i,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await n(a);if(!e(a,null,s)){i(s);return}}catch(s){if(!e(a,s)){r(s);return}}})()})}function LH(n){return("0"+n.toString(16)).substr(-2)}function NH(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let r="";for(let a=0;a<56;a++)r+=t.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,LH).join("")}async function UH(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(i);return Array.from(r).map(a=>String.fromCharCode(a)).join("")}async function IH(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await UH(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zg(n,e,t=!1){const i=NH();let r=i;t&&(r+="/PASSWORD_RECOVERY"),await My(n,`${e}-code-verifier`,r);const a=await IH(i);return[a,i===a?"plain":"s256"]}const zH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kH(n){const e=n.headers.get(aM);if(!e||!e.match(zH))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function BH(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function FH(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kg(n){if(!HH.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function XE(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WR(n){return JSON.parse(JSON.stringify(n))}var VH=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Vm=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),GH=[502,503,504];async function YR(n){var e;if(!DH(n))throw new sM(Vm(n),0);if(GH.includes(n.status))throw new sM(Vm(n),n.status);let t;try{t=await n.json()}catch(a){throw new _N(Vm(a),a)}let i;const r=kH(n);if(r&&r.getTime()>=bN["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new HR(Vm(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new vp}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new HR(Vm(t),n.status,t.weak_password.reasons);throw new gH(Vm(t),n.status||500,i)}const XH=(n,e,t,i)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))};async function ci(n,e,t,i){var r;const a=Object.assign({},i==null?void 0:i.headers);a[aM]||(a[aM]=bN["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const s=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(s.redirect_to=i.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await WH(n,e,t+l,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(c):{data:Object.assign({},c),error:null}}async function WH(n,e,t,i,r,a){const s=XH(e,i,r,a);let l;try{l=await n(t,Object.assign({},s))}catch(c){throw console.error(c),new sM(Vm(c),0)}if(l.ok||await YR(l),i!=null&&i.noResolveJson)return l;try{return await l.json()}catch(c){await YR(c)}}function hd(n){var e;let t=null;ZH(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=AH(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function jR(n){const e=hd(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function _p(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function YH(n){return{data:n,error:null}}function jH(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:a}=n,s=VH(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function qH(n){return n}function ZH(n){return n.access_token&&n.refresh_token&&n.expires_in}const WE=["global","local","others"];var KH=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class QH{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=TN(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=WE[0]){if(WE.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${WE.join(", ")}`);try{return await ci(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Zn(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await ci(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:_p})}catch(i){if(Zn(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=KH(e,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await ci(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:jH,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Zn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ci(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_p})}catch(t){if(Zn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,r,a,s,l,c;try{const f={nextPage:null,lastPage:0,total:0},p=await ci(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(a=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:qH});if(p.error)throw p.error;const g=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,v=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(_=>{const D=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(_.split(";")[1].split("=")[1]);f[`${M}Page`]=D}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Zn(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Kg(e);try{return await ci(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_p})}catch(t){if(Zn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Kg(e);try{return await ci(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:_p})}catch(i){if(Zn(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){Kg(e);try{return await ci(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:_p})}catch(i){if(Zn(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Kg(e.userId);try{const{data:t,error:i}=await ci(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:i}}catch(t){if(Zn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Kg(e.userId),Kg(e.id);try{return{data:await ci(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Zn(t))return{data:null,error:t};throw t}}}function qR(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function JH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qg={debug:!!(globalThis&&EN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $H extends wN{}async function eV(n,e,t){Qg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Qg.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){Qg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await t()}finally{Qg.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(e===0)throw Qg.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new $H(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Qg.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}JH();const tV={url:fH,storageKey:hH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ZR(n,e,t){return await t()}const Jg={};class q0{constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=q0.nextInstanceID,q0.nextInstanceID+=1,this.instanceID>0&&df()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},tV),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new QH({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=TN(r.fetch),this.lock=r.lock||ZR,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:df()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=eV:this.lock=ZR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:EN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qR(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=qR(this.memoryStorage)),df()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Jg[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Jg[this.storageKey]=Object.assign(Object.assign({},Jg[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Jg[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jg[this.storageKey]=Object.assign(Object.assign({},Jg[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xN}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=RH(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),df()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:a}=await this._getSessionFromURL(t,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),xH(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Zn(t)?{error:t}:{error:new _N("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,r;try{const a=await ci(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:hd}),{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(a){if(Zn(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,i,r;try{let a;if("email"in e){const{email:p,password:g,options:y}=e;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await Zg(this.storage,this.storageKey)),a=await ci(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:g,data:(t=y==null?void 0:y.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:_},xform:hd})}else if("phone"in e){const{phone:p,password:g,options:y}=e;a=await ci(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(i=y==null?void 0:y.data)!==null&&i!==void 0?i:{},channel:(r=y==null?void 0:y.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:hd})}else throw new wb("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(a){if(Zn(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:s,options:l}=e;t=await ci(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jR})}else if("phone"in e){const{phone:a,password:s,options:l}=e;t=await ci(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jR})}else throw new wb("You must provide either an email or phone number and a password");const{data:i,error:r}=t;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Tb}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(t){if(Zn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,i,r,a,s,l,c,f,p,g,y,v;let _,D;if("message"in e)_=e.message,D=e.signature;else{const{chain:M,wallet:S,statement:N,options:P}=e;let U;if(df())if(typeof S=="object")U=S;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))U=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=S}const X=new URL((t=P==null?void 0:P.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in U&&U.signIn){const H=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),N?{statement:N}:null));let G;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")G=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)G=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)_=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),D=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${X.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(r=(i=P==null?void 0:P.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((a=P==null?void 0:P.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((s=P==null?void 0:P.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((l=P==null?void 0:P.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((f=P==null?void 0:P.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((g=(p=P==null?void 0:P.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...P.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const H=await U.signMessage(new TextEncoder().encode(_),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=H}}try{const{data:M,error:S}=await ci(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:MH(D)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:hd});if(S)throw S;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new Tb}:(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:S})}catch(M){if(Zn(M))return{data:{user:null,session:null},error:M};throw M}}async _exchangeCodeForSession(e){const t=await Em(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(t??"").split("/");try{const{data:a,error:s}=await ci(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:hd});if(await lp(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Tb}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:r??null}),error:s})}catch(a){if(Zn(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:i,token:r,access_token:a,nonce:s}=e,l=await ci(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:hd}),{data:c,error:f}=l;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Tb}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(t){if(Zn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,r,a,s;try{if("email"in e){const{email:l,options:c}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Zg(this.storage,this.storageKey));const{error:g}=await ci(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:l,options:c}=e,{data:f,error:p}=await ci(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new wb("You must provide either an email or phone number.")}catch(l){if(Zn(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,i;try{let r,a;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:s,error:l}=await ci(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:hd});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,f=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(r){if(Zn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,i,r;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Zg(this.storage,this.storageKey)),await ci(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:YH})}catch(a){if(Zn(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new vp;const{error:r}=await ci(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Zn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:a}=e,{error:s}=await ci(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:i,type:r,options:a}=e,{data:s,error:l}=await ci(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new wb("You must provide either an email or phone number and a type")}catch(t){if(Zn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Em(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<HE:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const s=await Em(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=XE()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,f,p)=>(!s&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,p))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ci(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_p}):await this._useSession(async t=>{var i,r,a;const{data:s,error:l}=t;if(l)throw l;return!(!((i=s.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vp}:await ci(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0,xform:_p})})}catch(t){if(Zn(t))return vH(t)&&(await this._removeSession(),await lp(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:r,error:a}=i;if(a)throw a;if(!r.session)throw new vp;const s=r.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Zg(this.storage,this.storageKey));const{data:f,error:p}=await ci(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:_p});if(p)throw p;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(i){if(Zn(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vp;const t=Date.now()/1e3;let i=t,r=!0,a=null;const{payload:s}=GE(e.access_token);if(s.exp&&(i=s.exp,r=i<=t),r){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Zn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:s,error:l}=t;if(l)throw l;e=(i=s.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new vp;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Zn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!df())throw new Mb("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mb(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new FR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mb("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new FR("No code detected.");const{data:N,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:f}=e;if(!a||!l||!s||!f)throw new Mb("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(l);let y=p+g;c&&(y=parseInt(c));const v=y-p;v*1e3<=wy&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const _=y-g;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,p);const{data:D,error:M}=await this._getUser(a);if(M)throw M;const S={provider_token:i,provider_refresh_token:r,access_token:a,expires_in:g,expires_at:y,refresh_token:s,token_type:f,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(i){if(Zn(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Em(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:r,error:a}=t;if(a)return{error:a};const s=(i=r.session)===null||i===void 0?void 0:i.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(yH(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await lp(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=CH(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,r;try{const{data:{session:a},error:s}=t;if(s)throw s;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await Zg(this.storage,this.storageKey,!0));try{return await ci(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Zn(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Zn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:i,error:r}=await this._useSession(async a=>{var s,l,c,f,p;const{data:g,error:y}=a;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ci(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(r)throw r;return df()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Zn(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,r;const{data:a,error:s}=t;if(s)throw s;return await ci(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(Zn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await PH(async r=>(r>0&&await OH(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await ci(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hd})),(r,a)=>{const s=200*Math.pow(2,r);return a&&VE(a)&&Date.now()+s-i<wy})}catch(i){if(this._debug(t,"error",i),Zn(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),df()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await Em(this.storage,this.storageKey);if(r&&this.userStorage){let s=await Em(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:r.user},await My(this.userStorage,this.storageKey+"-user",s)),r.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:XE()}else if(r&&!r.user&&!r.user){const s=await Em(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(r.user=s.user,await lp(this.storage,this.storageKey+"-user"),await My(this.storage,this.storageKey,r)):r.user=XE()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<HE;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${HE}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),VE(s)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(r.access_token);!l&&(s!=null&&s.user)?(r.user=s.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(i,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new vp;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new u1;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new vp;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(r,"error",a),Zn(a)){const s={session:null,error:a};return VE(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await My(this.userStorage,this.storageKey+"-user",{user:t.user});const r=Object.assign({},t);delete r.user;const a=WR(r);await My(this.storage,this.storageKey,a)}else{const r=WR(t);await My(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await lp(this.storage,this.storageKey),await lp(this.storage,this.storageKey+"-code-verifier"),await lp(this.storage,this.storageKey+"-user"),this.userStorage&&await lp(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&df()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wy);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/wy);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${wy}ms, refresh threshold is ${rM} ticks`),r<=rM&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!df()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const r=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,s]=await Zg(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});r.push(l.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);r.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:r,error:a}=t;return a?{data:null,error:a}:await ci(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(Zn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,r;const{data:a,error:s}=t;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:f}=await ci(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(Zn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:l}=await ci(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(t){if(Zn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:r,error:a}=t;return a?{data:null,error:a}:await ci(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(Zn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=(e==null?void 0:e.factors)||[],r=i.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=i.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:i,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=GE(r.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((i=(t=r.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const p=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(l=>l.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+mH>r)return i;const{data:a,error:s}=await ci(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=r,i=a.keys.find(l=>l.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:v,error:_}=await this.getSession();if(_||!v.session)return{data:null,error:_};i=v.session.access_token}const{header:r,payload:a,signature:s,raw:{header:l,payload:c}}=GE(i);t!=null&&t.allowExpired||BH(a.exp);const f=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!f){const{error:v}=await this.getUser(i);if(v)throw v;return{data:{claims:a,header:r,signature:s},error:null}}const p=FH(r.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,s,wH(`${l}.${c}`)))throw new oM("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(i){if(Zn(i))return{data:null,error:i};throw i}}}q0.nextInstanceID=0;const nV=q0;class iV extends nV{constructor(e){super(e)}}var rV=function(n,e,t,i){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(i.next(p))}catch(g){s(g)}}function c(p){try{f(i.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,c)}f((i=i.apply(n,e||[])).next())})};class aV{constructor(e,t,i){var r,a,s;this.supabaseUrl=e,this.supabaseKey=t;const l=cH(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:eH,realtime:nH,auth:Object.assign(Object.assign({},tH),{storageKey:c}),global:$6},p=uH(i??{},f);this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=p.auth)!==null&&s!==void 0?s:{},this.headers,p.global.fetch),this.fetch=sH(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new b6(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new K6(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new c6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return rV(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,userStorage:a,storageKey:s,flowType:l,lock:c,debug:f},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iV({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,userStorage:a,flowType:l,lock:c,debug:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new z6(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sV=(n,e,t)=>new aV(n,e,t);function oV(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}oV()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lV="https://ibdvjzomqglitwjoyujx.supabase.co",uV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImliZHZqem9tcWdsaXR3am95dWp4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc5MjUzMjQsImV4cCI6MjA3MzUwMTMyNH0.vzbag3KgmOHcr4Hqt9fjVSxzKEvkgKEM5ESn9z_W0s0",c1=sV(lV,uV);async function cV(){const{data:n,error:e}=await c1.from("projects").select("*");if(e)throw console.log(e),new Error("Projects could not be loaded");return n||[]}async function fV(n){const{data:e,error:t}=await c1.from("projects").select("*").eq("id",n).single();if(t)throw console.log(t),new Error("Projects could not be loaded");return e||[]}function MN(){const{data:n,isFetching:e,error:t}=l1({queryKey:["projects"],queryFn:cV}),i=2,r=Ch(),a=new URLSearchParams(r.search),s=Number(a.get("page"))||1,l=a.get("category")||"All",c=Array.isArray(n)?["All",...Array.from(new Set(n.map(_=>_.category)))]:["All"],f=n?l==="All"?n:n.filter(_=>_.category===l):[],p=(s-1)*i,g=p+i,y=f.slice(p,g),v=Math.ceil(f.length/i);return{projects:y,totalPages:v,categories:c,selectedCategory:l,allProjects:n,isFetching:e,error:t}}let hV={data:""},dV=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||hV,pV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mV=/\/\*[^]*?\*\/|  +/g,KR=/\n+/g,Sp=(n,e)=>{let t="",i="",r="";for(let a in n){let s=n[a];a[0]=="@"?a[1]=="i"?t=a+" "+s+";":i+=a[1]=="f"?Sp(s,a):a+"{"+Sp(s,a[1]=="k"?"":e)+"}":typeof s=="object"?i+=Sp(s,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Sp.p?Sp.p(a,s):a+":"+s+";")}return t+(e&&r?e+"{"+r+"}":r)+i},nd={},AN=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+AN(n[t]);return e}return n},gV=(n,e,t,i,r)=>{let a=AN(n),s=nd[a]||(nd[a]=(c=>{let f=0,p=11;for(;f<c.length;)p=101*p+c.charCodeAt(f++)>>>0;return"go"+p})(a));if(!nd[s]){let c=a!==n?n:(f=>{let p,g,y=[{}];for(;p=pV.exec(f.replace(mV,""));)p[4]?y.shift():p[3]?(g=p[3].replace(KR," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][p[1]]=p[2].replace(KR," ").trim();return y[0]})(n);nd[s]=Sp(r?{["@keyframes "+s]:c}:c,t?"":"."+s)}let l=t&&nd.g?nd.g:null;return t&&(nd.g=nd[s]),((c,f,p,g)=>{g?f.data=f.data.replace(g,c):f.data.indexOf(c)===-1&&(f.data=p?c+f.data:f.data+c)})(nd[s],e,i,l),s},yV=(n,e,t)=>n.reduce((i,r,a)=>{let s=e[a];if(s&&s.call){let l=s(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;s=c?"."+c:l&&typeof l=="object"?l.props?"":Sp(l,""):l===!1?"":l}return i+r+(s??"")},"");function f1(n){let e=this||{},t=n.call?n(e.p):n;return gV(t.unshift?t.raw?yV(t,[].slice.call(arguments,1),e.p):t.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):t,dV(e.target),e.g,e.o,e.k)}let CN,lM,uM;f1.bind({g:1});let Sd=f1.bind({k:1});function vV(n,e,t,i){Sp.p=e,CN=n,lM=t,uM=i}function Vp(n,e){let t=this||{};return function(){let i=arguments;function r(a,s){let l=Object.assign({},a),c=l.className||r.className;t.p=Object.assign({theme:lM&&lM()},l),t.o=/ *go\d+/.test(c),l.className=f1.apply(t,i)+(c?" "+c:"");let f=n;return n[0]&&(f=l.as||n,delete l.as),uM&&f[0]&&uM(l),CN(f,l)}return r}}var xV=n=>typeof n=="function",eS=(n,e)=>xV(n)?n(e):n,bV=(()=>{let n=0;return()=>(++n).toString()})(),RN=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),_V=20,AA="default",DN=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:i}=e;return DN(n,{type:n.toasts.find(s=>s.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let a=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},P_=[],ON={toasts:[],pausedAt:void 0,settings:{toastLimit:_V}},vh={},PN=(n,e=AA)=>{vh[e]=DN(vh[e]||ON,n),P_.forEach(([t,i])=>{t===e&&i(vh[e])})},LN=n=>Object.keys(vh).forEach(e=>PN(n,e)),SV=n=>Object.keys(vh).find(e=>vh[e].toasts.some(t=>t.id===n)),h1=(n=AA)=>e=>{PN(e,n)},EV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},TV=(n={},e=AA)=>{let[t,i]=oe.useState(vh[e]||ON),r=oe.useRef(vh[e]);oe.useEffect(()=>(r.current!==vh[e]&&i(vh[e]),P_.push([e,i]),()=>{let s=P_.findIndex(([l])=>l===e);s>-1&&P_.splice(s,1)}),[e]);let a=t.toasts.map(s=>{var l,c,f;return{...n,...n[s.type],...s,removeDelay:s.removeDelay||((l=n[s.type])==null?void 0:l.removeDelay)||(n==null?void 0:n.removeDelay),duration:s.duration||((c=n[s.type])==null?void 0:c.duration)||(n==null?void 0:n.duration)||EV[s.type],style:{...n.style,...(f=n[s.type])==null?void 0:f.style,...s.style}}});return{...t,toasts:a}},wV=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||bV()}),Lx=n=>(e,t)=>{let i=wV(e,n,t);return h1(i.toasterId||SV(i.id))({type:2,toast:i}),i.id},vs=(n,e)=>Lx("blank")(n,e);vs.error=Lx("error");vs.success=Lx("success");vs.loading=Lx("loading");vs.custom=Lx("custom");vs.dismiss=(n,e)=>{let t={type:3,toastId:n};e?h1(e)(t):LN(t)};vs.dismissAll=n=>vs.dismiss(void 0,n);vs.remove=(n,e)=>{let t={type:4,toastId:n};e?h1(e)(t):LN(t)};vs.removeAll=n=>vs.remove(void 0,n);vs.promise=(n,e,t)=>{let i=vs.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let a=e.success?eS(e.success,r):void 0;return a?vs.success(a,{id:i,...t,...t==null?void 0:t.success}):vs.dismiss(i),r}).catch(r=>{let a=e.error?eS(e.error,r):void 0;a?vs.error(a,{id:i,...t,...t==null?void 0:t.error}):vs.dismiss(i)}),n};var MV=1e3,AV=(n,e="default")=>{let{toasts:t,pausedAt:i}=TV(n,e),r=oe.useRef(new Map).current,a=oe.useCallback((g,y=MV)=>{if(r.has(g))return;let v=setTimeout(()=>{r.delete(g),s({type:4,toastId:g})},y);r.set(g,v)},[]);oe.useEffect(()=>{if(i)return;let g=Date.now(),y=t.map(v=>{if(v.duration===1/0)return;let _=(v.duration||0)+v.pauseDuration-(g-v.createdAt);if(_<0){v.visible&&vs.dismiss(v.id);return}return setTimeout(()=>vs.dismiss(v.id,e),_)});return()=>{y.forEach(v=>v&&clearTimeout(v))}},[t,i,e]);let s=oe.useCallback(h1(e),[e]),l=oe.useCallback(()=>{s({type:5,time:Date.now()})},[s]),c=oe.useCallback((g,y)=>{s({type:1,toast:{id:g,height:y}})},[s]),f=oe.useCallback(()=>{i&&s({type:6,time:Date.now()})},[i,s]),p=oe.useCallback((g,y)=>{let{reverseOrder:v=!1,gutter:_=8,defaultPosition:D}=y||{},M=t.filter(P=>(P.position||D)===(g.position||D)&&P.height),S=M.findIndex(P=>P.id===g.id),N=M.filter((P,U)=>U<S&&P.visible).length;return M.filter(P=>P.visible).slice(...v?[N+1]:[0,N]).reduce((P,U)=>P+(U.height||0)+_,0)},[t]);return oe.useEffect(()=>{t.forEach(g=>{if(g.dismissed)a(g.id,g.removeDelay);else{let y=r.get(g.id);y&&(clearTimeout(y),r.delete(g.id))}})},[t,a]),{toasts:t,handlers:{updateHeight:c,startPause:l,endPause:f,calculateOffset:p}}},CV=Sd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,RV=Sd`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DV=Sd`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OV=Vp("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${RV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${DV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,PV=Sd`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,LV=Vp("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${PV} 1s linear infinite;
`,NV=Sd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,UV=Sd`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,IV=Vp("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${UV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zV=Vp("div")`
  position: absolute;
`,kV=Vp("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,BV=Sd`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FV=Vp("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${BV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,HV=({toast:n})=>{let{icon:e,type:t,iconTheme:i}=n;return e!==void 0?typeof e=="string"?oe.createElement(FV,null,e):e:t==="blank"?null:oe.createElement(kV,null,oe.createElement(LV,{...i}),t!=="loading"&&oe.createElement(zV,null,t==="error"?oe.createElement(OV,{...i}):oe.createElement(IV,{...i})))},VV=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,GV=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,XV="0%{opacity:0;} 100%{opacity:1;}",WV="0%{opacity:1;} 100%{opacity:0;}",YV=Vp("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jV=Vp("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qV=(n,e)=>{let t=n.includes("top")?1:-1,[i,r]=RN()?[XV,WV]:[VV(t),GV(t)];return{animation:e?`${Sd(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Sd(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ZV=oe.memo(({toast:n,position:e,style:t,children:i})=>{let r=n.height?qV(n.position||e||"top-center",n.visible):{opacity:0},a=oe.createElement(HV,{toast:n}),s=oe.createElement(jV,{...n.ariaProps},eS(n.message,n));return oe.createElement(YV,{className:n.className,style:{...r,...t,...n.style}},typeof i=="function"?i({icon:a,message:s}):oe.createElement(oe.Fragment,null,a,s))});vV(oe.createElement);var KV=({id:n,className:e,style:t,onHeightUpdate:i,children:r})=>{let a=oe.useCallback(s=>{if(s){let l=()=>{let c=s.getBoundingClientRect().height;i(n,c)};l(),new MutationObserver(l).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return oe.createElement("div",{ref:a,className:e,style:t},r)},QV=(n,e)=>{let t=n.includes("top"),i=t?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:RN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...i,...r}},JV=f1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ab=16,$V=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:i,children:r,toasterId:a,containerStyle:s,containerClassName:l})=>{let{toasts:c,handlers:f}=AV(t,a);return oe.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Ab,left:Ab,right:Ab,bottom:Ab,pointerEvents:"none",...s},className:l,onMouseEnter:f.startPause,onMouseLeave:f.endPause},c.map(p=>{let g=p.position||e,y=f.calculateOffset(p,{reverseOrder:n,gutter:i,defaultPosition:e}),v=QV(g,y);return oe.createElement(KV,{id:p.id,key:p.id,onHeightUpdate:f.updateHeight,className:p.visible?JV:"",style:v},p.type==="custom"?eS(p.message,p):r?r(p):oe.createElement(ZV,{toast:p,position:g}))}))},Ip=vs;function yv(){return fe.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-transparent-100/20 backdrop-blur-sm",children:fe.jsx("div",{className:"spinner-4"})})}function e8(){var a;const{allProjects:n,isFetching:e,error:t}=MN(),i=2;if(t)return Ip.error("Error Loading Projects"),null;const r=(a=n==null?void 0:n.filter(s=>s.featured))==null?void 0:a.slice(0,i);return(r==null?void 0:r.length)===0?null:fe.jsxs("section",{children:[fe.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray200",children:"Featured Projects"}),fe.jsx("div",{className:"relative",children:e?fe.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:fe.jsx(yv,{})}):fe.jsx("div",{className:"grid gap-6 sm:grid-cols-2 z-10",children:r.map(s=>fe.jsx(QL,{projects:s},s.id))})})]})}function NN({post:n}){return fe.jsx("div",{className:"h-full  rounded-lg overflow-hidden shadow-sm transition hover:shadow-md bg-gray-800 p-6  mb-4",children:fe.jsxs("article",{children:[fe.jsx("h3",{className:"text-2xl font-semibold text-purple-400 truncate",children:n.title}),fe.jsx("p",{className:"text-sm text-gray-400 mb-2",children:new Date(n.date).toLocaleDateString()}),n.image&&fe.jsx("img",{src:n.image,alt:n.title,className:"w-full h-48 object-cover rounded mb-4"}),fe.jsx("p",{className:"text-gray-300 mb-4 line-clamp-1",children:n.excerpt}),fe.jsx(Vu,{to:`/blog/${n.slug}`,className:"text-purple-300 text-sm hover:underline",children:"Read More "})]},n.slug)})}async function t8(){const{data:n,error:e}=await c1.from("blogpost").select("*");if(e)throw console.log(e),new Error("Blogpost could not be loaded");return n||[]}async function n8(n){let{data:e,error:t}=await c1.from("postdetails").select("*").eq("slug",n).single();if(t)throw console.log(t),new Error("Blog details could not be loaded");return e}function UN(){var v;const{data:n,isFetching:e,error:t}=l1({queryKey:["posts"],queryFn:t8}),i=2,r=Ch(),a=new URLSearchParams(r.search),s=((v=a.get("search"))==null?void 0:v.toLowerCase())||"",l=Number(a.get("page"))||1,c=(n??[]).filter(_=>_.title.toLowerCase().includes(s)||_.excerpt.toLowerCase().includes(s)).sort((_,D)=>new Date(D.date).getTime()-new Date(_.date).getTime()),f=Math.ceil(c.length/i),p=(l-1)*i,g=p+i;return{posts:c.slice(p,g),totalPages:f,page:l,isFetching:e,error:t}}function i8(){const{posts:n,isPending:e,error:t}=UN(),i=2;if(t)return Ip.error(t),null;if(e)return fe.jsx(yv,{});const r=n.sort((a,s)=>new Date(s.date).getTime()-new Date(a.date).getTime()).slice(0,i);return fe.jsxs("section",{children:[fe.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray200",children:" Latest Blog"}),fe.jsx("div",{className:"grid gap-6 sm:grid-cols-2 z-10",children:r.map(a=>fe.jsx(NN,{post:a},a.id))})]})}function r8(){return fe.jsxs(fe.Fragment,{children:[fe.jsx(e8,{}),fe.jsx(_5,{}),fe.jsx(i8,{})]})}const CA=oe.createContext({});function d1(n){const e=oe.useRef(null);return e.current===null&&(e.current=n()),e.current}const RA=typeof window<"u",DA=RA?oe.useLayoutEffect:oe.useEffect,p1=oe.createContext(null);function OA(n,e){n.indexOf(e)===-1&&n.push(e)}function m1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ed=(n,e,t)=>t>e?e:t<n?n:t;let PA=()=>{};const Td={},IN=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function zN(n){return typeof n=="object"&&n!==null}const kN=n=>/^0[^.\s]+$/u.test(n);function LA(n){let e;return()=>(e===void 0&&(e=n()),e)}const Cc=n=>n,a8=(n,e)=>t=>e(n(t)),Nx=(...n)=>n.reduce(a8),$y=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class NA{constructor(){this.subscriptions=[]}add(e){return OA(this.subscriptions,e),()=>m1(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const s=this.subscriptions[a];s&&s(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _f=n=>n*1e3,_h=n=>n/1e3;function BN(n,e){return e?n*(1e3/e):0}const s8=(n,e,t)=>{const i=e-n;return((t-n)%i+i)%i+n},FN=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,o8=1e-7,l8=12;function u8(n,e,t,i,r){let a,s,l=0;do s=e+(t-e)/2,a=FN(s,i,r)-n,a>0?t=s:e=s;while(Math.abs(a)>o8&&++l<l8);return s}function Ux(n,e,t,i){if(n===e&&t===i)return Cc;const r=a=>u8(a,0,1,n,t);return a=>a===0||a===1?a:FN(r(a),e,i)}const HN=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,VN=n=>e=>1-n(1-e),GN=Ux(.33,1.53,.69,.99),UA=VN(GN),XN=HN(UA),WN=n=>(n*=2)<1?.5*UA(n):.5*(2-Math.pow(2,-10*(n-1))),IA=n=>1-Math.sin(Math.acos(n)),YN=VN(IA),jN=HN(IA),c8=Ux(.42,0,1,1),f8=Ux(0,0,.58,1),qN=Ux(.42,0,.58,1),ZN=n=>Array.isArray(n)&&typeof n[0]!="number";function KN(n,e){return ZN(n)?n[s8(0,n.length,e)]:n}const QN=n=>Array.isArray(n)&&typeof n[0]=="number",h8={linear:Cc,easeIn:c8,easeInOut:qN,easeOut:f8,circIn:IA,circInOut:jN,circOut:YN,backIn:UA,backInOut:XN,backOut:GN,anticipate:WN},d8=n=>typeof n=="string",QR=n=>{if(QN(n)){PA(n.length===4);const[e,t,i,r]=n;return Ux(e,t,i,r)}else if(d8(n))return h8[n];return n},Cb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function p8(n,e){let t=new Set,i=new Set,r=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){s.has(p)&&(f.schedule(p),n()),p(l)}const f={schedule:(p,g=!1,y=!1)=>{const _=y&&r?t:i;return g&&s.add(p),_.has(p)||_.add(p),p},cancel:p=>{i.delete(p),s.delete(p)},process:p=>{if(l=p,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(c),t.clear(),r=!1,a&&(a=!1,f.process(p))}};return f}const m8=40;function JN(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=Cb.reduce((P,U)=>(P[U]=p8(a),P),{}),{setup:l,read:c,resolveKeyframes:f,preUpdate:p,update:g,preRender:y,render:v,postRender:_}=s,D=()=>{const P=Td.useManualTiming?r.timestamp:performance.now();t=!1,Td.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(P-r.timestamp,m8),1)),r.timestamp=P,r.isProcessing=!0,l.process(r),c.process(r),f.process(r),p.process(r),g.process(r),y.process(r),v.process(r),_.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(D))},M=()=>{t=!0,i=!0,r.isProcessing||n(D)};return{schedule:Cb.reduce((P,U)=>{const X=s[U];return P[U]=(H,G=!1,W=!1)=>(t||M(),X.schedule(H,G,W)),P},{}),cancel:P=>{for(let U=0;U<Cb.length;U++)s[Cb[U]].cancel(P)},state:r,steps:s}}const{schedule:kr,cancel:wd,state:io,steps:YE}=JN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cc,!0);let L_;function g8(){L_=void 0}const $l={now:()=>(L_===void 0&&$l.set(io.isProcessing||Td.useManualTiming?io.timestamp:performance.now()),L_),set:n=>{L_=n,queueMicrotask(g8)}},$N=n=>e=>typeof e=="string"&&e.startsWith(n),zA=$N("--"),y8=$N("var(--"),kA=n=>y8(n)?v8.test(n.split("/*")[0].trim()):!1,v8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vv={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Z0={...vv,transform:n=>Ed(0,1,n)},Rb={...vv,default:1},A0=n=>Math.round(n*1e5)/1e5,BA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function x8(n){return n==null}const b8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,FA=(n,e)=>t=>!!(typeof t=="string"&&b8.test(t)&&t.startsWith(n)||e&&!x8(t)&&Object.prototype.hasOwnProperty.call(t,e)),eU=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,s,l]=i.match(BA);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},_8=n=>Ed(0,255,n),jE={...vv,transform:n=>Math.round(_8(n))},Zm={test:FA("rgb","red"),parse:eU("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+jE.transform(n)+", "+jE.transform(e)+", "+jE.transform(t)+", "+A0(Z0.transform(i))+")"};function S8(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const cM={test:FA("#"),parse:S8,transform:Zm.transform},Ix=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),xp=Ix("deg"),Sh=Ix("%"),Pn=Ix("px"),E8=Ix("vh"),T8=Ix("vw"),JR={...Sh,parse:n=>Sh.parse(n)/100,transform:n=>Sh.transform(n*100)},Cy={test:FA("hsl","hue"),parse:eU("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Sh.transform(A0(e))+", "+Sh.transform(A0(t))+", "+A0(Z0.transform(i))+")"},is={test:n=>Zm.test(n)||cM.test(n)||Cy.test(n),parse:n=>Zm.test(n)?Zm.parse(n):Cy.test(n)?Cy.parse(n):cM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Zm.transform(n):Cy.transform(n),getAnimatableNone:n=>{const e=is.parse(n);return e.alpha=0,is.transform(e)}},w8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M8(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(BA))==null?void 0:e.length)||0)+(((t=n.match(w8))==null?void 0:t.length)||0)>0}const tU="number",nU="color",A8="var",C8="var(",$R="${}",R8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function K0(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const l=e.replace(R8,c=>(is.test(c)?(i.color.push(a),r.push(nU),t.push(is.parse(c))):c.startsWith(C8)?(i.var.push(a),r.push(A8),t.push(c)):(i.number.push(a),r.push(tU),t.push(parseFloat(c))),++a,$R)).split($R);return{values:t,split:l,indexes:i,types:r}}function iU(n){return K0(n).values}function rU(n){const{split:e,types:t}=K0(n),i=e.length;return r=>{let a="";for(let s=0;s<i;s++)if(a+=e[s],r[s]!==void 0){const l=t[s];l===tU?a+=A0(r[s]):l===nU?a+=is.transform(r[s]):a+=r[s]}return a}}const D8=n=>typeof n=="number"?0:is.test(n)?is.getAnimatableNone(n):n;function O8(n){const e=iU(n);return rU(n)(e.map(D8))}const zp={test:M8,parse:iU,createTransformer:rU,getAnimatableNone:O8};function qE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function P8({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,s=0;if(!e)r=a=s=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;r=qE(c,l,n+1/3),a=qE(c,l,n),s=qE(c,l,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:i}}function tS(n,e){return t=>t>0?e:n}const qr=(n,e,t)=>n+(e-n)*t,ZE=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},L8=[cM,Zm,Cy],N8=n=>L8.find(e=>e.test(n));function e3(n){const e=N8(n);if(!e)return!1;let t=e.parse(n);return e===Cy&&(t=P8(t)),t}const t3=(n,e)=>{const t=e3(n),i=e3(e);if(!t||!i)return tS(n,e);const r={...t};return a=>(r.red=ZE(t.red,i.red,a),r.green=ZE(t.green,i.green,a),r.blue=ZE(t.blue,i.blue,a),r.alpha=qr(t.alpha,i.alpha,a),Zm.transform(r))},fM=new Set(["none","hidden"]);function U8(n,e){return fM.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function I8(n,e){return t=>qr(n,e,t)}function HA(n){return typeof n=="number"?I8:typeof n=="string"?kA(n)?tS:is.test(n)?t3:B8:Array.isArray(n)?aU:typeof n=="object"?is.test(n)?t3:z8:tS}function aU(n,e){const t=[...n],i=t.length,r=n.map((a,s)=>HA(a)(a,e[s]));return a=>{for(let s=0;s<i;s++)t[s]=r[s](a);return t}}function z8(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=HA(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function k8(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],s=n.indexes[a][i[a]],l=n.values[s]??0;t[r]=l,i[a]++}return t}const B8=(n,e)=>{const t=zp.createTransformer(e),i=K0(n),r=K0(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?fM.has(n)&&!r.values.length||fM.has(e)&&!i.values.length?U8(n,e):Nx(aU(k8(i,r),r.values),t):tS(n,e)};function sU(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?qr(n,e,t):HA(n)(n,e)}const F8=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>kr.update(e,t),stop:()=>wd(e),now:()=>io.isProcessing?io.timestamp:$l.now()}},oU=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=Math.round(n(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},nS=2e4;function VA(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<nS;)e+=t,i=n.next(e);return e>=nS?1/0:e}function lU(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(VA(i),nS);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:_h(r)}}const H8=5;function uU(n,e,t){const i=Math.max(e-H8,0);return BN(t-n(i),e-i)}const Ra={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KE=.001;function V8({duration:n=Ra.duration,bounce:e=Ra.bounce,velocity:t=Ra.velocity,mass:i=Ra.mass}){let r,a,s=1-e;s=Ed(Ra.minDamping,Ra.maxDamping,s),n=Ed(Ra.minDuration,Ra.maxDuration,_h(n)),s<1?(r=f=>{const p=f*s,g=p*n,y=p-t,v=hM(f,s),_=Math.exp(-g);return KE-y/v*_},a=f=>{const g=f*s*n,y=g*t+t,v=Math.pow(s,2)*Math.pow(f,2)*n,_=Math.exp(-g),D=hM(Math.pow(f,2),s);return(-r(f)+KE>0?-1:1)*((y-v)*_)/D}):(r=f=>{const p=Math.exp(-f*n),g=(f-t)*n+1;return-KE+p*g},a=f=>{const p=Math.exp(-f*n),g=(t-f)*(n*n);return p*g});const l=5/n,c=X8(r,a,l);if(n=_f(n),isNaN(c))return{stiffness:Ra.stiffness,damping:Ra.damping,duration:n};{const f=Math.pow(c,2)*i;return{stiffness:f,damping:s*2*Math.sqrt(i*f),duration:n}}}const G8=12;function X8(n,e,t){let i=t;for(let r=1;r<G8;r++)i=i-n(i)/e(i);return i}function hM(n,e){return n*Math.sqrt(1-e*e)}const W8=["duration","bounce"],Y8=["stiffness","damping","mass"];function n3(n,e){return e.some(t=>n[t]!==void 0)}function j8(n){let e={velocity:Ra.velocity,stiffness:Ra.stiffness,damping:Ra.damping,mass:Ra.mass,isResolvedFromDuration:!1,...n};if(!n3(n,Y8)&&n3(n,W8))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*Ed(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:Ra.mass,stiffness:r,damping:a}}else{const t=V8(n);e={...e,...t,mass:Ra.mass},e.isResolvedFromDuration=!0}return e}function Q0(n=Ra.visualDuration,e=Ra.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:f,mass:p,duration:g,velocity:y,isResolvedFromDuration:v}=j8({...t,velocity:-_h(t.velocity||0)}),_=y||0,D=f/(2*Math.sqrt(c*p)),M=s-a,S=_h(Math.sqrt(c/p)),N=Math.abs(M)<5;i||(i=N?Ra.restSpeed.granular:Ra.restSpeed.default),r||(r=N?Ra.restDelta.granular:Ra.restDelta.default);let P;if(D<1){const X=hM(S,D);P=H=>{const G=Math.exp(-D*S*H);return s-G*((_+D*S*M)/X*Math.sin(X*H)+M*Math.cos(X*H))}}else if(D===1)P=X=>s-Math.exp(-S*X)*(M+(_+S*M)*X);else{const X=S*Math.sqrt(D*D-1);P=H=>{const G=Math.exp(-D*S*H),W=Math.min(X*H,300);return s-G*((_+D*S*M)*Math.sinh(W)+X*M*Math.cosh(W))/X}}const U={calculatedDuration:v&&g||null,next:X=>{const H=P(X);if(v)l.done=X>=g;else{let G=X===0?_:0;D<1&&(G=X===0?_f(_):uU(P,X,H));const W=Math.abs(G)<=i,B=Math.abs(s-H)<=r;l.done=W&&B}return l.value=l.done?s:H,l},toString:()=>{const X=Math.min(VA(U),nS),H=oU(G=>U.next(X*G).value,X,30);return X+"ms "+H},toTransition:()=>{}};return U}Q0.applyToOptions=n=>{const e=lU(n,100,Q0);return n.ease=e.ease,n.duration=_f(e.duration),n.type="keyframes",n};function dM({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:f=.5,restSpeed:p}){const g=n[0],y={done:!1,value:g},v=W=>l!==void 0&&W<l||c!==void 0&&W>c,_=W=>l===void 0?c:c===void 0||Math.abs(l-W)<Math.abs(c-W)?l:c;let D=t*e;const M=g+D,S=s===void 0?M:s(M);S!==M&&(D=S-g);const N=W=>-D*Math.exp(-W/i),P=W=>S+N(W),U=W=>{const B=N(W),I=P(W);y.done=Math.abs(B)<=f,y.value=y.done?S:I};let X,H;const G=W=>{v(y.value)&&(X=W,H=Q0({keyframes:[y.value,_(y.value)],velocity:uU(P,W,y.value),damping:r,stiffness:a,restDelta:f,restSpeed:p}))};return G(0),{calculatedDuration:null,next:W=>{let B=!1;return!H&&X===void 0&&(B=!0,U(W),G(W)),X!==void 0&&W>=X?H.next(W-X):(!B&&U(W),y)}}}function q8(n,e,t){const i=[],r=t||Td.mix||sU,a=n.length-1;for(let s=0;s<a;s++){let l=r(n[s],n[s+1]);if(e){const c=Array.isArray(e)?e[s]||Cc:e;l=Nx(c,l)}i.push(l)}return i}function Z8(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(PA(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=q8(e,i,r),c=l.length,f=p=>{if(s&&p<n[0])return e[0];let g=0;if(c>1)for(;g<n.length-2&&!(p<n[g+1]);g++);const y=$y(n[g],n[g+1],p);return l[g](y)};return t?p=>f(Ed(n[0],n[a-1],p)):f}function cU(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=$y(0,e,i);n.push(qr(t,1,r))}}function fU(n){const e=[0];return cU(e,n.length-1),e}function K8(n,e){return n.map(t=>t*e)}function Q8(n,e){return n.map(()=>e||qN).splice(0,n.length-1)}function C0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=ZN(i)?i.map(QR):QR(i),a={done:!1,value:e[0]},s=K8(t&&t.length===e.length?t:fU(e),n),l=Z8(s,e,{ease:Array.isArray(r)?r:Q8(e,r)});return{calculatedDuration:n,next:c=>(a.value=l(c),a.done=c>=n,a)}}const J8=n=>n!==null;function GA(n,{repeat:e,repeatType:t="loop"},i,r=1){const a=n.filter(J8),l=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const $8={decay:dM,inertia:dM,tween:C0,keyframes:C0,spring:Q0};function hU(n){typeof n.type=="string"&&(n.type=$8[n.type])}class XA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const eG=n=>n/100;class WA extends XA{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:t}=this.options;t&&t.updatedAt!==$l.now()&&this.tick($l.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;hU(e);const{type:t=C0,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:s=0}=e;let{keyframes:l}=e;const c=t||C0;c!==C0&&typeof l[0]!="number"&&(this.mixKeyframes=Nx(eG,sU(l[0],l[1])),l=[0,100]);const f=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=VA(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:v,type:_,onUpdate:D,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?S<0:S>r;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let P=this.currentTime,U=i;if(g){const W=Math.min(this.currentTime,r)/l;let B=Math.floor(W),I=W%1;!I&&W>=1&&(I=1),I===1&&B--,B=Math.min(B,g+1),!!(B%2)&&(y==="reverse"?(I=1-I,v&&(I-=v/l)):y==="mirror"&&(U=s)),P=Ed(0,1,I)*l}const X=N?{done:!1,value:p[0]}:U.next(P);a&&(X.value=a(X.value));let{done:H}=X;!N&&c!==null&&(H=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return G&&_!==dM&&(X.value=GA(p,this.options,M,this.speed)),D&&D(X.value),G&&this.finish(),X}then(e,t){return this.finished.then(e,t)}get duration(){return _h(this.calculatedDuration)}get time(){return _h(this.currentTime)}set time(e){var t;e=_f(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($l.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=_h(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:e=F8,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(a=(r=this.options).onPlay)==null||a.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($l.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function tG(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Km=n=>n*180/Math.PI,pM=n=>{const e=Km(Math.atan2(n[1],n[0]));return mM(e)},nG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:pM,rotateZ:pM,skewX:n=>Km(Math.atan(n[1])),skewY:n=>Km(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},mM=n=>(n=n%360,n<0&&(n+=360),n),i3=pM,r3=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),a3=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),iG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:r3,scaleY:a3,scale:n=>(r3(n)+a3(n))/2,rotateX:n=>mM(Km(Math.atan2(n[6],n[5]))),rotateY:n=>mM(Km(Math.atan2(-n[2],n[0]))),rotateZ:i3,rotate:i3,skewX:n=>Km(Math.atan(n[4])),skewY:n=>Km(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function gM(n){return n.includes("scale")?1:0}function yM(n,e){if(!n||n==="none")return gM(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=iG,r=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=nG,r=l}if(!r)return gM(e);const a=i[e],s=r[1].split(",").map(aG);return typeof a=="function"?a(s):s[a]}const rG=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return yM(t,e)};function aG(n){return parseFloat(n.trim())}const xv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bv=new Set(xv),s3=n=>n===vv||n===Pn,sG=new Set(["x","y","z"]),oG=xv.filter(n=>!sG.has(n));function lG(n){const e=[];return oG.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const ug={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>yM(e,"x"),y:(n,{transform:e})=>yM(e,"y")};ug.translateX=ug.x;ug.translateY=ug.y;const cg=new Set;let vM=!1,xM=!1,bM=!1;function dU(){if(xM){const n=Array.from(cg).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=lG(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,s])=>{var l;(l=i.getValue(a))==null||l.set(s)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}xM=!1,vM=!1,cg.forEach(n=>n.complete(bM)),cg.clear()}function pU(){cg.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(xM=!0)})}function uG(){bM=!0,pU(),dU(),bM=!1}class YA{constructor(e,t,i,r,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(cg.add(this),vM||(vM=!0,kr.read(pU),kr.resolveKeyframes(dU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const a=r==null?void 0:r.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const l=i.readValue(t,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),r&&a===void 0&&r.set(e[0])}tG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cg.delete(this)}cancel(){this.state==="scheduled"&&(cg.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cG=n=>n.startsWith("--");function fG(n,e,t){cG(e)?n.style.setProperty(e,t):n.style[e]=t}const hG=LA(()=>window.ScrollTimeline!==void 0),dG={};function pG(n,e){const t=LA(n);return()=>dG[e]??t()}const mU=pG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),x0=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,o3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:x0([0,.65,.55,1]),circOut:x0([.55,0,1,.45]),backIn:x0([.31,.01,.66,-.59]),backOut:x0([.33,1.53,.69,.99])};function gU(n,e){if(n)return typeof n=="function"?mU()?oU(n,e):"ease-out":QN(n)?x0(n):Array.isArray(n)?n.map(t=>gU(t,e)||o3.easeOut):o3[n]}function mG(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:s="loop",ease:l="easeOut",times:c}={},f=void 0){const p={[e]:t};c&&(p.offset=c);const g=gU(l,r);Array.isArray(g)&&(p.easing=g);const y={delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),n.animate(p,y)}function jA(n){return typeof n=="function"&&"applyToOptions"in n}function gG({type:n,...e}){return jA(n)&&mU()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yG extends XA{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,PA(typeof e.type!="string");const f=gG(e);this.animation=mG(t,i,r,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=GA(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(p):fG(t,i,p),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return _h(Number(e))}get time(){return _h(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_f(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&hG()?(this.animation.timeline=e,Cc):t(this)}}const yU={anticipate:WN,backInOut:XN,circInOut:jN};function vG(n){return n in yU}function xG(n){typeof n.ease=="string"&&vG(n.ease)&&(n.ease=yU[n.ease])}const l3=10;class bG extends yG{constructor(e){xG(e),hU(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:a,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new WA({...s,autoplay:!1}),c=_f(this.finishedTime??this.time);t.setWithVelocity(l.sample(c-l3).value,l.sample(c).value,l3),l.stop()}}const u3=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(zp.test(n)||n==="0")&&!n.startsWith("url("));function _G(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function SG(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],s=u3(r,e),l=u3(a,e);return!s||!l?!1:_G(n)||(t==="spring"||jA(t))&&i}function _M(n){n.duration=0,n.type}const EG=new Set(["opacity","clipPath","filter","transform"]),TG=LA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wG(n){var p;const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:a,type:s}=n;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return TG()&&t&&EG.has(t)&&(t!=="transform"||!f)&&!c&&!i&&r!=="mirror"&&a!==0&&s!=="inertia"}const MG=40;class AG extends XA{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:c,motionValue:f,element:p,...g}){var _;super(),this.stop=()=>{var D,M;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=$l.now();const y={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:s,name:c,motionValue:f,element:p,...g},v=(p==null?void 0:p.KeyframeResolver)||YA;this.keyframeResolver=new v(l,(D,M,S)=>this.onKeyframesResolved(D,M,y,!S),c,f,p),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:a,type:s,velocity:l,delay:c,isHandoff:f,onUpdate:p}=i;this.resolvedAt=$l.now(),SG(e,a,s,l)||((Td.instantAnimations||!c)&&(p==null||p(GA(e,i,t))),e[0]=e[e.length-1],_M(i),i.repeat=0);const y={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>MG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},v=!f&&wG(y)?new bG({...y,element:y.motionValue.owner.current}):new WA(y);v.finished.then(()=>this.notifyFinished()).catch(Cc),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),uG()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}class CG{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e){const t=this.animations.map(i=>i.attachTimeline(e));return()=>{t.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class RG extends CG{then(e,t){return this.finished.finally(e).then(()=>{})}}const DG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OG(n){const e=DG.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function vU(n,e,t=1){const[i,r]=OG(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const s=a.trim();return IN(s)?parseFloat(s):s}return kA(r)?vU(r,e,t+1):r}function qA(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const xU=new Set(["width","height","top","left","right","bottom",...xv]),PG={test:n=>n==="auto",parse:n=>n},bU=n=>e=>e.test(n),_U=[vv,Pn,Sh,xp,T8,E8,PG],c3=n=>_U.find(bU(n));function LG(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||kN(n):!0}const NG=new Set(["brightness","contrast","saturate","opacity"]);function UG(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(BA)||[];if(!i)return n;const r=t.replace(i,"");let a=NG.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const IG=/\b([a-z-]*)\(.*?\)/gu,SM={...zp,getAnimatableNone:n=>{const e=n.match(IG);return e?e.map(UG).join(" "):n}},f3={...vv,transform:Math.round},zG={rotate:xp,rotateX:xp,rotateY:xp,rotateZ:xp,scale:Rb,scaleX:Rb,scaleY:Rb,scaleZ:Rb,skew:xp,skewX:xp,skewY:xp,distance:Pn,translateX:Pn,translateY:Pn,translateZ:Pn,x:Pn,y:Pn,z:Pn,perspective:Pn,transformPerspective:Pn,opacity:Z0,originX:JR,originY:JR,originZ:Pn},ZA={borderWidth:Pn,borderTopWidth:Pn,borderRightWidth:Pn,borderBottomWidth:Pn,borderLeftWidth:Pn,borderRadius:Pn,radius:Pn,borderTopLeftRadius:Pn,borderTopRightRadius:Pn,borderBottomRightRadius:Pn,borderBottomLeftRadius:Pn,width:Pn,maxWidth:Pn,height:Pn,maxHeight:Pn,top:Pn,right:Pn,bottom:Pn,left:Pn,padding:Pn,paddingTop:Pn,paddingRight:Pn,paddingBottom:Pn,paddingLeft:Pn,margin:Pn,marginTop:Pn,marginRight:Pn,marginBottom:Pn,marginLeft:Pn,backgroundPositionX:Pn,backgroundPositionY:Pn,...zG,zIndex:f3,fillOpacity:Z0,strokeOpacity:Z0,numOctaves:f3},kG={...ZA,color:is,backgroundColor:is,outlineColor:is,fill:is,stroke:is,borderColor:is,borderTopColor:is,borderRightColor:is,borderBottomColor:is,borderLeftColor:is,filter:SM,WebkitFilter:SM},SU=n=>kG[n];function EU(n,e){let t=SU(n);return t!==SM&&(t=zp),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const BG=new Set(["auto","none","0"]);function FG(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!BG.has(a)&&K0(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=EU(t,r)}class HG extends YA{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),kA(f))){const p=vU(f,t.current);p!==void 0&&(e[c]=p),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!xU.has(i)||e.length!==2)return;const[r,a]=e,s=c3(r),l=c3(a);if(s!==l)if(s3(s)&&s3(l))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else ug[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||LG(e[r]))&&i.push(r);i.length&&FG(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ug[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,s=i[a];i[a]=ug[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function TU(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=(t==null?void 0:t[n])??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const wU=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function MU(n){return zN(n)&&"offsetHeight"in n}const h3=30,VG=n=>!isNaN(parseFloat(n));class GG{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const r=$l.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=$l.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new NA);const i=this.events[e].add(t);return e==="change"?()=>{i(),kr.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$l.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>h3)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,h3);return BN(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mg(n,e){return new GG(n,e)}const{schedule:KA}=JN(queueMicrotask,!1),pf={x:!1,y:!1};function AU(){return pf.x||pf.y}function XG(n){return n==="x"||n==="y"?pf[n]?null:(pf[n]=!0,()=>{pf[n]=!1}):pf.x||pf.y?null:(pf.x=pf.y=!0,()=>{pf.x=pf.y=!1})}function CU(n,e){const t=TU(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function d3(n){return!(n.pointerType==="touch"||AU())}function WG(n,e,t={}){const[i,r,a]=CU(n,t),s=l=>{if(!d3(l))return;const{target:c}=l,f=e(c,l);if(typeof f!="function"||!c)return;const p=g=>{d3(g)&&(f(g),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,r)};return i.forEach(l=>{l.addEventListener("pointerenter",s,r)}),a}const RU=(n,e)=>e?n===e?!0:RU(n,e.parentElement):!1,QA=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,YG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jG(n){return YG.has(n.tagName)||n.tabIndex!==-1}const N_=new WeakSet;function p3(n){return e=>{e.key==="Enter"&&n(e)}}function QE(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qG=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=p3(()=>{if(N_.has(t))return;QE(t,"down");const r=p3(()=>{QE(t,"up")}),a=()=>QE(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function m3(n){return QA(n)&&!AU()}function ZG(n,e,t={}){const[i,r,a]=CU(n,t),s=l=>{const c=l.currentTarget;if(!m3(l))return;N_.add(c);const f=e(c,l),p=(v,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),N_.has(c)&&N_.delete(c),m3(v)&&typeof f=="function"&&f(v,{success:_})},g=v=>{p(v,c===window||c===document||t.useGlobalTarget||RU(c,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",y,r)};return i.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",s,r),MU(l)&&(l.addEventListener("focus",f=>qG(f,r)),!jG(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function JA(n){return zN(n)&&"ownerSVGElement"in n}function DU(n){return JA(n)&&n.tagName==="svg"}const rs=n=>!!(n&&n.getVelocity),KG=[..._U,is,zp],QG=n=>KG.find(bU(n)),g1=oe.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function g3(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function JG(...n){return e=>{let t=!1;const i=n.map(r=>{const a=g3(r,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():g3(n[r],null)}}}}function $G(...n){return oe.useCallback(JG(...n),n)}class e9 extends oe.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=MU(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function t9({children:n,isPresent:e,anchorX:t,root:i}){const r=oe.useId(),a=oe.useRef(null),s=oe.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=oe.useContext(g1),c=$G(a,n==null?void 0:n.ref);return oe.useInsertionEffect(()=>{const{width:f,height:p,top:g,left:y,right:v}=s.current;if(e||!a.current||!f||!p)return;const _=t==="left"?`left: ${y}`:`right: ${v}`;a.current.dataset.motionPopId=r;const D=document.createElement("style");l&&(D.nonce=l);const M=i??document.head;return M.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${_}px !important;
            top: ${g}px !important;
          }
        `),()=>{M.contains(D)&&M.removeChild(D)}},[e]),fe.jsx(e9,{isPresent:e,childRef:a,sizeRef:s,children:oe.cloneElement(n,{ref:c})})}const n9=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:s,anchorX:l,root:c})=>{const f=d1(i9),p=oe.useId();let g=!0,y=oe.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:t,custom:r,onExitComplete:v=>{f.set(v,!0);for(const _ of f.values())if(!_)return;i&&i()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[t,f,i]);return a&&g&&(y={...y}),oe.useMemo(()=>{f.forEach((v,_)=>f.set(_,!1))},[t]),oe.useEffect(()=>{!t&&!f.size&&i&&i()},[t]),s==="popLayout"&&(n=fe.jsx(t9,{isPresent:t,anchorX:l,root:c,children:n})),fe.jsx(p1.Provider,{value:y,children:n})};function i9(){return new Map}function OU(n=!0){const e=oe.useContext(p1);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=oe.useId();oe.useEffect(()=>{if(n)return r(a)},[n]);const s=oe.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,s]:[!0]}const Db=n=>n.key||"";function y3(n){const e=[];return oe.Children.forEach(n,t=>{oe.isValidElement(t)&&e.push(t)}),e}const r9=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:s=!1,anchorX:l="left",root:c})=>{const[f,p]=OU(s),g=oe.useMemo(()=>y3(n),[n]),y=s&&!f?[]:g.map(Db),v=oe.useRef(!0),_=oe.useRef(g),D=d1(()=>new Map),[M,S]=oe.useState(g),[N,P]=oe.useState(g);DA(()=>{v.current=!1,_.current=g;for(let H=0;H<N.length;H++){const G=Db(N[H]);y.includes(G)?D.delete(G):D.get(G)!==!0&&D.set(G,!1)}},[N,y.length,y.join("-")]);const U=[];if(g!==M){let H=[...g];for(let G=0;G<N.length;G++){const W=N[G],B=Db(W);y.includes(B)||(H.splice(G,0,W),U.push(W))}return a==="wait"&&U.length&&(H=U),P(y3(H)),S(g),null}const{forceRender:X}=oe.useContext(CA);return fe.jsx(fe.Fragment,{children:N.map(H=>{const G=Db(H),W=s&&!f?!1:g===N||y.includes(G),B=()=>{if(D.has(G))D.set(G,!0);else return;let I=!0;D.forEach(Z=>{Z||(I=!1)}),I&&(X==null||X(),P(_.current),s&&(p==null||p()),i&&i())};return fe.jsx(n9,{isPresent:W,initial:!v.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:c,onExitComplete:W?void 0:B,anchorX:l,children:H},G)})})},PU=oe.createContext({strict:!1}),v3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ev={};for(const n in v3)ev[n]={isEnabled:e=>v3[n].some(t=>!!e[t])};function a9(n){for(const e in n)ev[e]={...ev[e],...n[e]}}const s9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iS(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||s9.has(n)}let LU=n=>!iS(n);function o9(n){typeof n=="function"&&(LU=e=>e.startsWith("on")?!iS(e):n(e))}try{o9(require("@emotion/is-prop-valid").default)}catch{}function l9(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(LU(r)||t===!0&&iS(r)||!e&&!iS(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const y1=oe.createContext({});function v1(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function J0(n){return typeof n=="string"||Array.isArray(n)}const $A=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eC=["initial",...$A];function x1(n){return v1(n.animate)||eC.some(e=>J0(n[e]))}function NU(n){return!!(x1(n)||n.variants)}function u9(n,e){if(x1(n)){const{initial:t,animate:i}=n;return{initial:t===!1||J0(t)?t:void 0,animate:J0(i)?i:void 0}}return n.inherit!==!1?e:{}}function c9(n){const{initial:e,animate:t}=u9(n,oe.useContext(y1));return oe.useMemo(()=>({initial:e,animate:t}),[x3(e),x3(t)])}function x3(n){return Array.isArray(n)?n.join(" "):n}const $0={};function f9(n){for(const e in n)$0[e]=n[e],zA(e)&&($0[e].isCSSVariable=!0)}function UU(n,{layout:e,layoutId:t}){return bv.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!$0[n]||n==="opacity")}const h9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d9=xv.length;function p9(n,e,t){let i="",r=!0;for(let a=0;a<d9;a++){const s=xv[a],l=n[s];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(s.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const f=wU(l,ZA[s]);if(!c){r=!1;const p=h9[s]||s;i+=`${p}(${f}) `}t&&(e[s]=f)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function tC(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let s=!1,l=!1;for(const c in e){const f=e[c];if(bv.has(c)){s=!0;continue}else if(zA(c)){r[c]=f;continue}else{const p=wU(f,ZA[c]);c.startsWith("origin")?(l=!0,a[c]=p):i[c]=p}}if(e.transform||(s||t?i.transform=p9(e,n.transform,t):i.transform&&(i.transform="none")),l){const{originX:c="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${c} ${f} ${p}`}}const nC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IU(n,e,t){for(const i in e)!rs(e[i])&&!UU(i,t)&&(n[i]=e[i])}function m9({transformTemplate:n},e){return oe.useMemo(()=>{const t=nC();return tC(t,e,n),Object.assign({},t.vars,t.style)},[e])}function g9(n,e){const t=n.style||{},i={};return IU(i,t,n),Object.assign(i,m9(n,e)),i}function y9(n,e){const t={},i=g9(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const v9={offset:"stroke-dashoffset",array:"stroke-dasharray"},x9={offset:"strokeDashoffset",array:"strokeDasharray"};function b9(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?v9:x9;n[a.offset]=Pn.transform(-i);const s=Pn.transform(e),l=Pn.transform(t);n[a.array]=`${s} ${l}`}function zU(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:s=0,...l},c,f,p){if(tC(n,l,f),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:y}=n;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),i!==void 0&&(g.scale=i),r!==void 0&&b9(g,r,a,s,!1)}const kU=()=>({...nC(),attrs:{}}),BU=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _9(n,e,t,i){const r=oe.useMemo(()=>{const a=kU();return zU(a,e,BU(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};IU(a,n.style,n),r.style={...a,...r.style}}return r}const S9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iC(n){return typeof n!="string"||n.includes("-")?!1:!!(S9.indexOf(n)>-1||/[A-Z]/u.test(n))}function E9(n,e,t,{latestValues:i},r,a=!1){const l=(iC(n)?_9:y9)(e,i,r,n),c=l9(e,typeof n=="string",a),f=n!==oe.Fragment?{...c,...l,ref:t}:{},{children:p}=e,g=oe.useMemo(()=>rs(p)?p.get():p,[p]);return oe.createElement(n,{...f,children:g})}function b3(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function rC(n,e,t,i){if(typeof e=="function"){const[r,a]=b3(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=b3(i);e=e(t!==void 0?t:n.custom,r,a)}return e}function U_(n){return rs(n)?n.get():n}function T9({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:w9(t,i,r,n),renderState:e()}}function w9(n,e,t,i){const r={},a=i(n,{});for(const y in a)r[y]=U_(a[y]);let{initial:s,animate:l}=n;const c=x1(n),f=NU(n);e&&f&&!c&&n.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let p=t?t.initial===!1:!1;p=p||s===!1;const g=p?l:s;if(g&&typeof g!="boolean"&&!v1(g)){const y=Array.isArray(g)?g:[g];for(let v=0;v<y.length;v++){const _=rC(n,y[v]);if(_){const{transitionEnd:D,transition:M,...S}=_;for(const N in S){let P=S[N];if(Array.isArray(P)){const U=p?P.length-1:0;P=P[U]}P!==null&&(r[N]=P)}for(const N in D)r[N]=D[N]}}}return r}const FU=n=>(e,t)=>{const i=oe.useContext(y1),r=oe.useContext(p1),a=()=>T9(n,e,i,r);return t?a():d1(a)};function aC(n,e,t){var a;const{style:i}=n,r={};for(const s in i)(rs(i[s])||e.style&&rs(e.style[s])||UU(s,n)||((a=t==null?void 0:t.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(r[s]=i[s]);return r}const M9=FU({scrapeMotionValuesFromProps:aC,createRenderState:nC});function HU(n,e,t){const i=aC(n,e,t);for(const r in n)if(rs(n[r])||rs(e[r])){const a=xv.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const A9=FU({scrapeMotionValuesFromProps:HU,createRenderState:kU}),C9=Symbol.for("motionComponentSymbol");function Ry(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function R9(n,e,t){return oe.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Ry(t)&&(t.current=i))},[e])}const sC=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D9="framerAppearId",VU="data-"+sC(D9),GU=oe.createContext({});function O9(n,e,t,i,r){var D,M;const{visualElement:a}=oe.useContext(y1),s=oe.useContext(PU),l=oe.useContext(p1),c=oe.useContext(g1).reducedMotion,f=oe.useRef(null);i=i||s.renderer,!f.current&&i&&(f.current=i(n,{visualState:e,parent:a,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const p=f.current,g=oe.useContext(GU);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&P9(f.current,t,r,g);const y=oe.useRef(!1);oe.useInsertionEffect(()=>{p&&y.current&&p.update(t,l)});const v=t[VU],_=oe.useRef(!!v&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,v))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,v)));return DA(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),_.current&&p.animationState&&p.animationState.animateChanges())}),oe.useEffect(()=>{p&&(!_.current&&p.animationState&&p.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,v)}),_.current=!1),p.enteringChildren=void 0)}),p}function P9(n,e,t,i){const{layoutId:r,layout:a,drag:s,dragConstraints:l,layoutScroll:c,layoutRoot:f,layoutCrossfade:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:XU(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!s||l&&Ry(l),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:c,layoutRoot:f})}function XU(n){if(n)return n.options.allowProjection!==!1?n.projection:XU(n.parent)}function JE(n,{forwardMotionProps:e=!1}={},t,i){t&&a9(t);const r=iC(n)?A9:M9;function a(l,c){let f;const p={...oe.useContext(g1),...l,layoutId:L9(l)},{isStatic:g}=p,y=c9(l),v=r(l,g);if(!g&&RA){N9();const _=U9(p);f=_.MeasureLayout,y.visualElement=O9(n,v,p,i,_.ProjectionNode)}return fe.jsxs(y1.Provider,{value:y,children:[f&&y.visualElement?fe.jsx(f,{visualElement:y.visualElement,...p}):null,E9(n,l,R9(v,y.visualElement,c),v,g,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const s=oe.forwardRef(a);return s[C9]=n,s}function L9({layoutId:n}){const e=oe.useContext(CA).id;return e&&n!==void 0?e+"-"+n:n}function N9(n,e){oe.useContext(PU).strict}function U9(n){const{drag:e,layout:t}=ev;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function I9(n,e){if(typeof Proxy>"u")return JE;const t=new Map,i=(a,s)=>JE(a,s,n,e),r=(a,s)=>i(a,s);return new Proxy(r,{get:(a,s)=>s==="create"?i:(t.has(s)||t.set(s,JE(s,void 0,n,e)),t.get(s))})}function WU({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function z9({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function k9(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function $E(n){return n===void 0||n===1}function EM({scale:n,scaleX:e,scaleY:t}){return!$E(n)||!$E(e)||!$E(t)}function Gm(n){return EM(n)||YU(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function YU(n){return _3(n.x)||_3(n.y)}function _3(n){return n&&n!=="0%"}function rS(n,e,t){const i=n-t,r=e*i;return t+r}function S3(n,e,t,i,r){return r!==void 0&&(n=rS(n,r,i)),rS(n,t,i)+e}function TM(n,e=0,t=1,i,r){n.min=S3(n.min,e,t,i,r),n.max=S3(n.max,e,t,i,r)}function jU(n,{x:e,y:t}){TM(n.x,e.translate,e.scale,e.originPoint),TM(n.y,t.translate,t.scale,t.originPoint)}const E3=.999999999999,T3=1.0000000000001;function B9(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,s;for(let l=0;l<r;l++){a=t[l],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Oy(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,jU(n,s)),i&&Gm(a.latestValues)&&Oy(n,a.latestValues))}e.x<T3&&e.x>E3&&(e.x=1),e.y<T3&&e.y>E3&&(e.y=1)}function Dy(n,e){n.min=n.min+e,n.max=n.max+e}function w3(n,e,t,i,r=.5){const a=qr(n.min,n.max,r);TM(n,e,t,a,i)}function Oy(n,e){w3(n.x,e.x,e.scaleX,e.scale,e.originX),w3(n.y,e.y,e.scaleY,e.scale,e.originY)}function qU(n,e){return WU(k9(n.getBoundingClientRect(),e))}function F9(n,e,t){const i=qU(n,t),{scroll:r}=e;return r&&(Dy(i.x,r.offset.x),Dy(i.y,r.offset.y)),i}const M3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Py=()=>({x:M3(),y:M3()}),A3=()=>({min:0,max:0}),Ca=()=>({x:A3(),y:A3()}),wM={current:null},ZU={current:!1};function H9(){if(ZU.current=!0,!!RA)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>wM.current=n.matches;n.addEventListener("change",e),e()}else wM.current=!1}const ex=new WeakMap;function V9(n,e,t){for(const i in e){const r=e[i],a=t[i];if(rs(r))n.addValue(i,r);else if(rs(a))n.addValue(i,mg(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const s=n.getValue(i);s.liveStyle===!0?s.jump(r):s.hasAnimated||s.set(r)}else{const s=n.getStaticValue(i);n.addValue(i,mg(s!==void 0?s:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const C3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KU{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=YA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=$l.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,kr.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=x1(t),this.isVariantNode=NU(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in g){const v=g[y];c[y]!==void 0&&rs(v)&&v.set(c[y])}}mount(e){var t;this.current=e,ex.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),ZU.current||H9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wM.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),wd(this.notifyUpdate),wd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=bv.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&kr.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ev){const t=ev[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ca()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<C3.length;i++){const r=C3[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,s=e[a];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=V9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=mg(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(IN(i)||kN(i))?i=parseFloat(i):!QG(i)&&zp.test(t)&&(i=EU(e,t)),this.setBaseTarget(e,rs(i)?i.get():i)),rs(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const s=rC(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);s&&(i=s[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!rs(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new NA),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){KA.render(this.render)}}class QU extends KU{constructor(){super(...arguments),this.KeyframeResolver=HG}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function JU(n,{style:e,vars:t},i,r){const a=n.style;let s;for(s in e)a[s]=e[s];r==null||r.applyProjectionStyles(a,i);for(s in t)a.setProperty(s,t[s])}function G9(n){return window.getComputedStyle(n)}class $U extends QU{constructor(){super(...arguments),this.type="html",this.renderInstance=JU}readValueFromInstance(e,t){var i;if(bv.has(t))return(i=this.projection)!=null&&i.isProjecting?gM(t):rG(e,t);{const r=G9(e),a=(zA(t)?r.getPropertyValue(t):r[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return qU(e,t)}build(e,t,i){tC(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return aC(e,t,i)}}const eI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function X9(n,e,t,i){JU(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(eI.has(r)?r:sC(r),e.attrs[r])}class tI extends QU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ca}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(bv.has(t)){const i=SU(t);return i&&i.default||0}return t=eI.has(t)?t:sC(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return HU(e,t,i)}build(e,t,i){zU(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){X9(e,t,i,r)}mount(e){this.isSVGTag=BU(e.tagName),super.mount(e)}}const W9=(n,e)=>iC(n)?new tI(e):new $U(e,{allowProjection:n!==oe.Fragment});function zy(n,e,t){const i=n.getProps();return rC(i,e,t!==void 0?t:i.custom,n)}const MM=n=>Array.isArray(n);function Y9(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,mg(t))}function j9(n){return MM(n)?n[n.length-1]||0:n}function q9(n,e){const t=zy(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const s in a){const l=j9(a[s]);Y9(n,s,l)}}function Z9(n){return!!(rs(n)&&n.add)}function AM(n,e){const t=n.getValue("willChange");if(Z9(t))return t.add(e);if(!t&&Td.WillChange){const i=new Td.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function nI(n){return n.props[VU]}const K9=n=>n!==null;function Q9(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(K9),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}const J9={type:"spring",stiffness:500,damping:25,restSpeed:10},$9=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),e7={type:"keyframes",duration:.8},t7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n7=(n,{keyframes:e})=>e.length>2?e7:bv.has(n)?n.startsWith("scale")?$9(e[1]):J9:t7;function i7({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:f,...p}){return!!Object.keys(p).length}const oC=(n,e,t,i={},r,a)=>s=>{const l=qA(i,n)||{},c=l.delay||i.delay||0;let{elapsed:f=0}=i;f=f-_f(c);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:a?void 0:r};i7(l)||Object.assign(p,n7(n,p)),p.duration&&(p.duration=_f(p.duration)),p.repeatDelay&&(p.repeatDelay=_f(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(_M(p),p.delay===0&&(g=!0)),(Td.instantAnimations||Td.skipAnimations)&&(g=!0,_M(p),p.delay=0),p.allowFlatten=!l.type&&!l.ease,g&&!a&&e.get()!==void 0){const y=Q9(p.keyframes,l);if(y!==void 0){kr.update(()=>{p.onUpdate(y),p.onComplete()});return}}return l.isSync?new WA(p):new AG(p)};function r7({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function lC(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:s,...l}=e;i&&(a=i);const c=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const p in l){const g=n.getValue(p,n.latestValues[p]??null),y=l[p];if(y===void 0||f&&r7(f,p))continue;const v={delay:t,...qA(a||{},p)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===_&&!v.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const S=nI(n);if(S){const N=window.MotionHandoffAnimation(S,p,kr);N!==null&&(v.startTime=N,D=!0)}}AM(n,p),g.start(oC(p,g,y,n.shouldReduceMotion&&xU.has(p)?{type:!1}:v,n,D));const M=g.animation;M&&c.push(M)}return s&&Promise.all(c).then(()=>{kr.update(()=>{s&&q9(n,s)})}),c}function iI(n,e,t,i=0,r=1){const a=Array.from(n).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),s=n.size,l=(s-1)*i;return typeof t=="function"?t(a,s):r===1?a*i:l-a*i}function CM(n,e,t={}){var c;const i=zy(n,e,t.type==="exit"?(c=n.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(lC(n,i,t)):()=>Promise.resolve(),s=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=r;return a7(n,e,f,p,g,y,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[f,p]=l==="beforeChildren"?[a,s]:[s,a];return f().then(()=>p())}else return Promise.all([a(),s(t.delay)])}function a7(n,e,t=0,i=0,r=0,a=1,s){const l=[];for(const c of n.variantChildren)c.notify("AnimationStart",e),l.push(CM(c,e,{...s,delay:t+(typeof i=="function"?0:i)+iI(n.variantChildren,c,i,r,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function s7(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>CM(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=CM(n,e,t);else{const r=typeof e=="function"?zy(n,e,t.custom):e;i=Promise.all(lC(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function rI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const o7=eC.length;function aI(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?aI(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<o7;t++){const i=eC[t],r=n.props[i];(J0(r)||r===!1)&&(e[i]=r)}return e}const l7=[...$A].reverse(),u7=$A.length;function c7(n){return e=>Promise.all(e.map(({animation:t,options:i})=>s7(n,t,i)))}function f7(n){let e=c7(n),t=R3(),i=!0;const r=c=>(f,p)=>{var y;const g=zy(n,p,c==="exit"?(y=n.presenceContext)==null?void 0:y.custom:void 0);if(g){const{transition:v,transitionEnd:_,...D}=g;f={...f,...D,..._}}return f};function a(c){e=c(n)}function s(c){const{props:f}=n,p=aI(n.parent)||{},g=[],y=new Set;let v={},_=1/0;for(let M=0;M<u7;M++){const S=l7[M],N=t[S],P=f[S]!==void 0?f[S]:p[S],U=J0(P),X=S===c?N.isActive:null;X===!1&&(_=M);let H=P===p[S]&&P!==f[S]&&U;if(H&&i&&n.manuallyAnimateOnMount&&(H=!1),N.protectedKeys={...v},!N.isActive&&X===null||!P&&!N.prevProp||v1(P)||typeof P=="boolean")continue;const G=h7(N.prevProp,P);let W=G||S===c&&N.isActive&&!H&&U||M>_&&U,B=!1;const I=Array.isArray(P)?P:[P];let Z=I.reduce(r(S),{});X===!1&&(Z={});const{prevResolvedValues:ae={}}=N,se={...ae,...Z},ge=le=>{W=!0,y.has(le)&&(B=!0,y.delete(le)),N.needsAnimating[le]=!0;const ve=n.getValue(le);ve&&(ve.liveStyle=!1)};for(const le in se){const ve=Z[le],pe=ae[le];if(v.hasOwnProperty(le))continue;let F=!1;MM(ve)&&MM(pe)?F=!rI(ve,pe):F=ve!==pe,F?ve!=null?ge(le):y.add(le):ve!==void 0&&y.has(le)?ge(le):N.protectedKeys[le]=!0}N.prevProp=P,N.prevResolvedValues=Z,N.isActive&&(v={...v,...Z}),i&&n.blockInitialAnimation&&(W=!1);const xe=H&&G;W&&(!xe||B)&&g.push(...I.map(le=>{const ve={type:S};if(typeof le=="string"&&i&&!xe&&n.manuallyAnimateOnMount&&n.parent){const{parent:pe}=n,F=zy(pe,le);if(pe.enteringChildren&&F){const{delayChildren:J}=F.transition||{};ve.delay=iI(pe.enteringChildren,n,J)}}return{animation:le,options:ve}}))}if(y.size){const M={};if(typeof f.initial!="boolean"){const S=zy(n,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(M.transition=S.transition)}y.forEach(S=>{const N=n.getBaseTarget(S),P=n.getValue(S);P&&(P.liveStyle=!0),M[S]=N??null}),g.push({animation:M})}let D=!!g.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(g):Promise.resolve()}function l(c,f){var g;if(t[c].isActive===f)return Promise.resolve();(g=n.variantChildren)==null||g.forEach(y=>{var v;return(v=y.animationState)==null?void 0:v.setActive(c,f)}),t[c].isActive=f;const p=s(c);for(const y in t)t[y].protectedKeys={};return p}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>t,reset:()=>{t=R3(),i=!0}}}function h7(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!rI(e,n):!1}function Tm(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R3(){return{animate:Tm(!0),whileInView:Tm(),whileHover:Tm(),whileTap:Tm(),whileDrag:Tm(),whileFocus:Tm(),exit:Tm()}}class Gp{constructor(e){this.isMounted=!1,this.node=e}update(){}}class d7 extends Gp{constructor(e){super(e),e.animationState||(e.animationState=f7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();v1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let p7=0;class m7 extends Gp{constructor(){super(...arguments),this.id=p7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const g7={animation:{Feature:d7},exit:{Feature:m7}};function tx(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function zx(n){return{point:{x:n.pageX,y:n.pageY}}}const y7=n=>e=>QA(e)&&n(e,zx(e));function R0(n,e,t,i){return tx(n,e,y7(t),i)}const sI=1e-4,v7=1-sI,x7=1+sI,oI=.01,b7=0-oI,_7=0+oI;function ml(n){return n.max-n.min}function S7(n,e,t){return Math.abs(n-e)<=t}function D3(n,e,t,i=.5){n.origin=i,n.originPoint=qr(e.min,e.max,n.origin),n.scale=ml(t)/ml(e),n.translate=qr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=v7&&n.scale<=x7||isNaN(n.scale))&&(n.scale=1),(n.translate>=b7&&n.translate<=_7||isNaN(n.translate))&&(n.translate=0)}function D0(n,e,t,i){D3(n.x,e.x,t.x,i?i.originX:void 0),D3(n.y,e.y,t.y,i?i.originY:void 0)}function O3(n,e,t){n.min=t.min+e.min,n.max=n.min+ml(e)}function E7(n,e,t){O3(n.x,e.x,t.x),O3(n.y,e.y,t.y)}function P3(n,e,t){n.min=e.min-t.min,n.max=n.min+ml(e)}function O0(n,e,t){P3(n.x,e.x,t.x),P3(n.y,e.y,t.y)}function Ec(n){return[n("x"),n("y")]}const lI=({current:n})=>n?n.ownerDocument.defaultView:null,L3=(n,e)=>Math.abs(n-e);function T7(n,e){const t=L3(n.x,e.x),i=L3(n.y,e.y);return Math.sqrt(t**2+i**2)}class uI{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=tT(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=T7(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!_)return;const{point:D}=y,{timestamp:M}=io;this.history.push({...D,timestamp:M});const{onStart:S,onMove:N}=this.handlers;v||(S&&S(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=eT(v,this.transformPagePoint),kr.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:_,onSessionEnd:D,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=tT(y.type==="pointercancel"?this.lastMoveEventInfo:eT(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,S),D&&D(y,S)},!QA(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=s,this.contextWindow=r||window;const l=zx(e),c=eT(l,this.transformPagePoint),{point:f}=c,{timestamp:p}=io;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,tT(c,this.history)),this.removeListeners=Nx(R0(this.contextWindow,"pointermove",this.handlePointerMove),R0(this.contextWindow,"pointerup",this.handlePointerUp),R0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wd(this.updatePoint)}}function eT(n,e){return e?{point:e(n.point)}:n}function N3(n,e){return{x:n.x-e.x,y:n.y-e.y}}function tT({point:n},e){return{point:n,delta:N3(n,cI(e)),offset:N3(n,w7(e)),velocity:M7(e,.1)}}function w7(n){return n[0]}function cI(n){return n[n.length-1]}function M7(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=cI(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>_f(e)));)t--;if(!i)return{x:0,y:0};const a=_h(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const s={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function A7(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?qr(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?qr(t,n,i.max):Math.min(n,t)),n}function U3(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function C7(n,{top:e,left:t,bottom:i,right:r}){return{x:U3(n.x,t,r),y:U3(n.y,e,i)}}function I3(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function R7(n,e){return{x:I3(n.x,e.x),y:I3(n.y,e.y)}}function D7(n,e){let t=.5;const i=ml(n),r=ml(e);return r>i?t=$y(e.min,e.max-i,n.min):i>r&&(t=$y(n.min,n.max-r,e.min)),Ed(0,1,t)}function O7(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const RM=.35;function P7(n=RM){return n===!1?n=0:n===!0&&(n=RM),{x:z3(n,"left","right"),y:z3(n,"top","bottom")}}function z3(n,e,t){return{min:k3(n,e),max:k3(n,t)}}function k3(n,e){return typeof n=="number"?n:n[e]||0}const L7=new WeakMap;class N7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ca(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(zx(g).point)},s=(g,y)=>{const{drag:v,dragPropagation:_,onDragStart:D}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XG(v),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ec(S=>{let N=this.getAxisMotionValue(S).get()||0;if(Sh.test(N)){const{projection:P}=this.visualElement;if(P&&P.layout){const U=P.layout.layoutBox[S];U&&(N=ml(U)*(parseFloat(N)/100))}}this.originPoint[S]=N}),D&&kr.postRender(()=>D(g,y)),AM(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},l=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:D,onDrag:M}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=y;if(_&&this.currentDirection===null){this.currentDirection=U7(S),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",y.point,S),this.updateAxis("y",y.point,S),this.visualElement.render(),M&&M(g,y)},c=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ec(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new uI(e,{onSessionStart:a,onStart:s,onMove:l,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:lI(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&kr.postRender(()=>l(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Ob(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=A7(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;e&&Ry(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=C7(i.layoutBox,e):this.constraints=!1,this.elastic=P7(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ec(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=O7(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ry(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=F9(i,r.root,this.visualElement.getTransformPagePoint());let s=R7(r.layout.layoutBox,a);if(t){const l=t(z9(s));this.hasMutatedConstraints=!!l,l&&(s=WU(l))}return s}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},f=Ec(p=>{if(!Ob(p,t,this.currentDirection))return;let g=c&&c[p]||{};s&&(g={min:0,max:0});const y=r?200:1e6,v=r?40:1e7,_={type:"inertia",velocity:i?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(f).then(l)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return AM(this.visualElement,e),i.start(oC(e,i,0,t,this.visualElement,!1))}stopAnimation(){Ec(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ec(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ec(t=>{const{drag:i}=this.getProps();if(!Ob(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:s,max:l}=r.layout.layoutBox[t];a.set(e[t]-qr(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Ry(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ec(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const c=l.get();r[s]=D7({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ec(s=>{if(!Ob(s,e,null))return;const l=this.getAxisMotionValue(s),{min:c,max:f}=this.constraints[s];l.set(qr(c,f,r[s]))})}addListeners(){if(!this.visualElement.current)return;L7.set(this.visualElement,this);const e=this.visualElement.current,t=R0(e,"pointerdown",c=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();Ry(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),kr.read(i);const s=tx(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ec(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=c[p].translate,g.set(g.get()+c[p].translate))}),this.visualElement.render())}));return()=>{s(),t(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:s=RM,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function Ob(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function U7(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class I7 extends Gp{constructor(e){super(e),this.removeGroupControls=Cc,this.removeListeners=Cc,this.controls=new N7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cc}unmount(){this.removeGroupControls(),this.removeListeners()}}const B3=n=>(e,t)=>{n&&kr.postRender(()=>n(e,t))};class z7 extends Gp{constructor(){super(...arguments),this.removePointerDownListener=Cc}onPointerDown(e){this.session=new uI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:B3(e),onStart:B3(t),onMove:i,onEnd:(a,s)=>{delete this.session,r&&kr.postRender(()=>r(a,s))}}}mount(){this.removePointerDownListener=R0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const I_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function F3(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Zv={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Pn.test(n))n=parseFloat(n);else return n;const t=F3(n,e.target.x),i=F3(n,e.target.y);return`${t}% ${i}%`}},k7={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=zp.parse(n);if(r.length>5)return i;const a=zp.createTransformer(n),s=typeof r[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;r[0+s]/=l,r[1+s]/=c;const f=qr(l,c,.5);return typeof r[2+s]=="number"&&(r[2+s]/=f),typeof r[3+s]=="number"&&(r[3+s]/=f),a(r)}};let nT=!1;class B7 extends oe.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;f9(F7),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),nT&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),I_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,{projection:s}=i;return s&&(s.isPresent=a,nT=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||kr.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),KA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;nT=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fI(n){const[e,t]=OU(),i=oe.useContext(CA);return fe.jsx(B7,{...n,layoutGroup:i,switchLayoutGroup:oe.useContext(GU),isPresent:e,safeToRemove:t})}const F7={borderRadius:{...Zv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zv,borderTopRightRadius:Zv,borderBottomLeftRadius:Zv,borderBottomRightRadius:Zv,boxShadow:k7};function hI(n,e,t){const i=rs(n)?n:mg(n);return i.start(oC("",i,e,t)),i.animation}const H7=(n,e)=>n.depth-e.depth;class V7{constructor(){this.children=[],this.isDirty=!1}add(e){OA(this.children,e),this.isDirty=!0}remove(e){m1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(H7),this.isDirty=!1,this.children.forEach(e)}}function G7(n,e){const t=$l.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(wd(i),n(a-e))};return kr.setup(i,!0),()=>wd(i)}const dI=["TopLeft","TopRight","BottomLeft","BottomRight"],X7=dI.length,H3=n=>typeof n=="string"?parseFloat(n):n,V3=n=>typeof n=="number"||Pn.test(n);function W7(n,e,t,i,r,a){r?(n.opacity=qr(0,t.opacity??1,Y7(i)),n.opacityExit=qr(e.opacity??1,0,j7(i))):a&&(n.opacity=qr(e.opacity??1,t.opacity??1,i));for(let s=0;s<X7;s++){const l=`border${dI[s]}Radius`;let c=G3(e,l),f=G3(t,l);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||V3(c)===V3(f)?(n[l]=Math.max(qr(H3(c),H3(f),i),0),(Sh.test(f)||Sh.test(c))&&(n[l]+="%")):n[l]=f}(e.rotate||t.rotate)&&(n.rotate=qr(e.rotate||0,t.rotate||0,i))}function G3(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Y7=pI(0,.5,YN),j7=pI(.5,.95,Cc);function pI(n,e,t){return i=>i<n?0:i>e?1:t($y(n,e,i))}function X3(n,e){n.min=e.min,n.max=e.max}function bc(n,e){X3(n.x,e.x),X3(n.y,e.y)}function W3(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Y3(n,e,t,i,r){return n-=e,n=rS(n,1/t,i),r!==void 0&&(n=rS(n,1/r,i)),n}function q7(n,e=0,t=1,i=.5,r,a=n,s=n){if(Sh.test(e)&&(e=parseFloat(e),e=qr(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=qr(a.min,a.max,i);n===a&&(l-=e),n.min=Y3(n.min,e,t,l,r),n.max=Y3(n.max,e,t,l,r)}function j3(n,e,[t,i,r],a,s){q7(n,e[t],e[i],e[r],e.scale,a,s)}const Z7=["x","scaleX","originX"],K7=["y","scaleY","originY"];function q3(n,e,t,i){j3(n.x,e,Z7,t?t.x:void 0,i?i.x:void 0),j3(n.y,e,K7,t?t.y:void 0,i?i.y:void 0)}function Z3(n){return n.translate===0&&n.scale===1}function mI(n){return Z3(n.x)&&Z3(n.y)}function K3(n,e){return n.min===e.min&&n.max===e.max}function Q7(n,e){return K3(n.x,e.x)&&K3(n.y,e.y)}function Q3(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function gI(n,e){return Q3(n.x,e.x)&&Q3(n.y,e.y)}function J3(n){return ml(n.x)/ml(n.y)}function $3(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class J7{constructor(){this.members=[]}add(e){OA(this.members,e),e.scheduleRender()}remove(e){if(m1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $7(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,s=(t==null?void 0:t.z)||0;if((r||a||s)&&(i=`translate3d(${r}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:y,skewX:v,skewY:_}=t;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),v&&(i+=`skewX(${v}deg) `),_&&(i+=`skewY(${_}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(i+=`scale(${l}, ${c})`),i||"none"}const iT=["","X","Y","Z"],eX=1e3;let tX=0;function rT(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function yI(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=nI(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",kr,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&yI(i)}function vI({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(s={},l=e==null?void 0:e()){this.id=tX++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rX),this.nodes.forEach(lX),this.nodes.forEach(uX),this.nodes.forEach(aX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new V7)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new NA),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=JA(s)&&!DU(s),this.instance=s;const{layoutId:l,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),n){let p,g=0;const y=()=>this.root.updateBlockedByResize=!1;kr.read(()=>{g=window.innerWidth}),n(s,()=>{const v=window.innerWidth;v!==g&&(g=v,this.root.updateBlockedByResize=!0,p&&p(),p=G7(y,250),I_.hasAnimatedSinceResize&&(I_.hasAnimatedSinceResize=!1,this.nodes.forEach(nD)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||pX,{onLayoutAnimationStart:D,onLayoutAnimationComplete:M}=f.getProps(),S=!this.targetLayout||!gI(this.targetLayout,v),N=!g&&y;if(this.options.layoutRoot||this.resumeFrom||N||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...qA(_,"layout"),onPlay:D,onComplete:M};(f.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(p,N)}else g||nD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cX),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oX),this.nodes.forEach(nX),this.nodes.forEach(iX)):this.nodes.forEach(tD),this.clearAllSnapshots();const l=$l.now();io.delta=Ed(0,1e3/60,l-io.timestamp),io.timestamp=l,io.isProcessing=!0,YE.update.process(io),YE.preRender.process(io),YE.render.process(io),io.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,KA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sX),this.sharedNodes.forEach(fX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ml(this.snapshot.measuredBox.x)&&!ml(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ca(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!mI(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;s&&this.instance&&(l||Gm(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),mX(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:s}=this.options;if(!s)return Ca();const l=s.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(gX))){const{scroll:p}=this.root;p&&(Dy(l.x,p.offset.x),Dy(l.y,p.offset.y))}return l}removeElementScroll(s){var c;const l=Ca();if(bc(l,s),(c=this.scroll)!=null&&c.wasRoot)return l;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&bc(l,s),Dy(l.x,g.offset.x),Dy(l.y,g.offset.y))}return l}applyTransform(s,l=!1){const c=Ca();bc(c,s);for(let f=0;f<this.path.length;f++){const p=this.path[f];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Oy(c,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Gm(p.latestValues)&&Oy(c,p.latestValues)}return Gm(this.latestValues)&&Oy(c,this.latestValues),c}removeTransform(s){const l=Ca();bc(l,s);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Gm(f.latestValues))continue;EM(f.latestValues)&&f.updateSnapshot();const p=Ca(),g=f.measurePageBox();bc(p,g),q3(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Gm(this.latestValues)&&q3(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==io.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var y;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=io.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ca(),this.relativeTargetOrigin=Ca(),O0(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),bc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ca(),this.targetWithTransforms=Ca()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bc(this.target,this.layout.layoutBox),jU(this.target,this.targetDelta)):bc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ca(),this.relativeTargetOrigin=Ca(),O0(this.relativeTargetOrigin,this.target,v.target),bc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||EM(this.parent.latestValues)||YU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===io.timestamp&&(c=!1),c)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;bc(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;B9(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ca());const{target:v}=s;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(W3(this.prevProjectionDelta.x,this.projectionDelta.x),W3(this.prevProjectionDelta.y,this.projectionDelta.y)),D0(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!$3(this.projectionDelta.x,this.prevProjectionDelta.x)||!$3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Py(),this.projectionDelta=Py(),this.projectionDeltaWithTransform=Py()}setAnimationOrigin(s,l=!1){const c=this.snapshot,f=c?c.latestValues:{},p={...this.latestValues},g=Py();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=Ca(),v=c?c.source:void 0,_=this.layout?this.layout.source:void 0,D=v!==_,M=this.getStack(),S=!M||M.members.length<=1,N=!!(D&&!S&&this.options.crossfade===!0&&!this.path.some(dX));this.animationProgress=0;let P;this.mixTargetDelta=U=>{const X=U/1e3;iD(g.x,s.x,X),iD(g.y,s.y,X),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(O0(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hX(this.relativeTarget,this.relativeTargetOrigin,y,X),P&&Q7(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Ca()),bc(P,this.relativeTarget)),D&&(this.animationValues=p,W7(p,f,this.latestValues,X,N,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var l,c,f;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(f=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||f.stop(),this.pendingAnimation&&(wd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kr.update(()=>{I_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mg(0)),this.currentAnimation=hI(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),s.onUpdate&&s.onUpdate(p)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:f,latestValues:p}=s;if(!(!l||!c||!f)){if(this!==s&&this.layout&&f&&xI(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Ca();const g=ml(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+g;const y=ml(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+y}bc(l,c),Oy(l,p),D0(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new J7),this.sharedNodes.get(s).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var l;const{layoutId:s}=this.options;return s?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:s}=this.options;return s?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const f={};c.z&&rT("z",s,f,this.animationValues);for(let p=0;p<iT.length;p++)rT(`rotate${iT[p]}`,s,f,this.animationValues),rT(`skew${iT[p]}`,s,f,this.animationValues);s.render();for(const p in f)s.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);s.scheduleRender()}applyProjectionStyles(s,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=U_(l==null?void 0:l.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=U_(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Gm(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=$7(this.projectionDeltaWithTransform,this.treeScale,p);c&&(g=c(p,g)),s.transform=g;const{x:y,y:v}=this.projectionDelta;s.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,f.animationValues?s.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:s.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in $0){if(p[_]===void 0)continue;const{correct:D,applyTo:M,isCSSVariable:S}=$0[_],N=g==="none"?p[_]:D(p[_],f);if(M){const P=M.length;for(let U=0;U<P;U++)s[M[U]]=N}else S?this.options.visualElement.renderState.vars[_]=N:s[_]=N}this.options.layoutId&&(s.pointerEvents=f===this?U_(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(eD),this.root.sharedNodes.clear()}}}function nX(n){n.updateLayout()}function iX(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:a}=n.options,s=e.source!==n.layout.source;a==="size"?Ec(g=>{const y=s?e.measuredBox[g]:e.layoutBox[g],v=ml(y);y.min=i[g].min,y.max=y.min+v}):xI(a,e.layoutBox,i)&&Ec(g=>{const y=s?e.measuredBox[g]:e.layoutBox[g],v=ml(i[g]);y.max=y.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+v)});const l=Py();D0(l,i,e.layoutBox);const c=Py();s?D0(c,n.applyTransform(r,!0),e.measuredBox):D0(c,i,e.layoutBox);const f=!mI(l);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const _=Ca();O0(_,e.layoutBox,y.layoutBox);const D=Ca();O0(D,i,v.layoutBox),gI(_,D)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=_,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function rX(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function aX(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function sX(n){n.clearSnapshot()}function eD(n){n.clearMeasurements()}function tD(n){n.isLayoutDirty=!1}function oX(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function nD(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function lX(n){n.resolveTargetDelta()}function uX(n){n.calcProjection()}function cX(n){n.resetSkewAndRotation()}function fX(n){n.removeLeadSnapshot()}function iD(n,e,t){n.translate=qr(e.translate,0,t),n.scale=qr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function rD(n,e,t,i){n.min=qr(e.min,t.min,i),n.max=qr(e.max,t.max,i)}function hX(n,e,t,i){rD(n.x,e.x,t.x,i),rD(n.y,e.y,t.y,i)}function dX(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const pX={duration:.45,ease:[.4,0,.1,1]},aD=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),sD=aD("applewebkit/")&&!aD("chrome/")?Math.round:Cc;function oD(n){n.min=sD(n.min),n.max=sD(n.max)}function mX(n){oD(n.x),oD(n.y)}function xI(n,e,t){return n==="position"||n==="preserve-aspect"&&!S7(J3(e),J3(t),.2)}function gX(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const yX=vI({attachResizeListener:(n,e)=>tx(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aT={current:void 0},bI=vI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!aT.current){const n=new yX({});n.mount(window),n.setOptions({layoutScroll:!0}),aT.current=n}return aT.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),vX={pan:{Feature:z7},drag:{Feature:I7,ProjectionNode:bI,MeasureLayout:fI}};function lD(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&kr.postRender(()=>a(e,zx(e)))}class xX extends Gp{mount(){const{current:e}=this.node;e&&(this.unmount=WG(e,(t,i)=>(lD(this.node,i,"Start"),r=>lD(this.node,r,"End"))))}unmount(){}}class bX extends Gp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nx(tx(this.node.current,"focus",()=>this.onFocus()),tx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uD(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&kr.postRender(()=>a(e,zx(e)))}class _X extends Gp{mount(){const{current:e}=this.node;e&&(this.unmount=ZG(e,(t,i)=>(uD(this.node,i,"Start"),(r,{success:a})=>uD(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const DM=new WeakMap,sT=new WeakMap,SX=n=>{const e=DM.get(n.target);e&&e(n)},EX=n=>{n.forEach(SX)};function TX({root:n,...e}){const t=n||document;sT.has(t)||sT.set(t,{});const i=sT.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(EX,{root:n,...e})),i[r]}function wX(n,e,t){const i=TX(e);return DM.set(n,t),i.observe(n),()=>{DM.delete(n),i.unobserve(n)}}const MX={some:0,all:1};class AX extends Gp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:MX[r]},l=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=f?p:g;y&&y(c)};return wX(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(CX(e,t))&&this.startObserver()}unmount(){}}function CX({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const RX={inView:{Feature:AX},tap:{Feature:_X},focus:{Feature:bX},hover:{Feature:xX}},DX={layout:{ProjectionNode:bI,MeasureLayout:fI}},OX={...g7,...RX,...vX,...DX},gg=I9(OX,W9);function _I(n){const e=d1(()=>mg(n)),{isStatic:t}=oe.useContext(g1);if(t){const[,i]=oe.useState(n);oe.useEffect(()=>e.on("change",i),[])}return e}function PX(n,e){const t=_I(e()),i=()=>t.set(e());return i(),DA(()=>{const r=()=>kr.preRender(i,!1,!0),a=n.map(s=>s.on("change",r));return()=>{a.forEach(s=>s()),wd(i)}}),t}function wm(n,...e){const t=n.length;function i(){let r="";for(let a=0;a<t;a++){r+=n[a];const s=e[a];s&&(r+=rs(s)?s.get():s)}return r}return PX(e.filter(rs),i)}function uC(n){return typeof n=="object"&&!Array.isArray(n)}function SI(n,e,t,i){return typeof n=="string"&&uC(e)?TU(n,t,i):n instanceof NodeList?Array.from(n):Array.isArray(n)?n:[n]}function LX(n,e,t){return n*(e+1)}function cD(n,e,t,i){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?t:e.startsWith("<")?Math.max(0,t+parseFloat(e.slice(1))):i.get(e)??n}function NX(n,e,t){for(let i=0;i<n.length;i++){const r=n[i];r.at>e&&r.at<t&&(m1(n,r),i--)}}function UX(n,e,t,i,r,a){NX(n,r,a);for(let s=0;s<e.length;s++)n.push({value:e[s],at:qr(r,a,i[s]),easing:KN(t,s)})}function IX(n,e){for(let t=0;t<n.length;t++)n[t]=n[t]/(e+1)}function zX(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const kX="easeInOut";function BX(n,{defaultTransition:e={},...t}={},i,r){const a=e.duration||.3,s=new Map,l=new Map,c={},f=new Map;let p=0,g=0,y=0;for(let v=0;v<n.length;v++){const _=n[v];if(typeof _=="string"){f.set(_,g);continue}else if(!Array.isArray(_)){f.set(_.name,cD(g,_.at,p,f));continue}let[D,M,S={}]=_;S.at!==void 0&&(g=cD(g,S.at,p,f));let N=0;const P=(U,X,H,G=0,W=0)=>{const B=FX(U),{delay:I=0,times:Z=fU(B),type:ae="keyframes",repeat:se,repeatType:ge,repeatDelay:xe=0,...ee}=X;let{ease:le=e.ease||"easeOut",duration:ve}=X;const pe=typeof I=="function"?I(G,W):I,F=B.length,J=jA(ae)?ae:r==null?void 0:r[ae||"keyframes"];if(F<=2&&J){let tt=100;if(F===2&&GX(B)){const $e=B[1]-B[0];tt=Math.abs($e)}const Te={...ee};ve!==void 0&&(Te.duration=_f(ve));const je=lU(Te,tt,J);le=je.ease,ve=je.duration}ve??(ve=a);const Le=g+pe;Z.length===1&&Z[0]===0&&(Z[1]=1);const te=Z.length-B.length;if(te>0&&cU(Z,te),B.length===1&&B.unshift(null),se){ve=LX(ve,se);const tt=[...B],Te=[...Z];le=Array.isArray(le)?[...le]:[le];const je=[...le];for(let $e=0;$e<se;$e++){B.push(...tt);for(let St=0;St<tt.length;St++)Z.push(Te[St]+($e+1)),le.push(St===0?"linear":KN(je,St-1))}IX(Z,se)}const Oe=Le+ve;UX(H,B,le,Z,Le,Oe),N=Math.max(pe+ve,N),y=Math.max(Oe,y)};if(rs(D)){const U=fD(D,l);P(M,S,hD("default",U))}else{const U=SI(D,M,i,c),X=U.length;for(let H=0;H<X;H++){M=M,S=S;const G=U[H],W=fD(G,l);for(const B in M)P(M[B],HX(S,B),hD(B,W),H,X)}}p=g,g+=N}return l.forEach((v,_)=>{for(const D in v){const M=v[D];M.sort(zX);const S=[],N=[],P=[];for(let X=0;X<M.length;X++){const{at:H,value:G,easing:W}=M[X];S.push(G),N.push($y(0,y,H)),P.push(W||"easeOut")}N[0]!==0&&(N.unshift(0),S.unshift(S[0]),P.unshift(kX)),N[N.length-1]!==1&&(N.push(1),S.push(null)),s.has(_)||s.set(_,{keyframes:{},transition:{}});const U=s.get(_);U.keyframes[D]=S,U.transition[D]={...e,duration:y,ease:P,times:N,...t}}}),s}function fD(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function hD(n,e){return e[n]||(e[n]=[]),e[n]}function FX(n){return Array.isArray(n)?n:[n]}function HX(n,e){return n&&n[e]?{...n,...n[e]}:{...n}}const VX=n=>typeof n=="number",GX=n=>n.every(VX);function XX(n,e){return n in e}class WX extends KU{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,t){if(XX(t,e)){const i=e[t];if(typeof i=="string"||typeof i=="number")return i}}getBaseTargetFromProps(){}removeValueFromRenderState(e,t){delete t.output[e]}measureInstanceViewportBox(){return Ca()}build(e,t){Object.assign(e.output,t)}renderInstance(e,{output:t}){Object.assign(e,t)}sortInstanceNodePosition(){return 0}}function YX(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},t=JA(n)&&!DU(n)?new tI(e):new $U(e);t.mount(n),ex.set(n,t)}function jX(n){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},t=new WX(e);t.mount(n),ex.set(n,t)}function qX(n,e){return rs(n)||typeof n=="number"||typeof n=="string"&&!uC(e)}function EI(n,e,t,i){const r=[];if(qX(n,e))r.push(hI(n,uC(e)&&e.default||e,t&&(t.default||t)));else{const a=SI(n,e,i),s=a.length;for(let l=0;l<s;l++){const c=a[l],f=c instanceof Element?YX:jX;ex.has(c)||f(c);const p=ex.get(c),g={...t};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(l,s)),r.push(...lC(p,{...e,transition:g},{}))}}return r}function ZX(n,e,t){const i=[];return BX(n,e,t,{spring:Q0}).forEach(({keyframes:a,transition:s},l)=>{i.push(...EI(l,a,s))}),i}function KX(n){return Array.isArray(n)&&n.some(Array.isArray)}function QX(n){function e(t,i,r){let a=[];return KX(t)?a=ZX(t,i,n):a=EI(t,i,r,n),new RG(a)}return e}const JX=QX(),dD=["#13FFAA","#1E67C6","#d500f9","#DD335C"];function $X(){const n=_I(dD[0]),e=wm`radial-gradient(115% 115% at 50% 0%,#020617 50%,${n})`,t=wm`1px solid ${n}`,i=wm`1px solid ${n}`,r=wm`0px 12px 24px -4px ${n}`,a=wm`0px 4px 24px ${n}`,s=wm`${n}`,l=wm`0px 0px 12px ${n}`;return oe.useEffect(function(){JX(n,dD,{ease:"easeInOut",duration:10,repeat:1/0,repeatType:"mirror"})},[]),{color:n,backgroundImage:e,border:t,borderBottom:i,heroBottomShadow:r,boxShadow:a,backgroundColor:s,hoverShadow:l}}var oT={exports:{}},id={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pD;function eW(){return pD||(pD=1,id.ConcurrentRoot=1,id.ContinuousEventPriority=8,id.DefaultEventPriority=32,id.DiscreteEventPriority=2,id.IdleEventPriority=268435456,id.LegacyRoot=0,id.NoEventPriority=0),id}var mD;function tW(){return mD||(mD=1,oT.exports=eW()),oT.exports}var z_=tW();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const kx="180",nW={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},iW={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},TI=0,OM=1,wI=2,rW=3,MI=0,b1=1,P0=2,mf=3,Md=0,gl=1,yh=2,xd=0,fg=1,aS=2,PM=3,LM=4,AI=5,Ep=100,CI=101,RI=102,DI=103,OI=104,PI=200,LI=201,NI=202,UI=203,sS=204,oS=205,II=206,zI=207,kI=208,BI=209,FI=210,HI=211,VI=212,GI=213,XI=214,lS=0,uS=1,cS=2,yg=3,fS=4,hS=5,dS=6,pS=7,Bx=0,WI=1,YI=2,Eh=0,jI=1,qI=2,ZI=3,cC=4,KI=5,QI=6,JI=7,NM="attached",$I="detached",_1=300,Ad=301,kp=302,nx=303,ix=304,_v=306,rx=1e3,Ac=1001,ax=1002,so=1003,fC=1004,aW=1004,Ly=1005,sW=1005,xs=1006,L0=1007,oW=1007,xh=1008,lW=1008,Rc=1009,hC=1010,dC=1011,tv=1012,S1=1013,Cd=1014,eu=1015,Sv=1016,E1=1017,T1=1018,nv=1020,pC=35902,mC=35899,gC=1021,yC=1022,Io=1023,iv=1026,rv=1027,w1=1028,Fx=1029,vC=1030,M1=1031,uW=1032,A1=1033,N0=33776,U0=33777,I0=33778,z0=33779,mS=35840,gS=35841,yS=35842,vS=35843,xS=36196,bS=37492,_S=37496,SS=37808,ES=37809,TS=37810,wS=37811,MS=37812,AS=37813,CS=37814,RS=37815,DS=37816,OS=37817,PS=37818,LS=37819,NS=37820,US=37821,IS=36492,zS=36494,kS=36495,BS=36283,FS=36284,HS=36285,VS=36286,e4=2200,t4=2201,n4=2202,sx=2300,GS=2301,k_=2302,Qm=2400,Jm=2401,ox=2402,C1=2500,xC=2501,cW=0,fW=1,hW=2,i4=3200,r4=3201,dW=3202,pW=3203,Xp=0,a4=1,gd="",Uo="srgb",Bp="srgb-linear",lx="linear",nr="srgb",mW=0,Xm=7680,gW=7681,yW=7682,vW=7683,xW=34055,bW=34056,_W=5386,SW=512,EW=513,TW=514,wW=515,MW=516,AW=517,CW=518,UM=519,s4=512,o4=513,l4=514,bC=515,u4=516,c4=517,f4=518,h4=519,ux=35044,RW=35048,DW=35040,OW=35045,PW=35049,LW=35041,NW=35046,UW=35050,IW=35042,zW="100",IM="300 es",Hu=2e3,av=2001,kW={COMPUTE:"compute",RENDER:"render"},BW={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},FW={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class Rh{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}const Po=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let gD=1234567;const hg=Math.PI/180,sv=180/Math.PI;function Gu(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Po[n&255]+Po[n>>8&255]+Po[n>>16&255]+Po[n>>24&255]+"-"+Po[e&255]+Po[e>>8&255]+"-"+Po[e>>16&15|64]+Po[e>>24&255]+"-"+Po[t&63|128]+Po[t>>8&255]+"-"+Po[t>>16&255]+Po[t>>24&255]+Po[i&255]+Po[i>>8&255]+Po[i>>16&255]+Po[i>>24&255]).toLowerCase()}function On(n,e,t){return Math.max(e,Math.min(t,n))}function _C(n,e){return(n%e+e)%e}function HW(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function VW(n,e,t){return n!==e?(t-n)/(e-n):0}function k0(n,e,t){return(1-t)*n+t*e}function GW(n,e,t,i){return k0(n,e,1-Math.exp(-t*i))}function XW(n,e=1){return e-Math.abs(_C(n,e*2)-e)}function WW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function YW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function jW(n,e){return n+Math.floor(Math.random()*(e-n+1))}function qW(n,e){return n+Math.random()*(e-n)}function ZW(n){return n*(.5-Math.random())}function KW(n){n!==void 0&&(gD=n);let e=gD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function QW(n){return n*hg}function JW(n){return n*sv}function $W(n){return(n&n-1)===0&&n!==0}function eY(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function tY(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function nY(n,e,t,i,r){const a=Math.cos,s=Math.sin,l=a(t/2),c=s(t/2),f=a((e+i)/2),p=s((e+i)/2),g=a((e-i)/2),y=s((e-i)/2),v=a((i-e)/2),_=s((i-e)/2);switch(r){case"XYX":n.set(l*p,c*g,c*y,l*f);break;case"YZY":n.set(c*y,l*p,c*g,l*f);break;case"ZXZ":n.set(c*g,c*y,l*p,l*f);break;case"XZX":n.set(l*p,c*_,c*v,l*f);break;case"YXY":n.set(c*v,l*p,c*_,l*f);break;case"ZYZ":n.set(c*_,c*v,l*p,l*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function dl(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Kn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const iY={DEG2RAD:hg,RAD2DEG:sv,generateUUID:Gu,clamp:On,euclideanModulo:_C,mapLinear:HW,inverseLerp:VW,lerp:k0,damp:GW,pingpong:XW,smoothstep:WW,smootherstep:YW,randInt:jW,randFloat:qW,randFloatSpread:ZW,seededRandom:KW,degToRad:QW,radToDeg:JW,isPowerOfTwo:$W,ceilPowerOfTwo:eY,floorPowerOfTwo:tY,setQuaternionFromProperEuler:nY,normalize:Kn,denormalize:dl};class xt{constructor(e=0,t=0){xt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=On(this.x,e.x,t.x),this.y=On(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=On(this.x,e,t),this.y=On(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(On(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(On(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class tu{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,s,l){let c=i[r+0],f=i[r+1],p=i[r+2],g=i[r+3];const y=a[s+0],v=a[s+1],_=a[s+2],D=a[s+3];if(l===0){e[t+0]=c,e[t+1]=f,e[t+2]=p,e[t+3]=g;return}if(l===1){e[t+0]=y,e[t+1]=v,e[t+2]=_,e[t+3]=D;return}if(g!==D||c!==y||f!==v||p!==_){let M=1-l;const S=c*y+f*v+p*_+g*D,N=S>=0?1:-1,P=1-S*S;if(P>Number.EPSILON){const X=Math.sqrt(P),H=Math.atan2(X,S*N);M=Math.sin(M*H)/X,l=Math.sin(l*H)/X}const U=l*N;if(c=c*M+y*U,f=f*M+v*U,p=p*M+_*U,g=g*M+D*U,M===1-l){const X=1/Math.sqrt(c*c+f*f+p*p+g*g);c*=X,f*=X,p*=X,g*=X}}e[t]=c,e[t+1]=f,e[t+2]=p,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,r,a,s){const l=i[r],c=i[r+1],f=i[r+2],p=i[r+3],g=a[s],y=a[s+1],v=a[s+2],_=a[s+3];return e[t]=l*_+p*g+c*v-f*y,e[t+1]=c*_+p*y+f*g-l*v,e[t+2]=f*_+p*v+l*y-c*g,e[t+3]=p*_-l*g-c*y-f*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,a=e._z,s=e._order,l=Math.cos,c=Math.sin,f=l(i/2),p=l(r/2),g=l(a/2),y=c(i/2),v=c(r/2),_=c(a/2);switch(s){case"XYZ":this._x=y*p*g+f*v*_,this._y=f*v*g-y*p*_,this._z=f*p*_+y*v*g,this._w=f*p*g-y*v*_;break;case"YXZ":this._x=y*p*g+f*v*_,this._y=f*v*g-y*p*_,this._z=f*p*_-y*v*g,this._w=f*p*g+y*v*_;break;case"ZXY":this._x=y*p*g-f*v*_,this._y=f*v*g+y*p*_,this._z=f*p*_+y*v*g,this._w=f*p*g-y*v*_;break;case"ZYX":this._x=y*p*g-f*v*_,this._y=f*v*g+y*p*_,this._z=f*p*_-y*v*g,this._w=f*p*g+y*v*_;break;case"YZX":this._x=y*p*g+f*v*_,this._y=f*v*g+y*p*_,this._z=f*p*_-y*v*g,this._w=f*p*g-y*v*_;break;case"XZY":this._x=y*p*g-f*v*_,this._y=f*v*g-y*p*_,this._z=f*p*_+y*v*g,this._w=f*p*g+y*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],s=t[1],l=t[5],c=t[9],f=t[2],p=t[6],g=t[10],y=i+l+g;if(y>0){const v=.5/Math.sqrt(y+1);this._w=.25/v,this._x=(p-c)*v,this._y=(a-f)*v,this._z=(s-r)*v}else if(i>l&&i>g){const v=2*Math.sqrt(1+i-l-g);this._w=(p-c)/v,this._x=.25*v,this._y=(r+s)/v,this._z=(a+f)/v}else if(l>g){const v=2*Math.sqrt(1+l-i-g);this._w=(a-f)/v,this._x=(r+s)/v,this._y=.25*v,this._z=(c+p)/v}else{const v=2*Math.sqrt(1+g-i-l);this._w=(s-r)/v,this._x=(a+f)/v,this._y=(c+p)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(On(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,s=e._w,l=t._x,c=t._y,f=t._z,p=t._w;return this._x=i*p+s*l+r*f-a*c,this._y=r*p+s*c+a*l-i*f,this._z=a*p+s*f+i*c-r*l,this._w=s*p-i*l-r*c-a*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,s=this._w;let l=s*e._w+i*e._x+r*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=s,this._x=i,this._y=r,this._z=a,this;const c=1-l*l;if(c<=Number.EPSILON){const v=1-t;return this._w=v*s+t*this._w,this._x=v*i+t*this._x,this._y=v*r+t*this._y,this._z=v*a+t*this._z,this.normalize(),this}const f=Math.sqrt(c),p=Math.atan2(f,l),g=Math.sin((1-t)*p)/f,y=Math.sin(t*p)/f;return this._w=s*g+this._w*y,this._x=i*g+this._x*y,this._y=r*g+this._y*y,this._z=a*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class de{constructor(e=0,t=0,i=0){de.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(yD.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(yD.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,s=e.y,l=e.z,c=e.w,f=2*(s*r-l*i),p=2*(l*t-a*r),g=2*(a*i-s*t);return this.x=t+c*f+s*g-l*p,this.y=i+c*p+l*f-a*g,this.z=r+c*g+a*p-s*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=On(this.x,e.x,t.x),this.y=On(this.y,e.y,t.y),this.z=On(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=On(this.x,e,t),this.y=On(this.y,e,t),this.z=On(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(On(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,s=t.x,l=t.y,c=t.z;return this.x=r*c-a*l,this.y=a*s-i*c,this.z=i*l-r*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return lT.copy(this).projectOnVector(e),this.sub(lT)}reflect(e){return this.sub(lT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(On(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const lT=new de,yD=new tu;class Xn{constructor(e,t,i,r,a,s,l,c,f){Xn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,l,c,f)}set(e,t,i,r,a,s,l,c,f){const p=this.elements;return p[0]=e,p[1]=r,p[2]=l,p[3]=t,p[4]=a,p[5]=c,p[6]=i,p[7]=s,p[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],l=i[3],c=i[6],f=i[1],p=i[4],g=i[7],y=i[2],v=i[5],_=i[8],D=r[0],M=r[3],S=r[6],N=r[1],P=r[4],U=r[7],X=r[2],H=r[5],G=r[8];return a[0]=s*D+l*N+c*X,a[3]=s*M+l*P+c*H,a[6]=s*S+l*U+c*G,a[1]=f*D+p*N+g*X,a[4]=f*M+p*P+g*H,a[7]=f*S+p*U+g*G,a[2]=y*D+v*N+_*X,a[5]=y*M+v*P+_*H,a[8]=y*S+v*U+_*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],f=e[7],p=e[8];return t*s*p-t*l*f-i*a*p+i*l*c+r*a*f-r*s*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],f=e[7],p=e[8],g=p*s-l*f,y=l*c-p*a,v=f*a-s*c,_=t*g+i*y+r*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const D=1/_;return e[0]=g*D,e[1]=(r*f-p*i)*D,e[2]=(l*i-r*s)*D,e[3]=y*D,e[4]=(p*t-r*c)*D,e[5]=(r*a-l*t)*D,e[6]=v*D,e[7]=(i*c-f*t)*D,e[8]=(s*t-i*a)*D,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,s,l){const c=Math.cos(a),f=Math.sin(a);return this.set(i*c,i*f,-i*(c*s+f*l)+s+e,-r*f,r*c,-r*(-f*s+c*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(uT.makeScale(e,t)),this}rotate(e){return this.premultiply(uT.makeRotation(-e)),this}translate(e,t){return this.premultiply(uT.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const uT=new Xn;function d4(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const rY={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ny(n,e){return new rY[n](e)}function cx(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function p4(){const n=cx("canvas");return n.style.display="block",n}const vD={};function fx(n){n in vD||(vD[n]=!0,console.warn(n))}function aY(n,e,t){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}const xD=new Xn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),bD=new Xn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function sY(){const n={enabled:!0,workingColorSpace:Bp,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===nr&&(r.r=bd(r.r),r.g=bd(r.g),r.b=bd(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===nr&&(r.r=ky(r.r),r.g=ky(r.g),r.b=ky(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===gd?lx:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return fx("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return fx("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Bp]:{primaries:e,whitePoint:i,transfer:lx,toXYZ:xD,fromXYZ:bD,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Uo},outputColorSpaceConfig:{drawingBufferColorSpace:Uo}},[Uo]:{primaries:e,whitePoint:i,transfer:nr,toXYZ:xD,fromXYZ:bD,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Uo}}}),n}const xi=sY();function bd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function ky(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let $g;class m4{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{$g===void 0&&($g=cx("canvas")),$g.width=e.width,$g.height=e.height;const r=$g.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=$g}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=cx("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=bd(a[s]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(bd(t[i]/255)*255):t[i]=bd(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let oY=0;class Lp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:oY++}),this.uuid=Gu(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,l=r.length;s<l;s++)r[s].isDataTexture?a.push(cT(r[s].image)):a.push(cT(r[s]))}else a=cT(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function cT(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?m4.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let lY=0;const fT=new de;class Da extends Rh{constructor(e=Da.DEFAULT_IMAGE,t=Da.DEFAULT_MAPPING,i=Ac,r=Ac,a=xs,s=xh,l=Io,c=Rc,f=Da.DEFAULT_ANISOTROPY,p=gd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:lY++}),this.uuid=Gu(),this.name="",this.source=new Lp(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=f,this.format=l,this.internalFormat=null,this.type=c,this.offset=new xt(0,0),this.repeat=new xt(1,1),this.center=new xt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Xn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(fT).x}get height(){return this.source.getSize(fT).y}get depth(){return this.source.getSize(fT).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case rx:e.x=e.x-Math.floor(e.x);break;case Ac:e.x=e.x<0?0:1;break;case ax:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case rx:e.y=e.y-Math.floor(e.y);break;case Ac:e.y=e.y<0?0:1;break;case ax:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Da.DEFAULT_IMAGE=null;Da.DEFAULT_MAPPING=_1;Da.DEFAULT_ANISOTROPY=1;class Di{constructor(e=0,t=0,i=0,r=1){Di.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*t+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*t+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*t+s[7]*i+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const c=e.elements,f=c[0],p=c[4],g=c[8],y=c[1],v=c[5],_=c[9],D=c[2],M=c[6],S=c[10];if(Math.abs(p-y)<.01&&Math.abs(g-D)<.01&&Math.abs(_-M)<.01){if(Math.abs(p+y)<.1&&Math.abs(g+D)<.1&&Math.abs(_+M)<.1&&Math.abs(f+v+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const P=(f+1)/2,U=(v+1)/2,X=(S+1)/2,H=(p+y)/4,G=(g+D)/4,W=(_+M)/4;return P>U&&P>X?P<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(P),r=H/i,a=G/i):U>X?U<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(U),i=H/r,a=W/r):X<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(X),i=G/a,r=W/a),this.set(i,r,a,t),this}let N=Math.sqrt((M-_)*(M-_)+(g-D)*(g-D)+(y-p)*(y-p));return Math.abs(N)<.001&&(N=1),this.x=(M-_)/N,this.y=(g-D)/N,this.z=(y-p)/N,this.w=Math.acos((f+v+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=On(this.x,e.x,t.x),this.y=On(this.y,e.y,t.y),this.z=On(this.z,e.z,t.z),this.w=On(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=On(this.x,e,t),this.y=On(this.y,e,t),this.z=On(this.z,e,t),this.w=On(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(On(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class SC extends Rh{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:xs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Di(0,0,e,t),this.scissorTest=!1,this.viewport=new Di(0,0,e,t);const r={width:e,height:t,depth:i.depth},a=new Da(r);this.textures=[];const s=i.count;for(let l=0;l<s;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:xs,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Lp(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wh extends SC{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class R1 extends Da{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=so,this.minFilter=so,this.wrapR=Ac,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class uY extends wh{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new R1(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class D1 extends Da{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=so,this.minFilter=so,this.wrapR=Ac,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class cY extends wh{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new D1(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class ko{constructor(e=new de(1/0,1/0,1/0),t=new de(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(cf.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(cf.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=cf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,l=a.count;s<l;s++)e.isMesh===!0?e.getVertexPosition(s,cf):cf.fromBufferAttribute(a,s),cf.applyMatrix4(e.matrixWorld),this.expandByPoint(cf);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Pb.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Pb.copy(i.boundingBox)),Pb.applyMatrix4(e.matrixWorld),this.union(Pb)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,cf),cf.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Kv),Lb.subVectors(this.max,Kv),ey.subVectors(e.a,Kv),ty.subVectors(e.b,Kv),ny.subVectors(e.c,Kv),up.subVectors(ty,ey),cp.subVectors(ny,ty),Mm.subVectors(ey,ny);let t=[0,-up.z,up.y,0,-cp.z,cp.y,0,-Mm.z,Mm.y,up.z,0,-up.x,cp.z,0,-cp.x,Mm.z,0,-Mm.x,-up.y,up.x,0,-cp.y,cp.x,0,-Mm.y,Mm.x,0];return!hT(t,ey,ty,ny,Lb)||(t=[1,0,0,0,1,0,0,0,1],!hT(t,ey,ty,ny,Lb))?!1:(Nb.crossVectors(up,cp),t=[Nb.x,Nb.y,Nb.z],hT(t,ey,ty,ny,Lb))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cf).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(cf).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(rd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),rd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),rd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),rd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),rd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),rd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),rd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),rd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(rd),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const rd=[new de,new de,new de,new de,new de,new de,new de,new de],cf=new de,Pb=new ko,ey=new de,ty=new de,ny=new de,up=new de,cp=new de,Mm=new de,Kv=new de,Lb=new de,Nb=new de,Am=new de;function hT(n,e,t,i,r){for(let a=0,s=n.length-3;a<=s;a+=3){Am.fromArray(n,a);const l=r.x*Math.abs(Am.x)+r.y*Math.abs(Am.y)+r.z*Math.abs(Am.z),c=e.dot(Am),f=t.dot(Am),p=i.dot(Am);if(Math.max(-Math.max(c,f,p),Math.min(c,f,p))>l)return!1}return!0}const fY=new ko,Qv=new de,dT=new de;class oo{constructor(e=new de,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):fY.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Qv.subVectors(e,this.center);const t=Qv.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Qv,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(dT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Qv.copy(e.center).add(dT)),this.expandByPoint(Qv.copy(e.center).sub(dT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const ad=new de,pT=new de,Ub=new de,fp=new de,mT=new de,Ib=new de,gT=new de;class Ev{constructor(e=new de,t=new de(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ad)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ad.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ad.copy(this.origin).addScaledVector(this.direction,t),ad.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){pT.copy(e).add(t).multiplyScalar(.5),Ub.copy(t).sub(e).normalize(),fp.copy(this.origin).sub(pT);const a=e.distanceTo(t)*.5,s=-this.direction.dot(Ub),l=fp.dot(this.direction),c=-fp.dot(Ub),f=fp.lengthSq(),p=Math.abs(1-s*s);let g,y,v,_;if(p>0)if(g=s*c-l,y=s*l-c,_=a*p,g>=0)if(y>=-_)if(y<=_){const D=1/p;g*=D,y*=D,v=g*(g+s*y+2*l)+y*(s*g+y+2*c)+f}else y=a,g=Math.max(0,-(s*y+l)),v=-g*g+y*(y+2*c)+f;else y=-a,g=Math.max(0,-(s*y+l)),v=-g*g+y*(y+2*c)+f;else y<=-_?(g=Math.max(0,-(-s*a+l)),y=g>0?-a:Math.min(Math.max(-a,-c),a),v=-g*g+y*(y+2*c)+f):y<=_?(g=0,y=Math.min(Math.max(-a,-c),a),v=y*(y+2*c)+f):(g=Math.max(0,-(s*a+l)),y=g>0?a:Math.min(Math.max(-a,-c),a),v=-g*g+y*(y+2*c)+f);else y=s>0?-a:a,g=Math.max(0,-(s*y+l)),v=-g*g+y*(y+2*c)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(pT).addScaledVector(Ub,y),v}intersectSphere(e,t){ad.subVectors(e.center,this.origin);const i=ad.dot(this.direction),r=ad.dot(ad)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),l=i-s,c=i+s;return c<0?null:l<0?this.at(c,t):this.at(l,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,s,l,c;const f=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,y=this.origin;return f>=0?(i=(e.min.x-y.x)*f,r=(e.max.x-y.x)*f):(i=(e.max.x-y.x)*f,r=(e.min.x-y.x)*f),p>=0?(a=(e.min.y-y.y)*p,s=(e.max.y-y.y)*p):(a=(e.max.y-y.y)*p,s=(e.min.y-y.y)*p),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),g>=0?(l=(e.min.z-y.z)*g,c=(e.max.z-y.z)*g):(l=(e.max.z-y.z)*g,c=(e.min.z-y.z)*g),i>c||l>r)||((l>i||i!==i)&&(i=l),(c<r||r!==r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ad)!==null}intersectTriangle(e,t,i,r,a){mT.subVectors(t,e),Ib.subVectors(i,e),gT.crossVectors(mT,Ib);let s=this.direction.dot(gT),l;if(s>0){if(r)return null;l=1}else if(s<0)l=-1,s=-s;else return null;fp.subVectors(this.origin,e);const c=l*this.direction.dot(Ib.crossVectors(fp,Ib));if(c<0)return null;const f=l*this.direction.dot(mT.cross(fp));if(f<0||c+f>s)return null;const p=-l*fp.dot(gT);return p<0?null:this.at(p/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ln{constructor(e,t,i,r,a,s,l,c,f,p,g,y,v,_,D,M){Ln.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,l,c,f,p,g,y,v,_,D,M)}set(e,t,i,r,a,s,l,c,f,p,g,y,v,_,D,M){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=r,S[1]=a,S[5]=s,S[9]=l,S[13]=c,S[2]=f,S[6]=p,S[10]=g,S[14]=y,S[3]=v,S[7]=_,S[11]=D,S[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ln().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/iy.setFromMatrixColumn(e,0).length(),a=1/iy.setFromMatrixColumn(e,1).length(),s=1/iy.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),f=Math.sin(r),p=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const y=s*p,v=s*g,_=l*p,D=l*g;t[0]=c*p,t[4]=-c*g,t[8]=f,t[1]=v+_*f,t[5]=y-D*f,t[9]=-l*c,t[2]=D-y*f,t[6]=_+v*f,t[10]=s*c}else if(e.order==="YXZ"){const y=c*p,v=c*g,_=f*p,D=f*g;t[0]=y+D*l,t[4]=_*l-v,t[8]=s*f,t[1]=s*g,t[5]=s*p,t[9]=-l,t[2]=v*l-_,t[6]=D+y*l,t[10]=s*c}else if(e.order==="ZXY"){const y=c*p,v=c*g,_=f*p,D=f*g;t[0]=y-D*l,t[4]=-s*g,t[8]=_+v*l,t[1]=v+_*l,t[5]=s*p,t[9]=D-y*l,t[2]=-s*f,t[6]=l,t[10]=s*c}else if(e.order==="ZYX"){const y=s*p,v=s*g,_=l*p,D=l*g;t[0]=c*p,t[4]=_*f-v,t[8]=y*f+D,t[1]=c*g,t[5]=D*f+y,t[9]=v*f-_,t[2]=-f,t[6]=l*c,t[10]=s*c}else if(e.order==="YZX"){const y=s*c,v=s*f,_=l*c,D=l*f;t[0]=c*p,t[4]=D-y*g,t[8]=_*g+v,t[1]=g,t[5]=s*p,t[9]=-l*p,t[2]=-f*p,t[6]=v*g+_,t[10]=y-D*g}else if(e.order==="XZY"){const y=s*c,v=s*f,_=l*c,D=l*f;t[0]=c*p,t[4]=-g,t[8]=f*p,t[1]=y*g+D,t[5]=s*p,t[9]=v*g-_,t[2]=_*g-v,t[6]=l*p,t[10]=D*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(hY,e,dY)}lookAt(e,t,i){const r=this.elements;return ku.subVectors(e,t),ku.lengthSq()===0&&(ku.z=1),ku.normalize(),hp.crossVectors(i,ku),hp.lengthSq()===0&&(Math.abs(i.z)===1?ku.x+=1e-4:ku.z+=1e-4,ku.normalize(),hp.crossVectors(i,ku)),hp.normalize(),zb.crossVectors(ku,hp),r[0]=hp.x,r[4]=zb.x,r[8]=ku.x,r[1]=hp.y,r[5]=zb.y,r[9]=ku.y,r[2]=hp.z,r[6]=zb.z,r[10]=ku.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],l=i[4],c=i[8],f=i[12],p=i[1],g=i[5],y=i[9],v=i[13],_=i[2],D=i[6],M=i[10],S=i[14],N=i[3],P=i[7],U=i[11],X=i[15],H=r[0],G=r[4],W=r[8],B=r[12],I=r[1],Z=r[5],ae=r[9],se=r[13],ge=r[2],xe=r[6],ee=r[10],le=r[14],ve=r[3],pe=r[7],F=r[11],J=r[15];return a[0]=s*H+l*I+c*ge+f*ve,a[4]=s*G+l*Z+c*xe+f*pe,a[8]=s*W+l*ae+c*ee+f*F,a[12]=s*B+l*se+c*le+f*J,a[1]=p*H+g*I+y*ge+v*ve,a[5]=p*G+g*Z+y*xe+v*pe,a[9]=p*W+g*ae+y*ee+v*F,a[13]=p*B+g*se+y*le+v*J,a[2]=_*H+D*I+M*ge+S*ve,a[6]=_*G+D*Z+M*xe+S*pe,a[10]=_*W+D*ae+M*ee+S*F,a[14]=_*B+D*se+M*le+S*J,a[3]=N*H+P*I+U*ge+X*ve,a[7]=N*G+P*Z+U*xe+X*pe,a[11]=N*W+P*ae+U*ee+X*F,a[15]=N*B+P*se+U*le+X*J,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],s=e[1],l=e[5],c=e[9],f=e[13],p=e[2],g=e[6],y=e[10],v=e[14],_=e[3],D=e[7],M=e[11],S=e[15];return _*(+a*c*g-r*f*g-a*l*y+i*f*y+r*l*v-i*c*v)+D*(+t*c*v-t*f*y+a*s*y-r*s*v+r*f*p-a*c*p)+M*(+t*f*g-t*l*v-a*s*g+i*s*v+a*l*p-i*f*p)+S*(-r*l*p-t*c*g+t*l*y+r*s*g-i*s*y+i*c*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],f=e[7],p=e[8],g=e[9],y=e[10],v=e[11],_=e[12],D=e[13],M=e[14],S=e[15],N=g*M*f-D*y*f+D*c*v-l*M*v-g*c*S+l*y*S,P=_*y*f-p*M*f-_*c*v+s*M*v+p*c*S-s*y*S,U=p*D*f-_*g*f+_*l*v-s*D*v-p*l*S+s*g*S,X=_*g*c-p*D*c-_*l*y+s*D*y+p*l*M-s*g*M,H=t*N+i*P+r*U+a*X;if(H===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const G=1/H;return e[0]=N*G,e[1]=(D*y*a-g*M*a-D*r*v+i*M*v+g*r*S-i*y*S)*G,e[2]=(l*M*a-D*c*a+D*r*f-i*M*f-l*r*S+i*c*S)*G,e[3]=(g*c*a-l*y*a-g*r*f+i*y*f+l*r*v-i*c*v)*G,e[4]=P*G,e[5]=(p*M*a-_*y*a+_*r*v-t*M*v-p*r*S+t*y*S)*G,e[6]=(_*c*a-s*M*a-_*r*f+t*M*f+s*r*S-t*c*S)*G,e[7]=(s*y*a-p*c*a+p*r*f-t*y*f-s*r*v+t*c*v)*G,e[8]=U*G,e[9]=(_*g*a-p*D*a-_*i*v+t*D*v+p*i*S-t*g*S)*G,e[10]=(s*D*a-_*l*a+_*i*f-t*D*f-s*i*S+t*l*S)*G,e[11]=(p*l*a-s*g*a-p*i*f+t*g*f+s*i*v-t*l*v)*G,e[12]=X*G,e[13]=(p*D*r-_*g*r+_*i*y-t*D*y-p*i*M+t*g*M)*G,e[14]=(_*l*r-s*D*r-_*i*c+t*D*c+s*i*M-t*l*M)*G,e[15]=(s*g*r-p*l*r+p*i*c-t*g*c-s*i*y+t*l*y)*G,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,s=e.x,l=e.y,c=e.z,f=a*s,p=a*l;return this.set(f*s+i,f*l-r*c,f*c+r*l,0,f*l+r*c,p*l+i,p*c-r*s,0,f*c-r*l,p*c+r*s,a*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,s=t._y,l=t._z,c=t._w,f=a+a,p=s+s,g=l+l,y=a*f,v=a*p,_=a*g,D=s*p,M=s*g,S=l*g,N=c*f,P=c*p,U=c*g,X=i.x,H=i.y,G=i.z;return r[0]=(1-(D+S))*X,r[1]=(v+U)*X,r[2]=(_-P)*X,r[3]=0,r[4]=(v-U)*H,r[5]=(1-(y+S))*H,r[6]=(M+N)*H,r[7]=0,r[8]=(_+P)*G,r[9]=(M-N)*G,r[10]=(1-(y+D))*G,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=iy.set(r[0],r[1],r[2]).length();const s=iy.set(r[4],r[5],r[6]).length(),l=iy.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],ff.copy(this);const f=1/a,p=1/s,g=1/l;return ff.elements[0]*=f,ff.elements[1]*=f,ff.elements[2]*=f,ff.elements[4]*=p,ff.elements[5]*=p,ff.elements[6]*=p,ff.elements[8]*=g,ff.elements[9]*=g,ff.elements[10]*=g,t.setFromRotationMatrix(ff),i.x=a,i.y=s,i.z=l,this}makePerspective(e,t,i,r,a,s,l=Hu,c=!1){const f=this.elements,p=2*a/(t-e),g=2*a/(i-r),y=(t+e)/(t-e),v=(i+r)/(i-r);let _,D;if(c)_=a/(s-a),D=s*a/(s-a);else if(l===Hu)_=-(s+a)/(s-a),D=-2*s*a/(s-a);else if(l===av)_=-s/(s-a),D=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return f[0]=p,f[4]=0,f[8]=y,f[12]=0,f[1]=0,f[5]=g,f[9]=v,f[13]=0,f[2]=0,f[6]=0,f[10]=_,f[14]=D,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,t,i,r,a,s,l=Hu,c=!1){const f=this.elements,p=2/(t-e),g=2/(i-r),y=-(t+e)/(t-e),v=-(i+r)/(i-r);let _,D;if(c)_=1/(s-a),D=s/(s-a);else if(l===Hu)_=-2/(s-a),D=-(s+a)/(s-a);else if(l===av)_=-1/(s-a),D=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return f[0]=p,f[4]=0,f[8]=0,f[12]=y,f[1]=0,f[5]=g,f[9]=0,f[13]=v,f[2]=0,f[6]=0,f[10]=_,f[14]=D,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const iy=new de,ff=new Ln,hY=new de(0,0,0),dY=new de(1,1,1),hp=new de,zb=new de,ku=new de,_D=new Ln,SD=new tu;class Wu{constructor(e=0,t=0,i=0,r=Wu.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],l=r[8],c=r[1],f=r[5],p=r[9],g=r[2],y=r[6],v=r[10];switch(t){case"XYZ":this._y=Math.asin(On(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,v),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-On(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,v),this._z=Math.atan2(c,f)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(On(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,v),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-On(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,v),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,f));break;case"YZX":this._z=Math.asin(On(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(l,v));break;case"XZY":this._z=Math.asin(-On(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-p,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return _D.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_D,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return SD.setFromEuler(this),this.setFromQuaternion(SD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Wu.DEFAULT_ORDER="XYZ";class ov{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let pY=0;const ED=new de,ry=new tu,sd=new Ln,kb=new de,Jv=new de,mY=new de,gY=new tu,TD=new de(1,0,0),wD=new de(0,1,0),MD=new de(0,0,1),AD={type:"added"},yY={type:"removed"},ay={type:"childadded",child:null},yT={type:"childremoved",child:null};class Oi extends Rh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:pY++}),this.uuid=Gu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Oi.DEFAULT_UP.clone();const e=new de,t=new Wu,i=new tu,r=new de(1,1,1);function a(){i.setFromEuler(t,!1)}function s(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ln},normalMatrix:{value:new Xn}}),this.matrix=new Ln,this.matrixWorld=new Ln,this.matrixAutoUpdate=Oi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Oi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ov,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ry.setFromAxisAngle(e,t),this.quaternion.multiply(ry),this}rotateOnWorldAxis(e,t){return ry.setFromAxisAngle(e,t),this.quaternion.premultiply(ry),this}rotateX(e){return this.rotateOnAxis(TD,e)}rotateY(e){return this.rotateOnAxis(wD,e)}rotateZ(e){return this.rotateOnAxis(MD,e)}translateOnAxis(e,t){return ED.copy(e).applyQuaternion(this.quaternion),this.position.add(ED.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(TD,e)}translateY(e){return this.translateOnAxis(wD,e)}translateZ(e){return this.translateOnAxis(MD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(sd.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?kb.copy(e):kb.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Jv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sd.lookAt(Jv,kb,this.up):sd.lookAt(kb,Jv,this.up),this.quaternion.setFromRotationMatrix(sd),r&&(sd.extractRotation(r.matrixWorld),ry.setFromRotationMatrix(sd),this.quaternion.premultiply(ry.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(AD),ay.child=e,this.dispatchEvent(ay),ay.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(yY),yT.child=e,this.dispatchEvent(yT),yT.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),sd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),sd.multiply(e.parent.matrixWorld)),e.applyMatrix4(sd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(AD),ay.child=e,this.dispatchEvent(ay),ay.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jv,e,mY),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jv,gY,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(l=>({...l})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let f=0,p=c.length;f<p;f++){const g=c[f];a(e.shapes,g)}else a(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,f=this.material.length;c<f;c++)l.push(a(e.materials,this.material[c]));r.material=l}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];r.animations.push(a(e.animations,c))}}if(t){const l=s(e.geometries),c=s(e.materials),f=s(e.textures),p=s(e.images),g=s(e.shapes),y=s(e.skeletons),v=s(e.animations),_=s(e.nodes);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),f.length>0&&(i.textures=f),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),v.length>0&&(i.animations=v),_.length>0&&(i.nodes=_)}return i.object=r,i;function s(l){const c=[];for(const f in l){const p=l[f];delete p.metadata,c.push(p)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Oi.DEFAULT_UP=new de(0,1,0);Oi.DEFAULT_MATRIX_AUTO_UPDATE=!0;Oi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const hf=new de,od=new de,vT=new de,ld=new de,sy=new de,oy=new de,CD=new de,xT=new de,bT=new de,_T=new de,ST=new Di,ET=new Di,TT=new Di;class Jl{constructor(e=new de,t=new de,i=new de){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),hf.subVectors(e,t),r.cross(hf);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){hf.subVectors(r,t),od.subVectors(i,t),vT.subVectors(e,t);const s=hf.dot(hf),l=hf.dot(od),c=hf.dot(vT),f=od.dot(od),p=od.dot(vT),g=s*f-l*l;if(g===0)return a.set(0,0,0),null;const y=1/g,v=(f*c-l*p)*y,_=(s*p-l*c)*y;return a.set(1-v-_,_,v)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ld)===null?!1:ld.x>=0&&ld.y>=0&&ld.x+ld.y<=1}static getInterpolation(e,t,i,r,a,s,l,c){return this.getBarycoord(e,t,i,r,ld)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(a,ld.x),c.addScaledVector(s,ld.y),c.addScaledVector(l,ld.z),c)}static getInterpolatedAttribute(e,t,i,r,a,s){return ST.setScalar(0),ET.setScalar(0),TT.setScalar(0),ST.fromBufferAttribute(e,t),ET.fromBufferAttribute(e,i),TT.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(ST,a.x),s.addScaledVector(ET,a.y),s.addScaledVector(TT,a.z),s}static isFrontFacing(e,t,i,r){return hf.subVectors(i,t),od.subVectors(e,t),hf.cross(od).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return hf.subVectors(this.c,this.b),od.subVectors(this.a,this.b),hf.cross(od).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Jl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Jl.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,a){return Jl.getInterpolation(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return Jl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Jl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let s,l;sy.subVectors(r,i),oy.subVectors(a,i),xT.subVectors(e,i);const c=sy.dot(xT),f=oy.dot(xT);if(c<=0&&f<=0)return t.copy(i);bT.subVectors(e,r);const p=sy.dot(bT),g=oy.dot(bT);if(p>=0&&g<=p)return t.copy(r);const y=c*g-p*f;if(y<=0&&c>=0&&p<=0)return s=c/(c-p),t.copy(i).addScaledVector(sy,s);_T.subVectors(e,a);const v=sy.dot(_T),_=oy.dot(_T);if(_>=0&&v<=_)return t.copy(a);const D=v*f-c*_;if(D<=0&&f>=0&&_<=0)return l=f/(f-_),t.copy(i).addScaledVector(oy,l);const M=p*_-v*g;if(M<=0&&g-p>=0&&v-_>=0)return CD.subVectors(a,r),l=(g-p)/(g-p+(v-_)),t.copy(r).addScaledVector(CD,l);const S=1/(M+D+y);return s=D*S,l=y*S,t.copy(i).addScaledVector(sy,s).addScaledVector(oy,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const g4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},dp={h:0,s:0,l:0},Bb={h:0,s:0,l:0};function wT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class tn{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Uo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,xi.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=xi.workingColorSpace){return this.r=e,this.g=t,this.b=i,xi.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=xi.workingColorSpace){if(e=_C(e,1),t=On(t,0,1),i=On(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,s=2*i-a;this.r=wT(s,a,e+1/3),this.g=wT(s,a,e),this.b=wT(s,a,e-1/3)}return xi.colorSpaceToWorking(this,r),this}setStyle(e,t=Uo){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],l=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Uo){const i=g4[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=bd(e.r),this.g=bd(e.g),this.b=bd(e.b),this}copyLinearToSRGB(e){return this.r=ky(e.r),this.g=ky(e.g),this.b=ky(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Uo){return xi.workingToColorSpace(Lo.copy(this),e),Math.round(On(Lo.r*255,0,255))*65536+Math.round(On(Lo.g*255,0,255))*256+Math.round(On(Lo.b*255,0,255))}getHexString(e=Uo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=xi.workingColorSpace){xi.workingToColorSpace(Lo.copy(this),t);const i=Lo.r,r=Lo.g,a=Lo.b,s=Math.max(i,r,a),l=Math.min(i,r,a);let c,f;const p=(l+s)/2;if(l===s)c=0,f=0;else{const g=s-l;switch(f=p<=.5?g/(s+l):g/(2-s-l),s){case i:c=(r-a)/g+(r<a?6:0);break;case r:c=(a-i)/g+2;break;case a:c=(i-r)/g+4;break}c/=6}return e.h=c,e.s=f,e.l=p,e}getRGB(e,t=xi.workingColorSpace){return xi.workingToColorSpace(Lo.copy(this),t),e.r=Lo.r,e.g=Lo.g,e.b=Lo.b,e}getStyle(e=Uo){xi.workingToColorSpace(Lo.copy(this),e);const t=Lo.r,i=Lo.g,r=Lo.b;return e!==Uo?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(dp),this.setHSL(dp.h+e,dp.s+t,dp.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(dp),e.getHSL(Bb);const i=k0(dp.h,Bb.h,t),r=k0(dp.s,Bb.s,t),a=k0(dp.l,Bb.l,t);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*r,this.g=a[1]*t+a[4]*i+a[7]*r,this.b=a[2]*t+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Lo=new tn;tn.NAMES=g4;let vY=0;class Bo extends Rh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:vY++}),this.uuid=Gu(),this.name="",this.type="Material",this.blending=fg,this.side=Md,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=sS,this.blendDst=oS,this.blendEquation=Ep,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new tn(0,0,0),this.blendAlpha=0,this.depthFunc=yg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=UM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Xm,this.stencilZFail=Xm,this.stencilZPass=Xm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==fg&&(i.blending=this.blending),this.side!==Md&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==sS&&(i.blendSrc=this.blendSrc),this.blendDst!==oS&&(i.blendDst=this.blendDst),this.blendEquation!==Ep&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==yg&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==UM&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Xm&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Xm&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Xm&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const l in a){const c=a[l];delete c.metadata,s.push(c)}return s}if(t){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Wp extends Bo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wu,this.combine=Bx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const yd=xY();function xY(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const f=c-127;f<-27?(i[c]=0,i[c|256]=32768,r[c]=24,r[c|256]=24):f<-14?(i[c]=1024>>-f-14,i[c|256]=1024>>-f-14|32768,r[c]=-f-1,r[c|256]=-f-1):f<=15?(i[c]=f+15<<10,i[c|256]=f+15<<10|32768,r[c]=13,r[c|256]=13):f<128?(i[c]=31744,i[c|256]=64512,r[c]=24,r[c|256]=24):(i[c]=31744,i[c|256]=64512,r[c]=13,r[c|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let f=c<<13,p=0;for(;(f&8388608)===0;)f<<=1,p-=8388608;f&=-8388609,p+=947912704,a[c]=f|p}for(let c=1024;c<2048;++c)a[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)s[c]=c<<23;s[31]=1199570944,s[32]=2147483648;for(let c=33;c<63;++c)s[c]=2147483648+(c-32<<23);s[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:l}}function jl(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=On(n,-65504,65504),yd.floatView[0]=n;const e=yd.uint32View[0],t=e>>23&511;return yd.baseTable[t]+((e&8388607)>>yd.shiftTable[t])}function b0(n){const e=n>>10;return yd.uint32View[0]=yd.mantissaTable[yd.offsetTable[e]+(n&1023)]+yd.exponentTable[e],yd.floatView[0]}class bY{static toHalfFloat(e){return jl(e)}static fromHalfFloat(e){return b0(e)}}const ts=new de,Fb=new xt;let _Y=0;class lr{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:_Y++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=ux,this.updateRanges=[],this.gpuType=eu,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Fb.fromBufferAttribute(this,t),Fb.applyMatrix3(e),this.setXY(t,Fb.x,Fb.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ts.fromBufferAttribute(this,t),ts.applyMatrix3(e),this.setXYZ(t,ts.x,ts.y,ts.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ts.fromBufferAttribute(this,t),ts.applyMatrix4(e),this.setXYZ(t,ts.x,ts.y,ts.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ts.fromBufferAttribute(this,t),ts.applyNormalMatrix(e),this.setXYZ(t,ts.x,ts.y,ts.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ts.fromBufferAttribute(this,t),ts.transformDirection(e),this.setXYZ(t,ts.x,ts.y,ts.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=dl(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Kn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=dl(t,this.array)),t}setX(e,t){return this.normalized&&(t=Kn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=dl(t,this.array)),t}setY(e,t){return this.normalized&&(t=Kn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=dl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Kn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=dl(t,this.array)),t}setW(e,t){return this.normalized&&(t=Kn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Kn(t,this.array),i=Kn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Kn(t,this.array),i=Kn(i,this.array),r=Kn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=Kn(t,this.array),i=Kn(i,this.array),r=Kn(r,this.array),a=Kn(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ux&&(e.usage=this.usage),e}}class SY extends lr{constructor(e,t,i){super(new Int8Array(e),t,i)}}class EY extends lr{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class TY extends lr{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class wY extends lr{constructor(e,t,i){super(new Int16Array(e),t,i)}}class EC extends lr{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class MY extends lr{constructor(e,t,i){super(new Int32Array(e),t,i)}}class TC extends lr{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class AY extends lr{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=b0(this.array[e*this.itemSize]);return this.normalized&&(t=dl(t,this.array)),t}setX(e,t){return this.normalized&&(t=Kn(t,this.array)),this.array[e*this.itemSize]=jl(t),this}getY(e){let t=b0(this.array[e*this.itemSize+1]);return this.normalized&&(t=dl(t,this.array)),t}setY(e,t){return this.normalized&&(t=Kn(t,this.array)),this.array[e*this.itemSize+1]=jl(t),this}getZ(e){let t=b0(this.array[e*this.itemSize+2]);return this.normalized&&(t=dl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Kn(t,this.array)),this.array[e*this.itemSize+2]=jl(t),this}getW(e){let t=b0(this.array[e*this.itemSize+3]);return this.normalized&&(t=dl(t,this.array)),t}setW(e,t){return this.normalized&&(t=Kn(t,this.array)),this.array[e*this.itemSize+3]=jl(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Kn(t,this.array),i=Kn(i,this.array)),this.array[e+0]=jl(t),this.array[e+1]=jl(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Kn(t,this.array),i=Kn(i,this.array),r=Kn(r,this.array)),this.array[e+0]=jl(t),this.array[e+1]=jl(i),this.array[e+2]=jl(r),this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=Kn(t,this.array),i=Kn(i,this.array),r=Kn(r,this.array),a=Kn(a,this.array)),this.array[e+0]=jl(t),this.array[e+1]=jl(i),this.array[e+2]=jl(r),this.array[e+3]=jl(a),this}}class cn extends lr{constructor(e,t,i){super(new Float32Array(e),t,i)}}let CY=0;const _c=new Ln,MT=new Oi,ly=new de,Bu=new ko,$v=new ko,Ls=new de;class Qn extends Rh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:CY++}),this.uuid=Gu(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(d4(e)?TC:EC)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new Xn().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _c.makeRotationFromQuaternion(e),this.applyMatrix4(_c),this}rotateX(e){return _c.makeRotationX(e),this.applyMatrix4(_c),this}rotateY(e){return _c.makeRotationY(e),this.applyMatrix4(_c),this}rotateZ(e){return _c.makeRotationZ(e),this.applyMatrix4(_c),this}translate(e,t,i){return _c.makeTranslation(e,t,i),this.applyMatrix4(_c),this}scale(e,t,i){return _c.makeScale(e,t,i),this.applyMatrix4(_c),this}lookAt(e){return MT.lookAt(e),MT.updateMatrix(),this.applyMatrix4(MT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ly).negate(),this.translate(ly.x,ly.y,ly.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new cn(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ko);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new de(-1/0,-1/0,-1/0),new de(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const a=t[i];Bu.setFromBufferAttribute(a),this.morphTargetsRelative?(Ls.addVectors(this.boundingBox.min,Bu.min),this.boundingBox.expandByPoint(Ls),Ls.addVectors(this.boundingBox.max,Bu.max),this.boundingBox.expandByPoint(Ls)):(this.boundingBox.expandByPoint(Bu.min),this.boundingBox.expandByPoint(Bu.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new de,1/0);return}if(e){const i=this.boundingSphere.center;if(Bu.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const l=t[a];$v.setFromBufferAttribute(l),this.morphTargetsRelative?(Ls.addVectors(Bu.min,$v.min),Bu.expandByPoint(Ls),Ls.addVectors(Bu.max,$v.max),Bu.expandByPoint(Ls)):(Bu.expandByPoint($v.min),Bu.expandByPoint($v.max))}Bu.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)Ls.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Ls));if(t)for(let a=0,s=t.length;a<s;a++){const l=t[a],c=this.morphTargetsRelative;for(let f=0,p=l.count;f<p;f++)Ls.fromBufferAttribute(l,f),c&&(ly.fromBufferAttribute(e,f),Ls.add(ly)),r=Math.max(r,i.distanceToSquared(Ls))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new lr(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),l=[],c=[];for(let W=0;W<i.count;W++)l[W]=new de,c[W]=new de;const f=new de,p=new de,g=new de,y=new xt,v=new xt,_=new xt,D=new de,M=new de;function S(W,B,I){f.fromBufferAttribute(i,W),p.fromBufferAttribute(i,B),g.fromBufferAttribute(i,I),y.fromBufferAttribute(a,W),v.fromBufferAttribute(a,B),_.fromBufferAttribute(a,I),p.sub(f),g.sub(f),v.sub(y),_.sub(y);const Z=1/(v.x*_.y-_.x*v.y);isFinite(Z)&&(D.copy(p).multiplyScalar(_.y).addScaledVector(g,-v.y).multiplyScalar(Z),M.copy(g).multiplyScalar(v.x).addScaledVector(p,-_.x).multiplyScalar(Z),l[W].add(D),l[B].add(D),l[I].add(D),c[W].add(M),c[B].add(M),c[I].add(M))}let N=this.groups;N.length===0&&(N=[{start:0,count:e.count}]);for(let W=0,B=N.length;W<B;++W){const I=N[W],Z=I.start,ae=I.count;for(let se=Z,ge=Z+ae;se<ge;se+=3)S(e.getX(se+0),e.getX(se+1),e.getX(se+2))}const P=new de,U=new de,X=new de,H=new de;function G(W){X.fromBufferAttribute(r,W),H.copy(X);const B=l[W];P.copy(B),P.sub(X.multiplyScalar(X.dot(B))).normalize(),U.crossVectors(H,B);const Z=U.dot(c[W])<0?-1:1;s.setXYZW(W,P.x,P.y,P.z,Z)}for(let W=0,B=N.length;W<B;++W){const I=N[W],Z=I.start,ae=I.count;for(let se=Z,ge=Z+ae;se<ge;se+=3)G(e.getX(se+0)),G(e.getX(se+1)),G(e.getX(se+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new lr(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,v=i.count;y<v;y++)i.setXYZ(y,0,0,0);const r=new de,a=new de,s=new de,l=new de,c=new de,f=new de,p=new de,g=new de;if(e)for(let y=0,v=e.count;y<v;y+=3){const _=e.getX(y+0),D=e.getX(y+1),M=e.getX(y+2);r.fromBufferAttribute(t,_),a.fromBufferAttribute(t,D),s.fromBufferAttribute(t,M),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),l.fromBufferAttribute(i,_),c.fromBufferAttribute(i,D),f.fromBufferAttribute(i,M),l.add(p),c.add(p),f.add(p),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(D,c.x,c.y,c.z),i.setXYZ(M,f.x,f.y,f.z)}else for(let y=0,v=t.count;y<v;y+=3)r.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),i.setXYZ(y+0,p.x,p.y,p.z),i.setXYZ(y+1,p.x,p.y,p.z),i.setXYZ(y+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Ls.fromBufferAttribute(e,t),Ls.normalize(),e.setXYZ(t,Ls.x,Ls.y,Ls.z)}toNonIndexed(){function e(l,c){const f=l.array,p=l.itemSize,g=l.normalized,y=new f.constructor(c.length*p);let v=0,_=0;for(let D=0,M=c.length;D<M;D++){l.isInterleavedBufferAttribute?v=c[D]*l.data.stride+l.offset:v=c[D]*p;for(let S=0;S<p;S++)y[_++]=f[v++]}return new lr(y,p,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Qn,i=this.index.array,r=this.attributes;for(const l in r){const c=r[l],f=e(c,i);t.setAttribute(l,f)}const a=this.morphAttributes;for(const l in a){const c=[],f=a[l];for(let p=0,g=f.length;p<g;p++){const y=f[p],v=e(y,i);c.push(v)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,c=s.length;l<c;l++){const f=s[l];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const f in c)c[f]!==void 0&&(e[f]=c[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i){const f=i[c];e.data.attributes[c]=f.toJSON(e.data)}const r={};let a=!1;for(const c in this.morphAttributes){const f=this.morphAttributes[c],p=[];for(let g=0,y=f.length;g<y;g++){const v=f[g];p.push(v.toJSON(e.data))}p.length>0&&(r[c]=p,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const f in r){const p=r[f];this.setAttribute(f,p.clone(t))}const a=e.morphAttributes;for(const f in a){const p=[],g=a[f];for(let y=0,v=g.length;y<v;y++)p.push(g[y].clone(t));this.morphAttributes[f]=p}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let f=0,p=s.length;f<p;f++){const g=s[f];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const RD=new Ln,Cm=new Ev,Hb=new oo,DD=new de,Vb=new de,Gb=new de,Xb=new de,AT=new de,Wb=new de,OD=new de,Yb=new de;class as extends Oi{constructor(e=new Qn,t=new Wp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(a&&l){Wb.set(0,0,0);for(let c=0,f=a.length;c<f;c++){const p=l[c],g=a[c];p!==0&&(AT.fromBufferAttribute(g,e),s?Wb.addScaledVector(AT,p):Wb.addScaledVector(AT.sub(t),p))}t.add(Wb)}return t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Hb.copy(i.boundingSphere),Hb.applyMatrix4(a),Cm.copy(e.ray).recast(e.near),!(Hb.containsPoint(Cm.origin)===!1&&(Cm.intersectSphere(Hb,DD)===null||Cm.origin.distanceToSquared(DD)>(e.far-e.near)**2))&&(RD.copy(a).invert(),Cm.copy(e.ray).applyMatrix4(RD),!(i.boundingBox!==null&&Cm.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Cm)))}_computeIntersections(e,t,i){let r;const a=this.geometry,s=this.material,l=a.index,c=a.attributes.position,f=a.attributes.uv,p=a.attributes.uv1,g=a.attributes.normal,y=a.groups,v=a.drawRange;if(l!==null)if(Array.isArray(s))for(let _=0,D=y.length;_<D;_++){const M=y[_],S=s[M.materialIndex],N=Math.max(M.start,v.start),P=Math.min(l.count,Math.min(M.start+M.count,v.start+v.count));for(let U=N,X=P;U<X;U+=3){const H=l.getX(U),G=l.getX(U+1),W=l.getX(U+2);r=jb(this,S,e,i,f,p,g,H,G,W),r&&(r.faceIndex=Math.floor(U/3),r.face.materialIndex=M.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),D=Math.min(l.count,v.start+v.count);for(let M=_,S=D;M<S;M+=3){const N=l.getX(M),P=l.getX(M+1),U=l.getX(M+2);r=jb(this,s,e,i,f,p,g,N,P,U),r&&(r.faceIndex=Math.floor(M/3),t.push(r))}}else if(c!==void 0)if(Array.isArray(s))for(let _=0,D=y.length;_<D;_++){const M=y[_],S=s[M.materialIndex],N=Math.max(M.start,v.start),P=Math.min(c.count,Math.min(M.start+M.count,v.start+v.count));for(let U=N,X=P;U<X;U+=3){const H=U,G=U+1,W=U+2;r=jb(this,S,e,i,f,p,g,H,G,W),r&&(r.faceIndex=Math.floor(U/3),r.face.materialIndex=M.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),D=Math.min(c.count,v.start+v.count);for(let M=_,S=D;M<S;M+=3){const N=M,P=M+1,U=M+2;r=jb(this,s,e,i,f,p,g,N,P,U),r&&(r.faceIndex=Math.floor(M/3),t.push(r))}}}}function RY(n,e,t,i,r,a,s,l){let c;if(e.side===gl?c=i.intersectTriangle(s,a,r,!0,l):c=i.intersectTriangle(r,a,s,e.side===Md,l),c===null)return null;Yb.copy(l),Yb.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(Yb);return f<t.near||f>t.far?null:{distance:f,point:Yb.clone(),object:n}}function jb(n,e,t,i,r,a,s,l,c,f){n.getVertexPosition(l,Vb),n.getVertexPosition(c,Gb),n.getVertexPosition(f,Xb);const p=RY(n,e,t,i,Vb,Gb,Xb,OD);if(p){const g=new de;Jl.getBarycoord(OD,Vb,Gb,Xb,g),r&&(p.uv=Jl.getInterpolatedAttribute(r,l,c,f,g,new xt)),a&&(p.uv1=Jl.getInterpolatedAttribute(a,l,c,f,g,new xt)),s&&(p.normal=Jl.getInterpolatedAttribute(s,l,c,f,g,new de),p.normal.dot(i.direction)>0&&p.normal.multiplyScalar(-1));const y={a:l,b:c,c:f,normal:new de,materialIndex:0};Jl.getNormal(Vb,Gb,Xb,y.normal),p.face=y,p.barycoord=g}return p}class Eg extends Qn{constructor(e=1,t=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const l=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const c=[],f=[],p=[],g=[];let y=0,v=0;_("z","y","x",-1,-1,i,t,e,s,a,0),_("z","y","x",1,-1,i,t,-e,s,a,1),_("x","z","y",1,1,e,i,t,r,s,2),_("x","z","y",1,-1,e,i,-t,r,s,3),_("x","y","z",1,-1,e,t,i,r,a,4),_("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(c),this.setAttribute("position",new cn(f,3)),this.setAttribute("normal",new cn(p,3)),this.setAttribute("uv",new cn(g,2));function _(D,M,S,N,P,U,X,H,G,W,B){const I=U/G,Z=X/W,ae=U/2,se=X/2,ge=H/2,xe=G+1,ee=W+1;let le=0,ve=0;const pe=new de;for(let F=0;F<ee;F++){const J=F*Z-se;for(let Le=0;Le<xe;Le++){const te=Le*I-ae;pe[D]=te*N,pe[M]=J*P,pe[S]=ge,f.push(pe.x,pe.y,pe.z),pe[D]=0,pe[M]=0,pe[S]=H>0?1:-1,p.push(pe.x,pe.y,pe.z),g.push(Le/G),g.push(1-F/W),le+=1}}for(let F=0;F<W;F++)for(let J=0;J<G;J++){const Le=y+J+xe*F,te=y+J+xe*(F+1),Oe=y+(J+1)+xe*(F+1),tt=y+(J+1)+xe*F;c.push(Le,te,tt),c.push(te,Oe,tt),ve+=6}l.addGroup(v,ve,B),v+=ve,y+=le}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function lv(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function cl(n){const e={};for(let t=0;t<n.length;t++){const i=lv(n[t]);for(const r in i)e[r]=i[r]}return e}function DY(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function y4(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:xi.workingColorSpace}const v4={clone:lv,merge:cl};var OY=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,PY=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Dc extends Bo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=OY,this.fragmentShader=PY,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=lv(e.uniforms),this.uniformsGroups=DY(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class O1 extends Oi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ln,this.projectionMatrix=new Ln,this.projectionMatrixInverse=new Ln,this.coordinateSystem=Hu,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const pp=new de,PD=new xt,LD=new xt;class Us extends O1{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=sv*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(hg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return sv*2*Math.atan(Math.tan(hg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){pp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(pp.x,pp.y).multiplyScalar(-e/pp.z),pp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(pp.x,pp.y).multiplyScalar(-e/pp.z)}getViewSize(e,t){return this.getViewBounds(e,PD,LD),t.subVectors(LD,PD)}setViewOffset(e,t,i,r,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(hg*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const c=s.fullWidth,f=s.fullHeight;a+=s.offsetX*r/c,t-=s.offsetY*i/f,r*=s.width/c,i*=s.height/f}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const uy=-90,cy=1;class x4 extends Oi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Us(uy,cy,e,t);r.layers=this.layers,this.add(r);const a=new Us(uy,cy,e,t);a.layers=this.layers,this.add(a);const s=new Us(uy,cy,e,t);s.layers=this.layers,this.add(s);const l=new Us(uy,cy,e,t);l.layers=this.layers,this.add(l);const c=new Us(uy,cy,e,t);c.layers=this.layers,this.add(c);const f=new Us(uy,cy,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,a,s,l,c]=t;for(const f of t)this.remove(f);if(e===Hu)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===av)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,l,c,f,p]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const D=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,a),e.setRenderTarget(i,1,r),e.render(t,s),e.setRenderTarget(i,2,r),e.render(t,l),e.setRenderTarget(i,3,r),e.render(t,c),e.setRenderTarget(i,4,r),e.render(t,f),i.texture.generateMipmaps=D,e.setRenderTarget(i,5,r),e.render(t,p),e.setRenderTarget(g,y,v),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class Hx extends Da{constructor(e=[],t=Ad,i,r,a,s,l,c,f,p){super(e,t,i,r,a,s,l,c,f,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class b4 extends wh{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Hx(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Eg(5,5,5),a=new Dc({name:"CubemapFromEquirect",uniforms:lv(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:gl,blending:xd});a.uniforms.tEquirect.value=t;const s=new as(r,a),l=t.minFilter;return t.minFilter===xh&&(t.minFilter=xs),new x4(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,r);e.setRenderTarget(a)}}class Uy extends Oi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const LY={type:"move"};class B_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Uy,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Uy,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new de,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new de),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Uy,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new de,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new de),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,s=null;const l=this._targetRay,c=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){s=!0;for(const D of e.hand.values()){const M=t.getJointPose(D,i),S=this._getHandJoint(f,D);M!==null&&(S.matrix.fromArray(M.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=M.radius),S.visible=M!==null}const p=f.joints["index-finger-tip"],g=f.joints["thumb-tip"],y=p.position.distanceTo(g.position),v=.02,_=.005;f.inputState.pinching&&y>v+_?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&y<=v-_&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(LY)))}return l!==null&&(l.visible=r!==null),c!==null&&(c.visible=a!==null),f!==null&&(f.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Uy;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class P1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new tn(e),this.density=t}clone(){return new P1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class L1{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new tn(e),this.near=t,this.far=i}clone(){return new L1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class wC extends Oi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Wu,this.environmentIntensity=1,this.environmentRotation=new Wu,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class N1{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=ux,this.updateRanges=[],this.version=0,this.uuid=Gu()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ul=new de;class vg{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ul.fromBufferAttribute(this,t),ul.applyMatrix4(e),this.setXYZ(t,ul.x,ul.y,ul.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ul.fromBufferAttribute(this,t),ul.applyNormalMatrix(e),this.setXYZ(t,ul.x,ul.y,ul.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ul.fromBufferAttribute(this,t),ul.transformDirection(e),this.setXYZ(t,ul.x,ul.y,ul.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=dl(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Kn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Kn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=dl(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=dl(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=dl(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=dl(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kn(t,this.array),i=Kn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kn(t,this.array),i=Kn(i,this.array),r=Kn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kn(t,this.array),i=Kn(i,this.array),r=Kn(r,this.array),a=Kn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new lr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vg(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class MC extends Bo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new tn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let fy;const e0=new de,hy=new de,dy=new de,py=new xt,t0=new xt,_4=new Ln,qb=new de,n0=new de,Zb=new de,ND=new xt,CT=new xt,UD=new xt;class S4 extends Oi{constructor(e=new MC){if(super(),this.isSprite=!0,this.type="Sprite",fy===void 0){fy=new Qn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new N1(t,5);fy.setIndex([0,1,2,0,2,3]),fy.setAttribute("position",new vg(i,3,0,!1)),fy.setAttribute("uv",new vg(i,2,3,!1))}this.geometry=fy,this.material=e,this.center=new xt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),hy.setFromMatrixScale(this.matrixWorld),_4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),dy.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&hy.multiplyScalar(-dy.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;Kb(qb.set(-.5,-.5,0),dy,s,hy,r,a),Kb(n0.set(.5,-.5,0),dy,s,hy,r,a),Kb(Zb.set(.5,.5,0),dy,s,hy,r,a),ND.set(0,0),CT.set(1,0),UD.set(1,1);let l=e.ray.intersectTriangle(qb,n0,Zb,!1,e0);if(l===null&&(Kb(n0.set(-.5,.5,0),dy,s,hy,r,a),CT.set(0,1),l=e.ray.intersectTriangle(qb,Zb,n0,!1,e0),l===null))return;const c=e.ray.origin.distanceTo(e0);c<e.near||c>e.far||t.push({distance:c,point:e0.clone(),uv:Jl.getInterpolation(e0,qb,n0,Zb,ND,CT,UD,new xt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Kb(n,e,t,i,r,a){py.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(t0.x=a*py.x-r*py.y,t0.y=r*py.x+a*py.y):t0.copy(py),n.copy(e),n.x+=t0.x,n.y+=t0.y,n.applyMatrix4(_4)}const Qb=new de,ID=new de;class E4 extends Oi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Qb.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Qb);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Qb.setFromMatrixPosition(e.matrixWorld),ID.setFromMatrixPosition(this.matrixWorld);const i=Qb.distanceTo(ID)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),i>=s)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const zD=new de,kD=new Di,BD=new Di,NY=new de,FD=new Ln,Jb=new de,RT=new oo,HD=new Ln,DT=new Ev;class T4 extends as{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=NM,this.bindMatrix=new Ln,this.bindMatrixInverse=new Ln,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ko),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Jb),this.boundingBox.expandByPoint(Jb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new oo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Jb),this.boundingSphere.expandByPoint(Jb)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),RT.copy(this.boundingSphere),RT.applyMatrix4(r),e.ray.intersectsSphere(RT)!==!1&&(HD.copy(r).invert(),DT.copy(e.ray).applyMatrix4(HD),!(this.boundingBox!==null&&DT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,DT)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Di,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===NM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===$I?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;kD.fromBufferAttribute(r.attributes.skinIndex,e),BD.fromBufferAttribute(r.attributes.skinWeight,e),zD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=BD.getComponent(a);if(s!==0){const l=kD.getComponent(a);FD.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),t.addScaledVector(NY.copy(zD).applyMatrix4(FD),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class AC extends Oi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Th extends Da{constructor(e=null,t=1,i=1,r,a,s,l,c,f=so,p=so,g,y){super(null,s,l,c,f,p,r,a,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const VD=new Ln,UY=new Ln;class U1{constructor(e=[],t=[]){this.uuid=Gu(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Ln)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Ln;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const l=e[a]?e[a].matrixWorld:UY;VD.multiplyMatrices(l,t[a]),VD.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new U1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Th(t,e,e,Io,eu);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new AC),this.bones.push(s),this.boneInverses.push(new Ln().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const s=t[r];e.bones.push(s.uuid);const l=i[r];e.boneInverses.push(l.toArray())}return e}}class uv extends lr{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const my=new Ln,GD=new Ln,$b=[],XD=new ko,IY=new Ln,i0=new as,r0=new oo;class w4 extends as{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new uv(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,IY)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ko),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,my),XD.copy(e.boundingBox).applyMatrix4(my),this.boundingBox.union(XD)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new oo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,my),r0.copy(e.boundingSphere).applyMatrix4(my),this.boundingSphere.union(r0)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let l=0;l<i.length;l++)i[l]=r[s+l]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(i0.geometry=this.geometry,i0.material=this.material,i0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),r0.copy(this.boundingSphere),r0.applyMatrix4(i),e.ray.intersectsSphere(r0)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,my),GD.multiplyMatrices(i,my),i0.matrixWorld=GD,i0.raycast(e,$b);for(let s=0,l=$b.length;s<l;s++){const c=$b[s];c.instanceId=a,c.object=this,t.push(c)}$b.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new uv(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Th(new Float32Array(r*this.count),r,this.count,w1,eu));const a=this.morphTexture.source.data.data;let s=0;for(let f=0;f<i.length;f++)s+=i[f];const l=this.geometry.morphTargetsRelative?1:1-s,c=r*e;a[c]=l,a.set(i,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const OT=new de,zY=new de,kY=new Xn;class bp{constructor(e=new de(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=OT.subVectors(i,t).cross(zY.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(OT),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||kY.getNormalMatrix(e),r=this.coplanarPoint(OT).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Rm=new oo,BY=new xt(.5,.5),e_=new de;class Tv{constructor(e=new bp,t=new bp,i=new bp,r=new bp,a=new bp,s=new bp){this.planes=[e,t,i,r,a,s]}set(e,t,i,r,a,s){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(i),l[3].copy(r),l[4].copy(a),l[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Hu,i=!1){const r=this.planes,a=e.elements,s=a[0],l=a[1],c=a[2],f=a[3],p=a[4],g=a[5],y=a[6],v=a[7],_=a[8],D=a[9],M=a[10],S=a[11],N=a[12],P=a[13],U=a[14],X=a[15];if(r[0].setComponents(f-s,v-p,S-_,X-N).normalize(),r[1].setComponents(f+s,v+p,S+_,X+N).normalize(),r[2].setComponents(f+l,v+g,S+D,X+P).normalize(),r[3].setComponents(f-l,v-g,S-D,X-P).normalize(),i)r[4].setComponents(c,y,M,U).normalize(),r[5].setComponents(f-c,v-y,S-M,X-U).normalize();else if(r[4].setComponents(f-c,v-y,S-M,X-U).normalize(),t===Hu)r[5].setComponents(f+c,v+y,S+M,X+U).normalize();else if(t===av)r[5].setComponents(c,y,M,U).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Rm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Rm.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Rm)}intersectsSprite(e){Rm.center.set(0,0,0);const t=BY.distanceTo(e.center);return Rm.radius=.7071067811865476+t,Rm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rm)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(e_.x=r.normal.x>0?e.max.x:e.min.x,e_.y=r.normal.y>0?e.max.y:e.min.y,e_.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(e_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ch=new Ln,fh=new Tv;class I1{constructor(){this.coordinateSystem=Hu}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ch.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),fh.setFromProjectionMatrix(ch,r.coordinateSystem,r.reversedDepth),fh.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ch.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),fh.setFromProjectionMatrix(ch,r.coordinateSystem,r.reversedDepth),fh.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ch.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),fh.setFromProjectionMatrix(ch,r.coordinateSystem,r.reversedDepth),fh.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ch.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),fh.setFromProjectionMatrix(ch,r.coordinateSystem,r.reversedDepth),fh.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ch.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),fh.setFromProjectionMatrix(ch,r.coordinateSystem,r.reversedDepth),fh.containsPoint(e))return!0}return!1}clone(){return new I1}}function PT(n,e){return n-e}function FY(n,e){return n.z-e.z}function HY(n,e){return e.z-n.z}class VY{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];s.push(l),this.index++,l.start=e,l.count=t,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const Yl=new Ln,GY=new tn(1,1,1),WD=new Tv,XY=new I1,t_=new ko,Dm=new oo,a0=new de,YD=new de,WY=new de,LT=new VY,No=new as,n_=[];function YY(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+t,s,n.getComponent(a,s))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Om(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class M4 extends as{constructor(e,t,i=t*2,r){super(new Qn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Th(t,e,e,Io,eu);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Th(t,e,e,Fx,Cd);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Th(t,e,e,Io,eu);i.colorSpace=xi.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:l,itemSize:c,normalized:f}=s,p=new l.constructor(i*c),g=new lr(p,c,f);t.setAttribute(a,g)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new lr(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=t.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ko);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Yl),this.getBoundingBoxAt(a,t_).applyMatrix4(Yl),e.union(t_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oo);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Yl),this.getBoundingSphereAt(a,Dm).applyMatrix4(Yl),e.union(Dm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(PT),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Yl.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(GY.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?s.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(PT),c=this._availableGeometryIds.shift(),a[c]=r):(c=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(c,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,c}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=t.getIndex(),l=this._geometryInfo[e];if(r&&s.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=l.vertexStart,f=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const p in i.attributes){const g=t.getAttribute(p),y=i.getAttribute(p);YY(g,y,c);const v=g.itemSize;for(let _=g.count,D=f;_<D;_++){const M=c+_;for(let S=0;S<v;S++)y.setComponent(M,S,0)}y.needsUpdate=!0,y.addUpdateRange(c*v,f*v)}if(r){const p=l.indexStart,g=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let y=0;y<s.count;y++)a.setX(p+y,c+s.getX(y));for(let y=s.count,v=g;y<v;y++)a.setX(p+y,c);a.needsUpdate=!0,a.addUpdateRange(p,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((s,l)=>l).sort((s,l)=>i[s].vertexStart-i[l].vertexStart),a=this.geometry;for(let s=0,l=i.length;s<l;s++){const c=r[s],f=i[c];if(f.active!==!1){if(a.index!==null){if(f.indexStart!==t){const{indexStart:p,vertexStart:g,reservedIndexCount:y}=f,v=a.index,_=v.array,D=e-g;for(let M=p;M<p+y;M++)_[M]=_[M]+D;v.array.copyWithin(t,p,p+y),v.addUpdateRange(t,y),f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:p,reservedVertexCount:g}=f,y=a.attributes;for(const v in y){const _=y[v],{array:D,itemSize:M}=_;D.copyWithin(e*M,p*M,(p+g)*M),_.addUpdateRange(e*M,g*M)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=a.index?f.indexStart:f.vertexStart,this._nextIndexStart=a.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new ko,s=i.index,l=i.attributes.position;for(let c=r.start,f=r.start+r.count;c<f;c++){let p=c;s&&(p=s.getX(p)),a.expandByPoint(a0.fromBufferAttribute(l,p))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new oo;this.getBoundingBoxAt(e,t_),t_.getCenter(a.center);const s=i.index,l=i.attributes.position;let c=0;for(let f=r.start,p=r.start+r.count;f<p;f++){let g=f;s&&(g=s.getX(g)),a0.fromBufferAttribute(l,g),c=Math.max(c,a.center.distanceToSquared(a0))}a.radius=Math.sqrt(c),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(PT);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Om(this._multiDrawCounts,r),Om(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,l=this._matricesTexture,c=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Om(s.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Om(l.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),Om(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(c=>c.indexStart+c.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Qn,this._initializeGeometry(a));const s=this.geometry;a.index&&Om(a.index.array,s.index.array);for(const l in a.attributes)Om(a.attributes[l].array,s.attributes[l].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;No.material=this.material,No.geometry.index=s.index,No.geometry.attributes=s.attributes,No.geometry.boundingBox===null&&(No.geometry.boundingBox=new ko),No.geometry.boundingSphere===null&&(No.geometry.boundingSphere=new oo);for(let l=0,c=i.length;l<c;l++){if(!i[l].visible||!i[l].active)continue;const f=i[l].geometryIndex,p=r[f];No.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(l,No.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,No.geometry.boundingBox),this.getBoundingSphereAt(f,No.geometry.boundingSphere),No.raycast(e,n_);for(let g=0,y=n_.length;g<y;g++){const v=n_[g];v.object=this,v.batchId=l,t.push(v)}n_.length=0}No.material=null,No.geometry.index=null,No.geometry.attributes={},No.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),l=s===null?1:s.array.BYTES_PER_ELEMENT,c=this._instanceInfo,f=this._multiDrawStarts,p=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,v=this._indirectTexture,_=v.image.data,D=i.isArrayCamera?XY:WD;y&&!i.isArrayCamera&&(Yl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),WD.setFromProjectionMatrix(Yl,i.coordinateSystem,i.reversedDepth));let M=0;if(this.sortObjects){Yl.copy(this.matrixWorld).invert(),a0.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Yl),YD.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Yl);for(let P=0,U=c.length;P<U;P++)if(c[P].visible&&c[P].active){const X=c[P].geometryIndex;this.getMatrixAt(P,Yl),this.getBoundingSphereAt(X,Dm).applyMatrix4(Yl);let H=!1;if(y&&(H=!D.intersectsSphere(Dm,i)),!H){const G=g[X],W=WY.subVectors(Dm.center,a0).dot(YD);LT.push(G.start,G.count,W,P)}}const S=LT.list,N=this.customSort;N===null?S.sort(a.transparent?HY:FY):N.call(this,S,i);for(let P=0,U=S.length;P<U;P++){const X=S[P];f[M]=X.start*l,p[M]=X.count,_[M]=X.index,M++}LT.reset()}else for(let S=0,N=c.length;S<N;S++)if(c[S].visible&&c[S].active){const P=c[S].geometryIndex;let U=!1;if(y&&(this.getMatrixAt(S,Yl),this.getBoundingSphereAt(P,Dm).applyMatrix4(Yl),U=!D.intersectsSphere(Dm,i)),!U){const X=g[P];f[M]=X.start*l,p[M]=X.count,_[M]=S,M++}}v.needsUpdate=!0,this._multiDrawCount=M,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class yl extends Bo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new tn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const XS=new de,WS=new de,jD=new Ln,s0=new Ev,i_=new oo,NT=new de,qD=new de;class Fp extends Oi{constructor(e=new Qn,t=new yl){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,a=t.count;r<a;r++)XS.fromBufferAttribute(t,r-1),WS.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=XS.distanceTo(WS);e.setAttribute("lineDistance",new cn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),i_.copy(i.boundingSphere),i_.applyMatrix4(r),i_.radius+=a,e.ray.intersectsSphere(i_)===!1)return;jD.copy(r).invert(),s0.copy(e.ray).applyMatrix4(jD);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,f=this.isLineSegments?2:1,p=i.index,y=i.attributes.position;if(p!==null){const v=Math.max(0,s.start),_=Math.min(p.count,s.start+s.count);for(let D=v,M=_-1;D<M;D+=f){const S=p.getX(D),N=p.getX(D+1),P=r_(this,e,s0,c,S,N,D);P&&t.push(P)}if(this.isLineLoop){const D=p.getX(_-1),M=p.getX(v),S=r_(this,e,s0,c,D,M,_-1);S&&t.push(S)}}else{const v=Math.max(0,s.start),_=Math.min(y.count,s.start+s.count);for(let D=v,M=_-1;D<M;D+=f){const S=r_(this,e,s0,c,D,D+1,D);S&&t.push(S)}if(this.isLineLoop){const D=r_(this,e,s0,c,_-1,v,_-1);D&&t.push(D)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function r_(n,e,t,i,r,a,s){const l=n.geometry.attributes.position;if(XS.fromBufferAttribute(l,r),WS.fromBufferAttribute(l,a),t.distanceSqToSegment(XS,WS,NT,qD)>i)return;NT.applyMatrix4(n.matrixWorld);const f=e.ray.origin.distanceTo(NT);if(!(f<e.near||f>e.far))return{distance:f,point:qD.clone().applyMatrix4(n.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:n}}const ZD=new de,KD=new de;class Dh extends Fp{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,a=t.count;r<a;r+=2)ZD.fromBufferAttribute(t,r),KD.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+ZD.distanceTo(KD);e.setAttribute("lineDistance",new cn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class A4 extends Fp{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class CC extends Bo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new tn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const QD=new Ln,zM=new Ev,a_=new oo,s_=new de;class C4 extends Oi{constructor(e=new Qn,t=new CC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),a_.copy(i.boundingSphere),a_.applyMatrix4(r),a_.radius+=a,e.ray.intersectsSphere(a_)===!1)return;QD.copy(r).invert(),zM.copy(e.ray).applyMatrix4(QD);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,f=i.index,g=i.attributes.position;if(f!==null){const y=Math.max(0,s.start),v=Math.min(f.count,s.start+s.count);for(let _=y,D=v;_<D;_++){const M=f.getX(_);s_.fromBufferAttribute(g,M),JD(s_,M,c,r,e,t,this)}}else{const y=Math.max(0,s.start),v=Math.min(g.count,s.start+s.count);for(let _=y,D=v;_<D;_++)s_.fromBufferAttribute(g,_),JD(s_,_,c,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function JD(n,e,t,i,r,a,s){const l=zM.distanceSqToPoint(n);if(l<t){const c=new de;zM.closestPointToPoint(n,c),c.applyMatrix4(i);const f=r.ray.origin.distanceTo(c);if(f<r.near||f>r.far)return;a.push({distance:f,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class R4 extends Da{constructor(e,t,i,r,a=xs,s=xs,l,c,f){super(e,t,i,r,a,s,l,c,f),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const p=this;function g(){p.needsUpdate=!0,p._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class jY extends R4{constructor(e,t,i,r,a,s,l,c){super({},e,t,i,r,a,s,l,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class qY extends Da{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=so,this.minFilter=so,this.generateMipmaps=!1,this.needsUpdate=!0}}class z1 extends Da{constructor(e,t,i,r,a,s,l,c,f,p,g,y){super(null,s,l,c,f,p,r,a,g,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ZY extends z1{constructor(e,t,i,r,a,s){super(e,t,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ac,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class KY extends z1{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Ad),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class QY extends Da{constructor(e,t,i,r,a,s,l,c,f){super(e,t,i,r,a,s,l,c,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class RC extends Da{constructor(e,t,i=Cd,r,a,s,l=so,c=so,f,p=iv,g=1){if(p!==iv&&p!==rv)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:t,depth:g};super(y,r,a,s,l,c,p,i,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Lp(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class DC extends Da{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class k1 extends Qn{constructor(e=1,t=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:a},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const s=[],l=[],c=[],f=[],p=t/2,g=Math.PI/2*e,y=t,v=2*g+y,_=i*2+a,D=r+1,M=new de,S=new de;for(let N=0;N<=_;N++){let P=0,U=0,X=0,H=0;if(N<=i){const B=N/i,I=B*Math.PI/2;U=-p-e*Math.cos(I),X=e*Math.sin(I),H=-e*Math.cos(I),P=B*g}else if(N<=i+a){const B=(N-i)/a;U=-p+B*t,X=e,H=0,P=g+B*y}else{const B=(N-i-a)/i,I=B*Math.PI/2;U=p+e*Math.sin(I),X=e*Math.cos(I),H=e*Math.sin(I),P=g+y+B*g}const G=Math.max(0,Math.min(1,P/v));let W=0;N===0?W=.5/r:N===_&&(W=-.5/r);for(let B=0;B<=r;B++){const I=B/r,Z=I*Math.PI*2,ae=Math.sin(Z),se=Math.cos(Z);S.x=-X*se,S.y=U,S.z=X*ae,l.push(S.x,S.y,S.z),M.set(-X*se,H,X*ae),M.normalize(),c.push(M.x,M.y,M.z),f.push(I+W,G)}if(N>0){const B=(N-1)*D;for(let I=0;I<r;I++){const Z=B+I,ae=B+I+1,se=N*D+I,ge=N*D+I+1;s.push(Z,ae,se),s.push(ae,ge,se)}}}this.setIndex(s),this.setAttribute("position",new cn(l,3)),this.setAttribute("normal",new cn(c,3)),this.setAttribute("uv",new cn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new k1(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class B1 extends Qn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const a=[],s=[],l=[],c=[],f=new de,p=new xt;s.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const v=i+g/t*r;f.x=e*Math.cos(v),f.y=e*Math.sin(v),s.push(f.x,f.y,f.z),l.push(0,0,1),p.x=(s[y]/e+1)/2,p.y=(s[y+1]/e+1)/2,c.push(p.x,p.y)}for(let g=1;g<=t;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new cn(s,3)),this.setAttribute("normal",new cn(l,3)),this.setAttribute("uv",new cn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new B1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Vx extends Qn{constructor(e=1,t=1,i=1,r=32,a=1,s=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:l,thetaLength:c};const f=this;r=Math.floor(r),a=Math.floor(a);const p=[],g=[],y=[],v=[];let _=0;const D=[],M=i/2;let S=0;N(),s===!1&&(e>0&&P(!0),t>0&&P(!1)),this.setIndex(p),this.setAttribute("position",new cn(g,3)),this.setAttribute("normal",new cn(y,3)),this.setAttribute("uv",new cn(v,2));function N(){const U=new de,X=new de;let H=0;const G=(t-e)/i;for(let W=0;W<=a;W++){const B=[],I=W/a,Z=I*(t-e)+e;for(let ae=0;ae<=r;ae++){const se=ae/r,ge=se*c+l,xe=Math.sin(ge),ee=Math.cos(ge);X.x=Z*xe,X.y=-I*i+M,X.z=Z*ee,g.push(X.x,X.y,X.z),U.set(xe,G,ee).normalize(),y.push(U.x,U.y,U.z),v.push(se,1-I),B.push(_++)}D.push(B)}for(let W=0;W<r;W++)for(let B=0;B<a;B++){const I=D[B][W],Z=D[B+1][W],ae=D[B+1][W+1],se=D[B][W+1];(e>0||B!==0)&&(p.push(I,Z,se),H+=3),(t>0||B!==a-1)&&(p.push(Z,ae,se),H+=3)}f.addGroup(S,H,0),S+=H}function P(U){const X=_,H=new xt,G=new de;let W=0;const B=U===!0?e:t,I=U===!0?1:-1;for(let ae=1;ae<=r;ae++)g.push(0,M*I,0),y.push(0,I,0),v.push(.5,.5),_++;const Z=_;for(let ae=0;ae<=r;ae++){const ge=ae/r*c+l,xe=Math.cos(ge),ee=Math.sin(ge);G.x=B*ee,G.y=M*I,G.z=B*xe,g.push(G.x,G.y,G.z),y.push(0,I,0),H.x=xe*.5+.5,H.y=ee*.5*I+.5,v.push(H.x,H.y),_++}for(let ae=0;ae<r;ae++){const se=X+ae,ge=Z+ae;U===!0?p.push(ge,ge+1,se):p.push(ge+1,ge,se),W+=3}f.addGroup(S,W,U===!0?1:2),S+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vx(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gx extends Vx{constructor(e=1,t=1,i=32,r=1,a=!1,s=0,l=Math.PI*2){super(0,e,t,i,r,a,s,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:l}}static fromJSON(e){return new Gx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Yp extends Qn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const a=[],s=[];l(r),f(i),p(),this.setAttribute("position",new cn(a,3)),this.setAttribute("normal",new cn(a.slice(),3)),this.setAttribute("uv",new cn(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(N){const P=new de,U=new de,X=new de;for(let H=0;H<t.length;H+=3)v(t[H+0],P),v(t[H+1],U),v(t[H+2],X),c(P,U,X,N)}function c(N,P,U,X){const H=X+1,G=[];for(let W=0;W<=H;W++){G[W]=[];const B=N.clone().lerp(U,W/H),I=P.clone().lerp(U,W/H),Z=H-W;for(let ae=0;ae<=Z;ae++)ae===0&&W===H?G[W][ae]=B:G[W][ae]=B.clone().lerp(I,ae/Z)}for(let W=0;W<H;W++)for(let B=0;B<2*(H-W)-1;B++){const I=Math.floor(B/2);B%2===0?(y(G[W][I+1]),y(G[W+1][I]),y(G[W][I])):(y(G[W][I+1]),y(G[W+1][I+1]),y(G[W+1][I]))}}function f(N){const P=new de;for(let U=0;U<a.length;U+=3)P.x=a[U+0],P.y=a[U+1],P.z=a[U+2],P.normalize().multiplyScalar(N),a[U+0]=P.x,a[U+1]=P.y,a[U+2]=P.z}function p(){const N=new de;for(let P=0;P<a.length;P+=3){N.x=a[P+0],N.y=a[P+1],N.z=a[P+2];const U=M(N)/2/Math.PI+.5,X=S(N)/Math.PI+.5;s.push(U,1-X)}_(),g()}function g(){for(let N=0;N<s.length;N+=6){const P=s[N+0],U=s[N+2],X=s[N+4],H=Math.max(P,U,X),G=Math.min(P,U,X);H>.9&&G<.1&&(P<.2&&(s[N+0]+=1),U<.2&&(s[N+2]+=1),X<.2&&(s[N+4]+=1))}}function y(N){a.push(N.x,N.y,N.z)}function v(N,P){const U=N*3;P.x=e[U+0],P.y=e[U+1],P.z=e[U+2]}function _(){const N=new de,P=new de,U=new de,X=new de,H=new xt,G=new xt,W=new xt;for(let B=0,I=0;B<a.length;B+=9,I+=6){N.set(a[B+0],a[B+1],a[B+2]),P.set(a[B+3],a[B+4],a[B+5]),U.set(a[B+6],a[B+7],a[B+8]),H.set(s[I+0],s[I+1]),G.set(s[I+2],s[I+3]),W.set(s[I+4],s[I+5]),X.copy(N).add(P).add(U).divideScalar(3);const Z=M(X);D(H,I+0,N,Z),D(G,I+2,P,Z),D(W,I+4,U,Z)}}function D(N,P,U,X){X<0&&N.x===1&&(s[P]=N.x-1),U.x===0&&U.z===0&&(s[P]=X/2/Math.PI+.5)}function M(N){return Math.atan2(N.z,-N.x)}function S(N){return Math.atan2(-N.y,Math.sqrt(N.x*N.x+N.z*N.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yp(e.vertices,e.indices,e.radius,e.details)}}class F1 extends Yp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new F1(e.radius,e.detail)}}const o_=new de,l_=new de,UT=new de,u_=new Jl;class D4 extends Qn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(hg*t),s=e.getIndex(),l=e.getAttribute("position"),c=s?s.count:l.count,f=[0,0,0],p=["a","b","c"],g=new Array(3),y={},v=[];for(let _=0;_<c;_+=3){s?(f[0]=s.getX(_),f[1]=s.getX(_+1),f[2]=s.getX(_+2)):(f[0]=_,f[1]=_+1,f[2]=_+2);const{a:D,b:M,c:S}=u_;if(D.fromBufferAttribute(l,f[0]),M.fromBufferAttribute(l,f[1]),S.fromBufferAttribute(l,f[2]),u_.getNormal(UT),g[0]=`${Math.round(D.x*r)},${Math.round(D.y*r)},${Math.round(D.z*r)}`,g[1]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,g[2]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let N=0;N<3;N++){const P=(N+1)%3,U=g[N],X=g[P],H=u_[p[N]],G=u_[p[P]],W=`${U}_${X}`,B=`${X}_${U}`;B in y&&y[B]?(UT.dot(y[B].normal)<=a&&(v.push(H.x,H.y,H.z),v.push(G.x,G.y,G.z)),y[B]=null):W in y||(y[W]={index0:f[N],index1:f[P],normal:UT.clone()})}}for(const _ in y)if(y[_]){const{index0:D,index1:M}=y[_];o_.fromBufferAttribute(l,D),l_.fromBufferAttribute(l,M),v.push(o_.x,o_.y,o_.z),v.push(l_.x,l_.y,l_.z)}this.setAttribute("position",new cn(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class wf{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const a=i.length;let s;t?s=t:s=e*i[a-1];let l=0,c=a-1,f;for(;l<=c;)if(r=Math.floor(l+(c-l)/2),f=i[r]-s,f<0)l=r+1;else if(f>0)c=r-1;else{c=r;break}if(r=c,i[r]===s)return r/(a-1);const p=i[r],y=i[r+1]-p,v=(s-p)/y;return(r+v)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),l=this.getPoint(a),c=t||(s.isVector2?new xt:new de);return c.copy(l).sub(s).normalize(),c}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new de,r=[],a=[],s=[],l=new de,c=new Ln;for(let v=0;v<=e;v++){const _=v/e;r[v]=this.getTangentAt(_,new de)}a[0]=new de,s[0]=new de;let f=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);p<=f&&(f=p,i.set(1,0,0)),g<=f&&(f=g,i.set(0,1,0)),y<=f&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],l),s[0].crossVectors(r[0],a[0]);for(let v=1;v<=e;v++){if(a[v]=a[v-1].clone(),s[v]=s[v-1].clone(),l.crossVectors(r[v-1],r[v]),l.length()>Number.EPSILON){l.normalize();const _=Math.acos(On(r[v-1].dot(r[v]),-1,1));a[v].applyMatrix4(c.makeRotationAxis(l,_))}s[v].crossVectors(r[v],a[v])}if(t===!0){let v=Math.acos(On(a[0].dot(a[e]),-1,1));v/=e,r[0].dot(l.crossVectors(a[0],a[e]))>0&&(v=-v);for(let _=1;_<=e;_++)a[_].applyMatrix4(c.makeRotationAxis(r[_],v*_)),s[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class H1 extends wf{constructor(e=0,t=0,i=1,r=1,a=0,s=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=l,this.aRotation=c}getPoint(e,t=new xt){const i=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const l=this.aStartAngle+e*a;let c=this.aX+this.xRadius*Math.cos(l),f=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=c-this.aX,v=f-this.aY;c=y*p-v*g+this.aX,f=y*g+v*p+this.aY}return i.set(c,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class O4 extends H1{constructor(e,t,i,r,a,s){super(e,t,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function OC(){let n=0,e=0,t=0,i=0;function r(a,s,l,c){n=a,e=l,t=-3*a+3*s-2*l-c,i=2*a-2*s+l+c}return{initCatmullRom:function(a,s,l,c,f){r(s,l,f*(l-a),f*(c-s))},initNonuniformCatmullRom:function(a,s,l,c,f,p,g){let y=(s-a)/f-(l-a)/(f+p)+(l-s)/p,v=(l-s)/p-(c-s)/(p+g)+(c-l)/g;y*=p,v*=p,r(s,l,y,v)},calc:function(a){const s=a*a,l=s*a;return n+e*a+t*s+i*l}}}const c_=new de,IT=new OC,zT=new OC,kT=new OC;class P4 extends wf{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new de){const i=t,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:c===0&&l===a-1&&(l=a-2,c=1);let f,p;this.closed||l>0?f=r[(l-1)%a]:(c_.subVectors(r[0],r[1]).add(r[0]),f=c_);const g=r[l%a],y=r[(l+1)%a];if(this.closed||l+2<a?p=r[(l+2)%a]:(c_.subVectors(r[a-1],r[a-2]).add(r[a-1]),p=c_),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let _=Math.pow(f.distanceToSquared(g),v),D=Math.pow(g.distanceToSquared(y),v),M=Math.pow(y.distanceToSquared(p),v);D<1e-4&&(D=1),_<1e-4&&(_=D),M<1e-4&&(M=D),IT.initNonuniformCatmullRom(f.x,g.x,y.x,p.x,_,D,M),zT.initNonuniformCatmullRom(f.y,g.y,y.y,p.y,_,D,M),kT.initNonuniformCatmullRom(f.z,g.z,y.z,p.z,_,D,M)}else this.curveType==="catmullrom"&&(IT.initCatmullRom(f.x,g.x,y.x,p.x,this.tension),zT.initCatmullRom(f.y,g.y,y.y,p.y,this.tension),kT.initCatmullRom(f.z,g.z,y.z,p.z,this.tension));return i.set(IT.calc(c),zT.calc(c),kT.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new de().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function $D(n,e,t,i,r){const a=(i-e)*.5,s=(r-t)*.5,l=n*n,c=n*l;return(2*t-2*i+a+s)*c+(-3*t+3*i-2*a-s)*l+a*n+t}function JY(n,e){const t=1-n;return t*t*e}function $Y(n,e){return 2*(1-n)*n*e}function ej(n,e){return n*n*e}function B0(n,e,t,i){return JY(n,e)+$Y(n,t)+ej(n,i)}function tj(n,e){const t=1-n;return t*t*t*e}function nj(n,e){const t=1-n;return 3*t*t*n*e}function ij(n,e){return 3*(1-n)*n*n*e}function rj(n,e){return n*n*n*e}function F0(n,e,t,i,r){return tj(n,e)+nj(n,t)+ij(n,i)+rj(n,r)}class PC extends wf{constructor(e=new xt,t=new xt,i=new xt,r=new xt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new xt){const i=t,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(F0(e,r.x,a.x,s.x,l.x),F0(e,r.y,a.y,s.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class L4 extends wf{constructor(e=new de,t=new de,i=new de,r=new de){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new de){const i=t,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(F0(e,r.x,a.x,s.x,l.x),F0(e,r.y,a.y,s.y,l.y),F0(e,r.z,a.z,s.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LC extends wf{constructor(e=new xt,t=new xt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new xt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new xt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N4 extends wf{constructor(e=new de,t=new de){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new de){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new de){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NC extends wf{constructor(e=new xt,t=new xt,i=new xt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new xt){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(B0(e,r.x,a.x,s.x),B0(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UC extends wf{constructor(e=new de,t=new de,i=new de){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new de){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(B0(e,r.x,a.x,s.x),B0(e,r.y,a.y,s.y),B0(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IC extends wf{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new xt){const i=t,r=this.points,a=(r.length-1)*e,s=Math.floor(a),l=a-s,c=r[s===0?s:s-1],f=r[s],p=r[s>r.length-2?r.length-1:s+1],g=r[s>r.length-3?r.length-1:s+2];return i.set($D(l,c.x,f.x,p.x,g.x),$D(l,c.y,f.y,p.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new xt().fromArray(r))}return this}}var YS=Object.freeze({__proto__:null,ArcCurve:O4,CatmullRomCurve3:P4,CubicBezierCurve:PC,CubicBezierCurve3:L4,EllipseCurve:H1,LineCurve:LC,LineCurve3:N4,QuadraticBezierCurve:NC,QuadraticBezierCurve3:UC,SplineCurve:IC});class U4 extends wf{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new YS[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,l=this.curves[a],c=l.getLength(),f=c===0?0:1-s/c;return l.getPointAt(f,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],l=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,c=s.getPoints(l);for(let f=0;f<c.length;f++){const p=c[f];i&&i.equals(p)||(t.push(p),i=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new YS[r.type]().fromJSON(r))}return this}}class jS extends U4{constructor(e){super(),this.type="Path",this.currentPoint=new xt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new LC(this.currentPoint.clone(),new xt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const a=new NC(this.currentPoint.clone(),new xt(e,t),new xt(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,a,s){const l=new PC(this.currentPoint.clone(),new xt(e,t),new xt(i,r),new xt(a,s));return this.curves.push(l),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new IC(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,t+c,i,r,a,s),this}absarc(e,t,i,r,a,s){return this.absellipse(e,t,i,i,r,a,s),this}ellipse(e,t,i,r,a,s,l,c){const f=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+f,t+p,i,r,a,s,l,c),this}absellipse(e,t,i,r,a,s,l,c){const f=new H1(e,t,i,r,a,s,l,c);if(this.curves.length>0){const g=f.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(f);const p=f.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class dg extends jS{constructor(e){super(e),this.uuid=Gu(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new jS().fromJSON(r))}return this}}function aj(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let a=I4(n,0,r,t,!0);const s=[];if(!a||a.next===a.prev)return s;let l,c,f;if(i&&(a=cj(n,e,a,t)),n.length>80*t){l=1/0,c=1/0;let p=-1/0,g=-1/0;for(let y=t;y<r;y+=t){const v=n[y],_=n[y+1];v<l&&(l=v),_<c&&(c=_),v>p&&(p=v),_>g&&(g=_)}f=Math.max(p-l,g-c),f=f!==0?32767/f:0}return hx(a,s,t,l,c,f,0),s}function I4(n,e,t,i,r){let a;if(r===_j(n,e,t,i)>0)for(let s=e;s<t;s+=i)a=eO(s/i|0,n[s],n[s+1],a);else for(let s=t-i;s>=e;s-=i)a=eO(s/i|0,n[s],n[s+1],a);return a&&cv(a,a.next)&&(px(a),a=a.next),a}function xg(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(cv(t,t.next)||la(t.prev,t,t.next)===0)){if(px(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function hx(n,e,t,i,r,a,s){if(!n)return;!s&&a&&mj(n,i,r,a);let l=n;for(;n.prev!==n.next;){const c=n.prev,f=n.next;if(a?oj(n,i,r,a):sj(n)){e.push(c.i,n.i,f.i),px(n),n=f.next,l=f.next;continue}if(n=f,n===l){s?s===1?(n=lj(xg(n),e),hx(n,e,t,i,r,a,2)):s===2&&uj(n,e,t,i,r,a):hx(xg(n),e,t,i,r,a,1);break}}}function sj(n){const e=n.prev,t=n,i=n.next;if(la(e,t,i)>=0)return!1;const r=e.x,a=t.x,s=i.x,l=e.y,c=t.y,f=i.y,p=Math.min(r,a,s),g=Math.min(l,c,f),y=Math.max(r,a,s),v=Math.max(l,c,f);let _=i.next;for(;_!==e;){if(_.x>=p&&_.x<=y&&_.y>=g&&_.y<=v&&_0(r,l,a,c,s,f,_.x,_.y)&&la(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function oj(n,e,t,i){const r=n.prev,a=n,s=n.next;if(la(r,a,s)>=0)return!1;const l=r.x,c=a.x,f=s.x,p=r.y,g=a.y,y=s.y,v=Math.min(l,c,f),_=Math.min(p,g,y),D=Math.max(l,c,f),M=Math.max(p,g,y),S=kM(v,_,e,t,i),N=kM(D,M,e,t,i);let P=n.prevZ,U=n.nextZ;for(;P&&P.z>=S&&U&&U.z<=N;){if(P.x>=v&&P.x<=D&&P.y>=_&&P.y<=M&&P!==r&&P!==s&&_0(l,p,c,g,f,y,P.x,P.y)&&la(P.prev,P,P.next)>=0||(P=P.prevZ,U.x>=v&&U.x<=D&&U.y>=_&&U.y<=M&&U!==r&&U!==s&&_0(l,p,c,g,f,y,U.x,U.y)&&la(U.prev,U,U.next)>=0))return!1;U=U.nextZ}for(;P&&P.z>=S;){if(P.x>=v&&P.x<=D&&P.y>=_&&P.y<=M&&P!==r&&P!==s&&_0(l,p,c,g,f,y,P.x,P.y)&&la(P.prev,P,P.next)>=0)return!1;P=P.prevZ}for(;U&&U.z<=N;){if(U.x>=v&&U.x<=D&&U.y>=_&&U.y<=M&&U!==r&&U!==s&&_0(l,p,c,g,f,y,U.x,U.y)&&la(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function lj(n,e){let t=n;do{const i=t.prev,r=t.next.next;!cv(i,r)&&k4(i,t,t.next,r)&&dx(i,r)&&dx(r,i)&&(e.push(i.i,t.i,r.i),px(t),px(t.next),t=n=r),t=t.next}while(t!==n);return xg(t)}function uj(n,e,t,i,r,a){let s=n;do{let l=s.next.next;for(;l!==s.prev;){if(s.i!==l.i&&vj(s,l)){let c=B4(s,l);s=xg(s,s.next),c=xg(c,c.next),hx(s,e,t,i,r,a,0),hx(c,e,t,i,r,a,0);return}l=l.next}s=s.next}while(s!==n)}function cj(n,e,t,i){const r=[];for(let a=0,s=e.length;a<s;a++){const l=e[a]*i,c=a<s-1?e[a+1]*i:n.length,f=I4(n,l,c,i,!1);f===f.next&&(f.steiner=!0),r.push(yj(f))}r.sort(fj);for(let a=0;a<r.length;a++)t=hj(r[a],t);return t}function fj(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function hj(n,e){const t=dj(n,e);if(!t)return e;const i=B4(t,n);return xg(i,i.next),xg(t,t.next)}function dj(n,e){let t=e;const i=n.x,r=n.y;let a=-1/0,s;if(cv(n,t))return t;do{if(cv(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>a&&(a=g,s=t.x<t.next.x?t:t.next,g===i))return s}t=t.next}while(t!==e);if(!s)return null;const l=s,c=s.x,f=s.y;let p=1/0;t=s;do{if(i>=t.x&&t.x>=c&&i!==t.x&&z4(r<f?i:a,r,c,f,r<f?a:i,r,t.x,t.y)){const g=Math.abs(r-t.y)/(i-t.x);dx(t,n)&&(g<p||g===p&&(t.x>s.x||t.x===s.x&&pj(s,t)))&&(s=t,p=g)}t=t.next}while(t!==l);return s}function pj(n,e){return la(n.prev,n,e.prev)<0&&la(e.next,n,n.next)<0}function mj(n,e,t,i){let r=n;do r.z===0&&(r.z=kM(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,gj(r)}function gj(n){let e,t=1;do{let i=n,r;n=null;let a=null;for(e=0;i;){e++;let s=i,l=0;for(let f=0;f<t&&(l++,s=s.nextZ,!!s);f++);let c=t;for(;l>0||c>0&&s;)l!==0&&(c===0||!s||i.z<=s.z)?(r=i,i=i.nextZ,l--):(r=s,s=s.nextZ,c--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=s}a.nextZ=null,t*=2}while(e>1);return n}function kM(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function yj(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function z4(n,e,t,i,r,a,s,l){return(r-s)*(e-l)>=(n-s)*(a-l)&&(n-s)*(i-l)>=(t-s)*(e-l)&&(t-s)*(a-l)>=(r-s)*(i-l)}function _0(n,e,t,i,r,a,s,l){return!(n===s&&e===l)&&z4(n,e,t,i,r,a,s,l)}function vj(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!xj(n,e)&&(dx(n,e)&&dx(e,n)&&bj(n,e)&&(la(n.prev,n,e.prev)||la(n,e.prev,e))||cv(n,e)&&la(n.prev,n,n.next)>0&&la(e.prev,e,e.next)>0)}function la(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function cv(n,e){return n.x===e.x&&n.y===e.y}function k4(n,e,t,i){const r=h_(la(n,e,t)),a=h_(la(n,e,i)),s=h_(la(t,i,n)),l=h_(la(t,i,e));return!!(r!==a&&s!==l||r===0&&f_(n,t,e)||a===0&&f_(n,i,e)||s===0&&f_(t,n,i)||l===0&&f_(t,e,i))}function f_(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function h_(n){return n>0?1:n<0?-1:0}function xj(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&k4(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function dx(n,e){return la(n.prev,n,n.next)<0?la(n,e,n.next)>=0&&la(n,n.prev,e)>=0:la(n,e,n.prev)<0||la(n,n.next,e)<0}function bj(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function B4(n,e){const t=BM(n.i,n.x,n.y),i=BM(e.i,e.x,e.y),r=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function eO(n,e,t,i){const r=BM(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function px(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function BM(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function _j(n,e,t,i){let r=0;for(let a=e,s=t-i;a<t;a+=i)r+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return r}class Sj{static triangulate(e,t,i=2){return aj(e,t,i)}}class bf{static area(e){const t=e.length;let i=0;for(let r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return bf.area(e)<0}static triangulateShape(e,t){const i=[],r=[],a=[];tO(e),nO(i,e);let s=e.length;t.forEach(tO);for(let c=0;c<t.length;c++)r.push(s),s+=t[c].length,nO(i,t[c]);const l=Sj.triangulate(i,r);for(let c=0;c<l.length;c+=3)a.push(l.slice(c,c+3));return a}}function tO(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function nO(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class V1 extends Qn{constructor(e=new dg([new xt(.5,.5),new xt(-.5,.5),new xt(-.5,-.5),new xt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let l=0,c=e.length;l<c;l++){const f=e[l];s(f)}this.setAttribute("position",new cn(r,3)),this.setAttribute("uv",new cn(a,2)),this.computeVertexNormals();function s(l){const c=[],f=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:v-.1,D=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,N=t.UVGenerator!==void 0?t.UVGenerator:Ej;let P,U=!1,X,H,G,W;S&&(P=S.getSpacedPoints(p),U=!0,y=!1,X=S.computeFrenetFrames(p,!1),H=new de,G=new de,W=new de),y||(M=0,v=0,_=0,D=0);const B=l.extractPoints(f);let I=B.shape;const Z=B.holes;if(!bf.isClockWise(I)){I=I.reverse();for(let ct=0,Qe=Z.length;ct<Qe;ct++){const et=Z[ct];bf.isClockWise(et)&&(Z[ct]=et.reverse())}}function se(ct){const et=10000000000000001e-36;let Je=ct[0];for(let Ct=1;Ct<=ct.length;Ct++){const yt=Ct%ct.length,mt=ct[yt],Rt=mt.x-Je.x,on=mt.y-Je.y,he=Rt*Rt+on*on,$=Math.max(Math.abs(mt.x),Math.abs(mt.y),Math.abs(Je.x),Math.abs(Je.y)),Ue=et*$*$;if(he<=Ue){ct.splice(yt,1),Ct--;continue}Je=mt}}se(I),Z.forEach(se);const ge=Z.length,xe=I;for(let ct=0;ct<ge;ct++){const Qe=Z[ct];I=I.concat(Qe)}function ee(ct,Qe,et){return Qe||console.error("THREE.ExtrudeGeometry: vec does not exist"),ct.clone().addScaledVector(Qe,et)}const le=I.length;function ve(ct,Qe,et){let Je,Ct,yt;const mt=ct.x-Qe.x,Rt=ct.y-Qe.y,on=et.x-ct.x,he=et.y-ct.y,$=mt*mt+Rt*Rt,Ue=mt*he-Rt*on;if(Math.abs(Ue)>Number.EPSILON){const me=Math.sqrt($),De=Math.sqrt(on*on+he*he),Ie=Qe.x-Rt/me,bt=Qe.y+mt/me,it=et.x-he/De,zt=et.y+on/De,Xt=((it-Ie)*he-(zt-bt)*on)/(mt*he-Rt*on);Je=Ie+mt*Xt-ct.x,Ct=bt+Rt*Xt-ct.y;const lt=Je*Je+Ct*Ct;if(lt<=2)return new xt(Je,Ct);yt=Math.sqrt(lt/2)}else{let me=!1;mt>Number.EPSILON?on>Number.EPSILON&&(me=!0):mt<-Number.EPSILON?on<-Number.EPSILON&&(me=!0):Math.sign(Rt)===Math.sign(he)&&(me=!0),me?(Je=-Rt,Ct=mt,yt=Math.sqrt($)):(Je=mt,Ct=Rt,yt=Math.sqrt($/2))}return new xt(Je/yt,Ct/yt)}const pe=[];for(let ct=0,Qe=xe.length,et=Qe-1,Je=ct+1;ct<Qe;ct++,et++,Je++)et===Qe&&(et=0),Je===Qe&&(Je=0),pe[ct]=ve(xe[ct],xe[et],xe[Je]);const F=[];let J,Le=pe.concat();for(let ct=0,Qe=ge;ct<Qe;ct++){const et=Z[ct];J=[];for(let Je=0,Ct=et.length,yt=Ct-1,mt=Je+1;Je<Ct;Je++,yt++,mt++)yt===Ct&&(yt=0),mt===Ct&&(mt=0),J[Je]=ve(et[Je],et[yt],et[mt]);F.push(J),Le=Le.concat(J)}let te;if(M===0)te=bf.triangulateShape(xe,Z);else{const ct=[],Qe=[];for(let et=0;et<M;et++){const Je=et/M,Ct=v*Math.cos(Je*Math.PI/2),yt=_*Math.sin(Je*Math.PI/2)+D;for(let mt=0,Rt=xe.length;mt<Rt;mt++){const on=ee(xe[mt],pe[mt],yt);St(on.x,on.y,-Ct),Je===0&&ct.push(on)}for(let mt=0,Rt=ge;mt<Rt;mt++){const on=Z[mt];J=F[mt];const he=[];for(let $=0,Ue=on.length;$<Ue;$++){const me=ee(on[$],J[$],yt);St(me.x,me.y,-Ct),Je===0&&he.push(me)}Je===0&&Qe.push(he)}}te=bf.triangulateShape(ct,Qe)}const Oe=te.length,tt=_+D;for(let ct=0;ct<le;ct++){const Qe=y?ee(I[ct],Le[ct],tt):I[ct];U?(G.copy(X.normals[0]).multiplyScalar(Qe.x),H.copy(X.binormals[0]).multiplyScalar(Qe.y),W.copy(P[0]).add(G).add(H),St(W.x,W.y,W.z)):St(Qe.x,Qe.y,0)}for(let ct=1;ct<=p;ct++)for(let Qe=0;Qe<le;Qe++){const et=y?ee(I[Qe],Le[Qe],tt):I[Qe];U?(G.copy(X.normals[ct]).multiplyScalar(et.x),H.copy(X.binormals[ct]).multiplyScalar(et.y),W.copy(P[ct]).add(G).add(H),St(W.x,W.y,W.z)):St(et.x,et.y,g/p*ct)}for(let ct=M-1;ct>=0;ct--){const Qe=ct/M,et=v*Math.cos(Qe*Math.PI/2),Je=_*Math.sin(Qe*Math.PI/2)+D;for(let Ct=0,yt=xe.length;Ct<yt;Ct++){const mt=ee(xe[Ct],pe[Ct],Je);St(mt.x,mt.y,g+et)}for(let Ct=0,yt=Z.length;Ct<yt;Ct++){const mt=Z[Ct];J=F[Ct];for(let Rt=0,on=mt.length;Rt<on;Rt++){const he=ee(mt[Rt],J[Rt],Je);U?St(he.x,he.y+P[p-1].y,P[p-1].x+et):St(he.x,he.y,g+et)}}}Te(),je();function Te(){const ct=r.length/3;if(y){let Qe=0,et=le*Qe;for(let Je=0;Je<Oe;Je++){const Ct=te[Je];ut(Ct[2]+et,Ct[1]+et,Ct[0]+et)}Qe=p+M*2,et=le*Qe;for(let Je=0;Je<Oe;Je++){const Ct=te[Je];ut(Ct[0]+et,Ct[1]+et,Ct[2]+et)}}else{for(let Qe=0;Qe<Oe;Qe++){const et=te[Qe];ut(et[2],et[1],et[0])}for(let Qe=0;Qe<Oe;Qe++){const et=te[Qe];ut(et[0]+le*p,et[1]+le*p,et[2]+le*p)}}i.addGroup(ct,r.length/3-ct,0)}function je(){const ct=r.length/3;let Qe=0;$e(xe,Qe),Qe+=xe.length;for(let et=0,Je=Z.length;et<Je;et++){const Ct=Z[et];$e(Ct,Qe),Qe+=Ct.length}i.addGroup(ct,r.length/3-ct,1)}function $e(ct,Qe){let et=ct.length;for(;--et>=0;){const Je=et;let Ct=et-1;Ct<0&&(Ct=ct.length-1);for(let yt=0,mt=p+M*2;yt<mt;yt++){const Rt=le*yt,on=le*(yt+1),he=Qe+Je+Rt,$=Qe+Ct+Rt,Ue=Qe+Ct+on,me=Qe+Je+on;Yt(he,$,Ue,me)}}}function St(ct,Qe,et){c.push(ct),c.push(Qe),c.push(et)}function ut(ct,Qe,et){kt(ct),kt(Qe),kt(et);const Je=r.length/3,Ct=N.generateTopUV(i,r,Je-3,Je-2,Je-1);ye(Ct[0]),ye(Ct[1]),ye(Ct[2])}function Yt(ct,Qe,et,Je){kt(ct),kt(Qe),kt(Je),kt(Qe),kt(et),kt(Je);const Ct=r.length/3,yt=N.generateSideWallUV(i,r,Ct-6,Ct-3,Ct-2,Ct-1);ye(yt[0]),ye(yt[1]),ye(yt[3]),ye(yt[1]),ye(yt[2]),ye(yt[3])}function kt(ct){r.push(c[ct*3+0]),r.push(c[ct*3+1]),r.push(c[ct*3+2])}function ye(ct){a.push(ct.x),a.push(ct.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return Tj(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const l=t[e.shapes[a]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new YS[r.type]().fromJSON(r)),new V1(i,e.options)}}const Ej={generateTopUV:function(n,e,t,i,r){const a=e[t*3],s=e[t*3+1],l=e[i*3],c=e[i*3+1],f=e[r*3],p=e[r*3+1];return[new xt(a,s),new xt(l,c),new xt(f,p)]},generateSideWallUV:function(n,e,t,i,r,a){const s=e[t*3],l=e[t*3+1],c=e[t*3+2],f=e[i*3],p=e[i*3+1],g=e[i*3+2],y=e[r*3],v=e[r*3+1],_=e[r*3+2],D=e[a*3],M=e[a*3+1],S=e[a*3+2];return Math.abs(l-p)<Math.abs(s-f)?[new xt(s,1-c),new xt(f,1-g),new xt(y,1-_),new xt(D,1-S)]:[new xt(l,1-c),new xt(p,1-g),new xt(v,1-_),new xt(M,1-S)]}};function Tj(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class G1 extends Yp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new G1(e.radius,e.detail)}}class X1 extends Qn{constructor(e=[new xt(0,-.5),new xt(.5,0),new xt(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=On(r,0,Math.PI*2);const a=[],s=[],l=[],c=[],f=[],p=1/t,g=new de,y=new xt,v=new de,_=new de,D=new de;let M=0,S=0;for(let N=0;N<=e.length-1;N++)switch(N){case 0:M=e[N+1].x-e[N].x,S=e[N+1].y-e[N].y,v.x=S*1,v.y=-M,v.z=S*0,D.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case e.length-1:c.push(D.x,D.y,D.z);break;default:M=e[N+1].x-e[N].x,S=e[N+1].y-e[N].y,v.x=S*1,v.y=-M,v.z=S*0,_.copy(v),v.x+=D.x,v.y+=D.y,v.z+=D.z,v.normalize(),c.push(v.x,v.y,v.z),D.copy(_)}for(let N=0;N<=t;N++){const P=i+N*p*r,U=Math.sin(P),X=Math.cos(P);for(let H=0;H<=e.length-1;H++){g.x=e[H].x*U,g.y=e[H].y,g.z=e[H].x*X,s.push(g.x,g.y,g.z),y.x=N/t,y.y=H/(e.length-1),l.push(y.x,y.y);const G=c[3*H+0]*U,W=c[3*H+1],B=c[3*H+0]*X;f.push(G,W,B)}}for(let N=0;N<t;N++)for(let P=0;P<e.length-1;P++){const U=P+N*e.length,X=U,H=U+e.length,G=U+e.length+1,W=U+1;a.push(X,H,W),a.push(G,W,H)}this.setIndex(a),this.setAttribute("position",new cn(s,3)),this.setAttribute("uv",new cn(l,2)),this.setAttribute("normal",new cn(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new X1(e.points,e.segments,e.phiStart,e.phiLength)}}class Xx extends Yp{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xx(e.radius,e.detail)}}class wv extends Qn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,s=t/2,l=Math.floor(i),c=Math.floor(r),f=l+1,p=c+1,g=e/l,y=t/c,v=[],_=[],D=[],M=[];for(let S=0;S<p;S++){const N=S*y-s;for(let P=0;P<f;P++){const U=P*g-a;_.push(U,-N,0),D.push(0,0,1),M.push(P/l),M.push(1-S/c)}}for(let S=0;S<c;S++)for(let N=0;N<l;N++){const P=N+f*S,U=N+f*(S+1),X=N+1+f*(S+1),H=N+1+f*S;v.push(P,U,H),v.push(U,X,H)}this.setIndex(v),this.setAttribute("position",new cn(_,3)),this.setAttribute("normal",new cn(D,3)),this.setAttribute("uv",new cn(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wv(e.width,e.height,e.widthSegments,e.heightSegments)}}class W1 extends Qn{constructor(e=.5,t=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const l=[],c=[],f=[],p=[];let g=e;const y=(t-e)/r,v=new de,_=new xt;for(let D=0;D<=r;D++){for(let M=0;M<=i;M++){const S=a+M/i*s;v.x=g*Math.cos(S),v.y=g*Math.sin(S),c.push(v.x,v.y,v.z),f.push(0,0,1),_.x=(v.x/t+1)/2,_.y=(v.y/t+1)/2,p.push(_.x,_.y)}g+=y}for(let D=0;D<r;D++){const M=D*(i+1);for(let S=0;S<i;S++){const N=S+M,P=N,U=N+i+1,X=N+i+2,H=N+1;l.push(P,U,H),l.push(U,X,H)}}this.setIndex(l),this.setAttribute("position",new cn(c,3)),this.setAttribute("normal",new cn(f,3)),this.setAttribute("uv",new cn(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Y1 extends Qn{constructor(e=new dg([new xt(0,.5),new xt(-.5,-.5),new xt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],a=[],s=[];let l=0,c=0;if(Array.isArray(e)===!1)f(e);else for(let p=0;p<e.length;p++)f(e[p]),this.addGroup(l,c,p),l+=c,c=0;this.setIndex(i),this.setAttribute("position",new cn(r,3)),this.setAttribute("normal",new cn(a,3)),this.setAttribute("uv",new cn(s,2));function f(p){const g=r.length/3,y=p.extractPoints(t);let v=y.shape;const _=y.holes;bf.isClockWise(v)===!1&&(v=v.reverse());for(let M=0,S=_.length;M<S;M++){const N=_[M];bf.isClockWise(N)===!0&&(_[M]=N.reverse())}const D=bf.triangulateShape(v,_);for(let M=0,S=_.length;M<S;M++){const N=_[M];v=v.concat(N)}for(let M=0,S=v.length;M<S;M++){const N=v[M];r.push(N.x,N.y,0),a.push(0,0,1),s.push(N.x,N.y)}for(let M=0,S=D.length;M<S;M++){const N=D[M],P=N[0]+g,U=N[1]+g,X=N[2]+g;i.push(P,U,X),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return wj(t,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=t[e.shapes[r]];i.push(s)}return new Y1(i,e.curveSegments)}}function wj(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Wx extends Qn{constructor(e=1,t=32,i=16,r=0,a=Math.PI*2,s=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:l},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const c=Math.min(s+l,Math.PI);let f=0;const p=[],g=new de,y=new de,v=[],_=[],D=[],M=[];for(let S=0;S<=i;S++){const N=[],P=S/i;let U=0;S===0&&s===0?U=.5/t:S===i&&c===Math.PI&&(U=-.5/t);for(let X=0;X<=t;X++){const H=X/t;g.x=-e*Math.cos(r+H*a)*Math.sin(s+P*l),g.y=e*Math.cos(s+P*l),g.z=e*Math.sin(r+H*a)*Math.sin(s+P*l),_.push(g.x,g.y,g.z),y.copy(g).normalize(),D.push(y.x,y.y,y.z),M.push(H+U,1-P),N.push(f++)}p.push(N)}for(let S=0;S<i;S++)for(let N=0;N<t;N++){const P=p[S][N+1],U=p[S][N],X=p[S+1][N],H=p[S+1][N+1];(S!==0||s>0)&&v.push(P,U,H),(S!==i-1||c<Math.PI)&&v.push(U,X,H)}this.setIndex(v),this.setAttribute("position",new cn(_,3)),this.setAttribute("normal",new cn(D,3)),this.setAttribute("uv",new cn(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class j1 extends Yp{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new j1(e.radius,e.detail)}}class q1 extends Qn{constructor(e=1,t=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const s=[],l=[],c=[],f=[],p=new de,g=new de,y=new de;for(let v=0;v<=i;v++)for(let _=0;_<=r;_++){const D=_/r*a,M=v/i*Math.PI*2;g.x=(e+t*Math.cos(M))*Math.cos(D),g.y=(e+t*Math.cos(M))*Math.sin(D),g.z=t*Math.sin(M),l.push(g.x,g.y,g.z),p.x=e*Math.cos(D),p.y=e*Math.sin(D),y.subVectors(g,p).normalize(),c.push(y.x,y.y,y.z),f.push(_/r),f.push(v/i)}for(let v=1;v<=i;v++)for(let _=1;_<=r;_++){const D=(r+1)*v+_-1,M=(r+1)*(v-1)+_-1,S=(r+1)*(v-1)+_,N=(r+1)*v+_;s.push(D,M,N),s.push(M,S,N)}this.setIndex(s),this.setAttribute("position",new cn(l,3)),this.setAttribute("normal",new cn(c,3)),this.setAttribute("uv",new cn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Z1 extends Qn{constructor(e=1,t=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const l=[],c=[],f=[],p=[],g=new de,y=new de,v=new de,_=new de,D=new de,M=new de,S=new de;for(let P=0;P<=i;++P){const U=P/i*a*Math.PI*2;N(U,a,s,e,v),N(U+.01,a,s,e,_),M.subVectors(_,v),S.addVectors(_,v),D.crossVectors(M,S),S.crossVectors(D,M),D.normalize(),S.normalize();for(let X=0;X<=r;++X){const H=X/r*Math.PI*2,G=-t*Math.cos(H),W=t*Math.sin(H);g.x=v.x+(G*S.x+W*D.x),g.y=v.y+(G*S.y+W*D.y),g.z=v.z+(G*S.z+W*D.z),c.push(g.x,g.y,g.z),y.subVectors(g,v).normalize(),f.push(y.x,y.y,y.z),p.push(P/i),p.push(X/r)}}for(let P=1;P<=i;P++)for(let U=1;U<=r;U++){const X=(r+1)*(P-1)+(U-1),H=(r+1)*P+(U-1),G=(r+1)*P+U,W=(r+1)*(P-1)+U;l.push(X,H,W),l.push(H,G,W)}this.setIndex(l),this.setAttribute("position",new cn(c,3)),this.setAttribute("normal",new cn(f,3)),this.setAttribute("uv",new cn(p,2));function N(P,U,X,H,G){const W=Math.cos(P),B=Math.sin(P),I=X/U*P,Z=Math.cos(I);G.x=H*(2+Z)*.5*W,G.y=H*(2+Z)*B*.5,G.z=H*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Z1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class K1 extends Qn{constructor(e=new UC(new de(-1,-1,0),new de(-1,1,0),new de(1,1,0)),t=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const l=new de,c=new de,f=new xt;let p=new de;const g=[],y=[],v=[],_=[];D(),this.setIndex(_),this.setAttribute("position",new cn(g,3)),this.setAttribute("normal",new cn(y,3)),this.setAttribute("uv",new cn(v,2));function D(){for(let P=0;P<t;P++)M(P);M(a===!1?t:0),N(),S()}function M(P){p=e.getPointAt(P/t,p);const U=s.normals[P],X=s.binormals[P];for(let H=0;H<=r;H++){const G=H/r*Math.PI*2,W=Math.sin(G),B=-Math.cos(G);c.x=B*U.x+W*X.x,c.y=B*U.y+W*X.y,c.z=B*U.z+W*X.z,c.normalize(),y.push(c.x,c.y,c.z),l.x=p.x+i*c.x,l.y=p.y+i*c.y,l.z=p.z+i*c.z,g.push(l.x,l.y,l.z)}}function S(){for(let P=1;P<=t;P++)for(let U=1;U<=r;U++){const X=(r+1)*(P-1)+(U-1),H=(r+1)*P+(U-1),G=(r+1)*P+U,W=(r+1)*(P-1)+U;_.push(X,H,W),_.push(H,G,W)}}function N(){for(let P=0;P<=t;P++)for(let U=0;U<=r;U++)f.x=P/t,f.y=U/r,v.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new K1(new YS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class F4 extends Qn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new de,a=new de;if(e.index!==null){const s=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let f=0,p=c.length;f<p;++f){const g=c[f],y=g.start,v=g.count;for(let _=y,D=y+v;_<D;_+=3)for(let M=0;M<3;M++){const S=l.getX(_+M),N=l.getX(_+(M+1)%3);r.fromBufferAttribute(s,S),a.fromBufferAttribute(s,N),iO(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let l=0,c=s.count/3;l<c;l++)for(let f=0;f<3;f++){const p=3*l+f,g=3*l+(f+1)%3;r.fromBufferAttribute(s,p),a.fromBufferAttribute(s,g),iO(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new cn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function iO(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var rO=Object.freeze({__proto__:null,BoxGeometry:Eg,CapsuleGeometry:k1,CircleGeometry:B1,ConeGeometry:Gx,CylinderGeometry:Vx,DodecahedronGeometry:F1,EdgesGeometry:D4,ExtrudeGeometry:V1,IcosahedronGeometry:G1,LatheGeometry:X1,OctahedronGeometry:Xx,PlaneGeometry:wv,PolyhedronGeometry:Yp,RingGeometry:W1,ShapeGeometry:Y1,SphereGeometry:Wx,TetrahedronGeometry:j1,TorusGeometry:q1,TorusKnotGeometry:Z1,TubeGeometry:K1,WireframeGeometry:F4});class H4 extends Bo{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new tn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class V4 extends Dc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class zC extends Bo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new tn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xp,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wu,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class G4 extends zC{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new xt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return On(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new tn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new tn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new tn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class X4 extends Bo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new tn(16777215),this.specular=new tn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xp,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wu,this.combine=Bx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class W4 extends Bo{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new tn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xp,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Y4 extends Bo{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xp,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class j4 extends Bo{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xp,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wu,this.combine=Bx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kC extends Bo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=i4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class BC extends Bo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class q4 extends Bo{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new tn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xp,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Z4 extends yl{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function $m(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function K4(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Q4(n){function e(r,a){return n[r]-n[a]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function FM(n,e,t){const i=n.length,r=new n.constructor(i);for(let a=0,s=0;s!==i;++a){const l=t[a]*e;for(let c=0;c!==e;++c)r[s++]=n[l+c]}return r}function FC(n,e,t,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),t.push(...s)),a=n[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),t.push(s)),a=n[r++];while(a!==void 0)}function Mj(n,e,t,i,r=30){const a=n.clone();a.name=e;const s=[];for(let c=0;c<a.tracks.length;++c){const f=a.tracks[c],p=f.getValueSize(),g=[],y=[];for(let v=0;v<f.times.length;++v){const _=f.times[v]*r;if(!(_<t||_>=i)){g.push(f.times[v]);for(let D=0;D<p;++D)y.push(f.values[v*p+D])}}g.length!==0&&(f.times=$m(g,f.times.constructor),f.values=$m(y,f.values.constructor),s.push(f))}a.tracks=s;let l=1/0;for(let c=0;c<a.tracks.length;++c)l>a.tracks[c].times[0]&&(l=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*l);return a.resetDuration(),a}function Aj(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,a=e/i;for(let s=0;s<r;++s){const l=t.tracks[s],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const f=n.tracks.find(function(S){return S.name===l.name&&S.ValueTypeName===c});if(f===void 0)continue;let p=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let y=0;const v=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);const _=l.times.length-1;let D;if(a<=l.times[0]){const S=p,N=g-p;D=l.values.slice(S,N)}else if(a>=l.times[_]){const S=_*g+p,N=S+g-p;D=l.values.slice(S,N)}else{const S=l.createInterpolant(),N=p,P=g-p;S.evaluate(a),D=S.resultBuffer.slice(N,P)}c==="quaternion"&&new tu().fromArray(D).normalize().conjugate().toArray(D);const M=f.times.length;for(let S=0;S<M;++S){const N=S*v+y;if(c==="quaternion")tu.multiplyQuaternionsFlat(f.values,N,D,0,f.values,N);else{const P=v-y*2;for(let U=0;U<P;++U)f.values[N+U]-=D[U]}}}return n.blendMode=xC,n}class Cj{static convertArray(e,t){return $m(e,t)}static isTypedArray(e){return K4(e)}static getKeyframeOrder(e){return Q4(e)}static sortedArray(e,t,i){return FM(e,t,i)}static flattenJSON(e,t,i,r){FC(e,t,i,r)}static subclip(e,t,i,r,a=30){return Mj(e,t,i,r,a)}static makeClipAdditive(e,t=0,i=e,r=30){return Aj(e,t,i,r)}}class Yx{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let l=i+2;;){if(r===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(a=r,r=t[++i],e<r)break t}s=t.length;break n}if(!(e>=a)){const l=t[1];e<l&&(i=2,a=l);for(let c=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=a,a=t[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const l=i+s>>>1;e<t[l]?s=l:i=l+1}if(r=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)t[s]=i[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class J4 extends Yx{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Qm,endingEnd:Qm}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,s=e+1,l=r[a],c=r[s];if(l===void 0)switch(this.getSettings_().endingStart){case Jm:a=e,l=2*t-i;break;case ox:a=r.length-2,l=t+r[a]-r[a+1];break;default:a=e,l=i}if(c===void 0)switch(this.getSettings_().endingEnd){case Jm:s=e,c=2*i-t;break;case ox:s=1,c=i+r[1]-r[0];break;default:s=e-1,c=t}const f=(i-t)*.5,p=this.valueSize;this._weightPrev=f/(t-l),this._weightNext=f/(c-i),this._offsetPrev=a*p,this._offsetNext=s*p}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,c=e*l,f=c-l,p=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,v=this._weightNext,_=(i-t)/(r-t),D=_*_,M=D*_,S=-y*M+2*y*D-y*_,N=(1+y)*M+(-1.5-2*y)*D+(-.5+y)*_+1,P=(-1-v)*M+(1.5+v)*D+.5*_,U=v*M-v*D;for(let X=0;X!==l;++X)a[X]=S*s[p+X]+N*s[f+X]+P*s[c+X]+U*s[g+X];return a}}class HC extends Yx{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,c=e*l,f=c-l,p=(i-t)/(r-t),g=1-p;for(let y=0;y!==l;++y)a[y]=s[f+y]*g+s[c+y]*p;return a}}class $4 extends Yx{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Oc{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$m(t,this.TimeBufferType),this.values=$m(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:$m(e.times,Array),values:$m(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new $4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new HC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new J4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case sx:t=this.InterpolantFactoryMethodDiscrete;break;case GS:t=this.InterpolantFactoryMethodLinear;break;case k_:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return sx;case this.InterpolantFactoryMethodLinear:return GS;case this.InterpolantFactoryMethodSmooth:return k_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>t;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const l=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*l,s*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let l=0;l!==a;l++){const c=i[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(s!==null&&s>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,s),e=!1;break}s=c}if(r!==void 0&&K4(r))for(let l=0,c=r.length;l!==c;++l){const f=r[l];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===k_,a=e.length-1;let s=1;for(let l=1;l<a;++l){let c=!1;const f=e[l],p=e[l+1];if(f!==p&&(l!==1||f!==e[0]))if(r)c=!0;else{const g=l*i,y=g-i,v=g+i;for(let _=0;_!==i;++_){const D=t[g+_];if(D!==t[y+_]||D!==t[v+_]){c=!0;break}}}if(c){if(l!==s){e[s]=e[l];const g=l*i,y=s*i;for(let v=0;v!==i;++v)t[y+v]=t[g+v]}++s}}if(a>0){e[s]=e[a];for(let l=a*i,c=s*i,f=0;f!==i;++f)t[c+f]=t[l+f];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Oc.prototype.ValueTypeName="";Oc.prototype.TimeBufferType=Float32Array;Oc.prototype.ValueBufferType=Float32Array;Oc.prototype.DefaultInterpolation=GS;class Tg extends Oc{constructor(e,t,i){super(e,t,i)}}Tg.prototype.ValueTypeName="bool";Tg.prototype.ValueBufferType=Array;Tg.prototype.DefaultInterpolation=sx;Tg.prototype.InterpolantFactoryMethodLinear=void 0;Tg.prototype.InterpolantFactoryMethodSmooth=void 0;class VC extends Oc{constructor(e,t,i,r){super(e,t,i,r)}}VC.prototype.ValueTypeName="color";class mx extends Oc{constructor(e,t,i,r){super(e,t,i,r)}}mx.prototype.ValueTypeName="number";class ez extends Yx{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,c=(i-t)/(r-t);let f=e*l;for(let p=f+l;f!==p;f+=4)tu.slerpFlat(a,0,s,f-l,s,f,c);return a}}class jx extends Oc{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new ez(this.times,this.values,this.getValueSize(),e)}}jx.prototype.ValueTypeName="quaternion";jx.prototype.InterpolantFactoryMethodSmooth=void 0;class wg extends Oc{constructor(e,t,i){super(e,t,i)}}wg.prototype.ValueTypeName="string";wg.prototype.ValueBufferType=Array;wg.prototype.DefaultInterpolation=sx;wg.prototype.InterpolantFactoryMethodLinear=void 0;wg.prototype.InterpolantFactoryMethodSmooth=void 0;class gx extends Oc{constructor(e,t,i,r){super(e,t,i,r)}}gx.prototype.ValueTypeName="vector";class yx{constructor(e="",t=-1,i=[],r=C1){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Gu(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,l=i.length;s!==l;++s)t.push(Dj(i[s]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=i.length;a!==s;++a)t.push(Oc.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const a=t.length,s=[];for(let l=0;l<a;l++){let c=[],f=[];c.push((l+a-1)%a,l,(l+1)%a),f.push(0,1,0);const p=Q4(c);c=FM(c,1,p),f=FM(f,1,p),!r&&c[0]===0&&(c.push(a),f.push(f[0])),s.push(new mx(".morphTargetInfluences["+t[l].name+"]",c,f).scale(1/i))}return new this(e,-1,s)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const f=e[l],p=f.name.match(a);if(p&&p.length>1){const g=p[1];let y=r[g];y||(r[g]=y=[]),y.push(f)}}const s=[];for(const l in r)s.push(this.CreateFromMorphTargetSequence(l,r[l],t,i));return s}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,v,_,D){if(v.length!==0){const M=[],S=[];FC(v,M,S,_),M.length!==0&&D.push(new g(y,M,S))}},r=[],a=e.name||"default",s=e.fps||30,l=e.blendMode;let c=e.length||-1;const f=e.hierarchy||[];for(let g=0;g<f.length;g++){const y=f[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const v={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let D=0;D<y[_].morphTargets.length;D++)v[y[_].morphTargets[D]]=-1;for(const D in v){const M=[],S=[];for(let N=0;N!==y[_].morphTargets.length;++N){const P=y[_];M.push(P.time),S.push(P.morphTarget===D?1:0)}r.push(new mx(".morphTargetInfluence["+D+"]",M,S))}c=v.length*s}else{const v=".bones["+t[g].name+"]";i(gx,v+".position",y,"pos",r),i(jx,v+".quaternion",y,"rot",r),i(gx,v+".scale",y,"scl",r)}}return r.length===0?null:new this(a,c,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function Rj(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return mx;case"vector":case"vector2":case"vector3":case"vector4":return gx;case"color":return VC;case"quaternion":return jx;case"bool":case"boolean":return Tg;case"string":return wg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Dj(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Rj(n.type);if(n.times===void 0){const t=[],i=[];FC(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const bh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class GC{constructor(e,t,i){const r=this;let a=!1,s=0,l=0,c;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.abortController=new AbortController,this.itemStart=function(p){l++,a===!1&&r.onStart!==void 0&&r.onStart(p,s,l),a=!0},this.itemEnd=function(p){s++,r.onProgress!==void 0&&r.onProgress(p,s,l),s===l&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return c?c(p):p},this.setURLModifier=function(p){return c=p,this},this.addHandler=function(p,g){return f.push(p,g),this},this.removeHandler=function(p){const g=f.indexOf(p);return g!==-1&&f.splice(g,2),this},this.getHandler=function(p){for(let g=0,y=f.length;g<y;g+=2){const v=f[g],_=f[g+1];if(v.global&&(v.lastIndex=0),v.test(p))return _}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const tz=new GC;class nu{constructor(e){this.manager=e!==void 0?e:tz,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,a){i.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}nu.DEFAULT_MATERIAL_NAME="__DEFAULT";const ud={};class Oj extends Error{constructor(e,t){super(e),this.response=t}}class Rd extends nu{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=bh.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(ud[e]!==void 0){ud[e].push({onLoad:t,onProgress:i,onError:r});return}ud[e]=[],ud[e].push({onLoad:t,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),l=this.mimeType,c=this.responseType;fetch(s).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const p=ud[e],g=f.body.getReader(),y=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),v=y?parseInt(y):0,_=v!==0;let D=0;const M=new ReadableStream({start(S){N();function N(){g.read().then(({done:P,value:U})=>{if(P)S.close();else{D+=U.byteLength;const X=new ProgressEvent("progress",{lengthComputable:_,loaded:D,total:v});for(let H=0,G=p.length;H<G;H++){const W=p[H];W.onProgress&&W.onProgress(X)}S.enqueue(U),N()}},P=>{S.error(P)})}}});return new Response(M)}else throw new Oj(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(c){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return f.json();default:if(l==="")return f.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),y=g&&g[1]?g[1].toLowerCase():void 0,v=new TextDecoder(y);return f.arrayBuffer().then(_=>v.decode(_))}}}).then(f=>{bh.add(`file:${e}`,f);const p=ud[e];delete ud[e];for(let g=0,y=p.length;g<y;g++){const v=p[g];v.onLoad&&v.onLoad(f)}}).catch(f=>{const p=ud[e];if(p===void 0)throw this.manager.itemError(e),f;delete ud[e];for(let g=0,y=p.length;g<y;g++){const v=p[g];v.onError&&v.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Pj extends nu{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new Rd(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=yx.parse(e[i]);t.push(r)}return t}}class Lj extends nu{constructor(e){super(e)}load(e,t,i,r){const a=this,s=[],l=new z1,c=new Rd(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(a.withCredentials);let f=0;function p(g){c.load(e[g],function(y){const v=a.parse(y,!0);s[g]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},f+=1,f===6&&(v.mipmapCount===1&&(l.minFilter=xs),l.image=s,l.format=v.format,l.needsUpdate=!0,t&&t(l))},i,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)p(g);else c.load(e,function(g){const y=a.parse(g,!0);if(y.isCubemap){const v=y.mipmaps.length/y.mipmapCount;for(let _=0;_<v;_++){s[_]={mipmaps:[]};for(let D=0;D<y.mipmapCount;D++)s[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+D]),s[_].format=y.format,s[_].width=y.width,s[_].height=y.height}l.image=s}else l.image.width=y.width,l.image.height=y.height,l.mipmaps=y.mipmaps;y.mipmapCount===1&&(l.minFilter=xs),l.format=y.format,l.needsUpdate=!0,t&&t(l)},i,r);return l}}const gy=new WeakMap;class vx extends nu{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=bh.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0);else{let g=gy.get(s);g===void 0&&(g=[],gy.set(s,g)),g.push({onLoad:t,onError:r})}return s}const l=cx("img");function c(){p(),t&&t(this);const g=gy.get(this)||[];for(let y=0;y<g.length;y++){const v=g[y];v.onLoad&&v.onLoad(this)}gy.delete(this),a.manager.itemEnd(e)}function f(g){p(),r&&r(g),bh.remove(`image:${e}`);const y=gy.get(this)||[];for(let v=0;v<y.length;v++){const _=y[v];_.onError&&_.onError(g)}gy.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function p(){l.removeEventListener("load",c,!1),l.removeEventListener("error",f,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),bh.add(`image:${e}`,l),a.manager.itemStart(e),l.src=e,l}}class Nj extends nu{constructor(e){super(e)}load(e,t,i,r){const a=new Hx;a.colorSpace=Uo;const s=new vx(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let l=0;function c(f){s.load(e[f],function(p){a.images[f]=p,l++,l===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let f=0;f<e.length;++f)c(f);return a}}class Uj extends nu{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new Th,l=new Rd(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(c){let f;try{f=a.parse(c)}catch(p){if(r!==void 0)r(p);else{console.error(p);return}}f.image!==void 0?s.image=f.image:f.data!==void 0&&(s.image.width=f.width,s.image.height=f.height,s.image.data=f.data),s.wrapS=f.wrapS!==void 0?f.wrapS:Ac,s.wrapT=f.wrapT!==void 0?f.wrapT:Ac,s.magFilter=f.magFilter!==void 0?f.magFilter:xs,s.minFilter=f.minFilter!==void 0?f.minFilter:xs,s.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(s.colorSpace=f.colorSpace),f.flipY!==void 0&&(s.flipY=f.flipY),f.format!==void 0&&(s.format=f.format),f.type!==void 0&&(s.type=f.type),f.mipmaps!==void 0&&(s.mipmaps=f.mipmaps,s.minFilter=xh),f.mipmapCount===1&&(s.minFilter=xs),f.generateMipmaps!==void 0&&(s.generateMipmaps=f.generateMipmaps),s.needsUpdate=!0,t&&t(s,f)},i,r),s}}class Ij extends nu{constructor(e){super(e)}load(e,t,i,r){const a=new Da,s=new vx(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(l){a.image=l,a.needsUpdate=!0,t!==void 0&&t(a)},i,r),a}}class jp extends Oi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new tn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class nz extends jp{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Oi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new tn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const BT=new Ln,aO=new de,sO=new de;class XC{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new xt(512,512),this.mapType=Rc,this.map=null,this.mapPass=null,this.matrix=new Ln,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Tv,this._frameExtents=new xt(1,1),this._viewportCount=1,this._viewports=[new Di(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;aO.setFromMatrixPosition(e.matrixWorld),t.position.copy(aO),sO.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(sO),t.updateMatrixWorld(),BT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BT,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(BT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class zj extends XC{constructor(){super(new Us(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=sv*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(i!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class iz extends jp{constructor(e,t,i=0,r=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Oi.DEFAULT_UP),this.updateMatrix(),this.target=new Oi,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new zj}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const oO=new Ln,o0=new de,FT=new de;class kj extends XC{constructor(){super(new Us(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new xt(4,2),this._viewportCount=6,this._viewports=[new Di(2,1,1,1),new Di(0,1,1,1),new Di(3,1,1,1),new Di(1,1,1,1),new Di(3,0,1,1),new Di(1,0,1,1)],this._cubeDirections=[new de(1,0,0),new de(-1,0,0),new de(0,0,1),new de(0,0,-1),new de(0,1,0),new de(0,-1,0)],this._cubeUps=[new de(0,1,0),new de(0,1,0),new de(0,1,0),new de(0,1,0),new de(0,0,1),new de(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),o0.setFromMatrixPosition(e.matrixWorld),i.position.copy(o0),FT.copy(i.position),FT.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(FT),i.updateMatrixWorld(),r.makeTranslation(-o0.x,-o0.y,-o0.z),oO.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oO,i.coordinateSystem,i.reversedDepth)}}class rz extends jp{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new kj}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class qx extends O1{constructor(e=-1,t=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,l=r+t,c=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,s=a+f*this.view.width,l-=p*this.view.offsetY,c=l-p*this.view.height}this.projectionMatrix.makeOrthographic(a,s,l,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Bj extends XC{constructor(){super(new qx(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class az extends jp{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Oi.DEFAULT_UP),this.updateMatrix(),this.target=new Oi,this.shadow=new Bj}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class sz extends jp{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class oz extends jp{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class lz{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new de)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*i),t.addScaledVector(s[4],1.092548*(i*r)),t.addScaledVector(s[5],1.092548*(r*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(i*a)),t.addScaledVector(s[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*i),t.addScaledVector(s[4],2*.429043*i*r),t.addScaledVector(s[5],2*.429043*r*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*i*a),t.addScaledVector(s[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-r*r)}}class uz extends jp{constructor(e=new lz,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Q1 extends nu{constructor(e){super(e),this.textures={}}load(e,t,i,r){const a=this,s=new Rd(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new tn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new tn().setHex(s.value);break;case"v2":r.uniforms[a].value=new xt().fromArray(s.value);break;case"v3":r.uniforms[a].value=new de().fromArray(s.value);break;case"v4":r.uniforms[a].value=new Di().fromArray(s.value);break;case"m3":r.uniforms[a].value=new Xn().fromArray(s.value);break;case"m4":r.uniforms[a].value=new Ln().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new xt().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new xt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Q1.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:H4,SpriteMaterial:MC,RawShaderMaterial:V4,ShaderMaterial:Dc,PointsMaterial:CC,MeshPhysicalMaterial:G4,MeshStandardMaterial:zC,MeshPhongMaterial:X4,MeshToonMaterial:W4,MeshNormalMaterial:Y4,MeshLambertMaterial:j4,MeshDepthMaterial:kC,MeshDistanceMaterial:BC,MeshBasicMaterial:Wp,MeshMatcapMaterial:q4,LineDashedMaterial:Z4,LineBasicMaterial:yl,Material:Bo};return new t[e]}}class HM{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class cz extends Qn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class fz extends nu{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new Rd(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(v,_){if(t[_]!==void 0)return t[_];const M=v.interleavedBuffers[_],S=a(v,M.buffer),N=Ny(M.type,S),P=new N1(N,M.stride);return P.uuid=M.uuid,t[_]=P,P}function a(v,_){if(i[_]!==void 0)return i[_];const M=v.arrayBuffers[_],S=new Uint32Array(M).buffer;return i[_]=S,S}const s=e.isInstancedBufferGeometry?new cz:new Qn,l=e.data.index;if(l!==void 0){const v=Ny(l.type,l.array);s.setIndex(new lr(v,1))}const c=e.data.attributes;for(const v in c){const _=c[v];let D;if(_.isInterleavedBufferAttribute){const M=r(e.data,_.data);D=new vg(M,_.itemSize,_.offset,_.normalized)}else{const M=Ny(_.type,_.array),S=_.isInstancedBufferAttribute?uv:lr;D=new S(M,_.itemSize,_.normalized)}_.name!==void 0&&(D.name=_.name),_.usage!==void 0&&D.setUsage(_.usage),s.setAttribute(v,D)}const f=e.data.morphAttributes;if(f)for(const v in f){const _=f[v],D=[];for(let M=0,S=_.length;M<S;M++){const N=_[M];let P;if(N.isInterleavedBufferAttribute){const U=r(e.data,N.data);P=new vg(U,N.itemSize,N.offset,N.normalized)}else{const U=Ny(N.type,N.array);P=new lr(U,N.itemSize,N.normalized)}N.name!==void 0&&(P.name=N.name),D.push(P)}s.morphAttributes[v]=D}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let v=0,_=g.length;v!==_;++v){const D=g[v];s.addGroup(D.start,D.count,D.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(s.boundingSphere=new oo().fromJSON(y)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Fj extends nu{constructor(e){super(e)}load(e,t,i,r){const a=this,s=this.path===""?HM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const l=new Rd(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let f=null;try{f=JSON.parse(c)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const p=f.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?HM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new Rd(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),l=JSON.parse(s),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(f)}),l=this.parseTextures(e.textures,s),c=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,a,c,l,i),p=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,p),this.bindLightTargets(f),t!==void 0){let g=!1;for(const y in s)if(s[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,r,l,s,t),f=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,f),this.bindLightTargets(c),c}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new dg().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=new U1().fromJSON(e[a],r);i[l.uuid]=l}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new fz;for(let a=0,s=e.length;a<s;a++){let l;const c=e[a];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(c);break;default:c.type in rO?l=rO[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),i[c.uuid]=l}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const a=new Q1;a.setTextures(t);for(let s=0,l=e.length;s<l;s++){const c=e[s];i[c.uuid]===void 0&&(i[c.uuid]=a.parse(c)),r[c.uuid]=i[c.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=yx.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const i=this,r={};let a;function s(c){return i.manager.itemStart(c),a.load(c,function(){i.manager.itemEnd(c)},void 0,function(){i.manager.itemError(c),i.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const f=c,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return s(p)}else return c.data?{data:Ny(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new GC(t);a=new vx(c),a.setCrossOrigin(this.crossOrigin);for(let f=0,p=e.length;f<p;f++){const g=e[f],y=g.url;if(Array.isArray(y)){const v=[];for(let _=0,D=y.length;_<D;_++){const M=y[_],S=l(M);S!==null&&(S instanceof HTMLImageElement?v.push(S):v.push(new Th(S.data,S.width,S.height)))}r[g.uuid]=new Lp(v)}else{const v=l(g.url);r[g.uuid]=new Lp(v)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function a(s){if(typeof s=="string"){const l=s,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(c)}else return s.data?{data:Ny(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new vx(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,l=e.length;s<l;s++){const c=e[s],f=c.url;if(Array.isArray(f)){const p=[];for(let g=0,y=f.length;g<y;g++){const v=f[g],_=await a(v);_!==null&&(_ instanceof HTMLImageElement?p.push(_):p.push(new Th(_.data,_.width,_.height)))}i[c.uuid]=new Lp(p)}else{const p=await a(c.url);i[c.uuid]=new Lp(p)}}}return i}parseTextures(e,t){function i(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=e[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=t[l.image],f=c.data;let p;Array.isArray(f)?(p=new Hx,f.length===6&&(p.needsUpdate=!0)):(f&&f.data?p=new Th:p=new Da,f&&(p.needsUpdate=!0)),p.source=c,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=i(l.mapping,Hj)),l.channel!==void 0&&(p.channel=l.channel),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=i(l.wrap[0],lO),p.wrapT=i(l.wrap[1],lO)),l.format!==void 0&&(p.format=l.format),l.internalFormat!==void 0&&(p.internalFormat=l.internalFormat),l.type!==void 0&&(p.type=l.type),l.colorSpace!==void 0&&(p.colorSpace=l.colorSpace),l.minFilter!==void 0&&(p.minFilter=i(l.minFilter,uO)),l.magFilter!==void 0&&(p.magFilter=i(l.magFilter,uO)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(p.compareFunction=l.compareFunction),l.userData!==void 0&&(p.userData=l.userData),r[l.uuid]=p}return r}parseObject(e,t,i,r,a){let s;function l(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function c(y){if(y!==void 0){if(Array.isArray(y)){const v=[];for(let _=0,D=y.length;_<D;_++){const M=y[_];i[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),v.push(i[M])}return v}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function f(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let p,g;switch(e.type){case"Scene":s=new wC,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new tn(e.background):s.background=f(e.background)),e.environment!==void 0&&(s.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new L1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new P1(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Us(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new qx(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new sz(e.color,e.intensity);break;case"DirectionalLight":s=new az(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new rz(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new oz(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new iz(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new nz(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new uz().fromJSON(e);break;case"SkinnedMesh":p=l(e.geometry),g=c(e.material),s=new T4(p,g),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),g=c(e.material),s=new as(p,g);break;case"InstancedMesh":p=l(e.geometry),g=c(e.material);const y=e.count,v=e.instanceMatrix,_=e.instanceColor;s=new w4(p,g,y),s.instanceMatrix=new uv(new Float32Array(v.array),16),_!==void 0&&(s.instanceColor=new uv(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":p=l(e.geometry),g=c(e.material),s=new M4(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),s.geometry=p,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(D=>{let M=null,S=null;return D.boundingBox!==void 0&&(M=new ko().fromJSON(D.boundingBox)),D.boundingSphere!==void 0&&(S=new oo().fromJSON(D.boundingSphere)),{...D,boundingBox:M,boundingSphere:S}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=f(e.matricesTexture.uuid),s._indirectTexture=f(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=f(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new oo().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new ko().fromJSON(e.boundingBox));break;case"LOD":s=new E4;break;case"Line":s=new Fp(l(e.geometry),c(e.material));break;case"LineLoop":s=new A4(l(e.geometry),c(e.material));break;case"LineSegments":s=new Dh(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new C4(l(e.geometry),c(e.material));break;case"Sprite":s=new S4(c(e.material));break;case"Group":s=new Uy;break;case"Bone":s=new AC;break;default:s=new Oi}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let v=0;v<y.length;v++)s.add(this.parseObject(y[v],t,i,r,a))}if(e.animations!==void 0){const y=e.animations;for(let v=0;v<y.length;v++){const _=y[v];s.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const y=e.levels;for(let v=0;v<y.length;v++){const _=y[v],D=s.getObjectByProperty("uuid",_.object);D!==void 0&&s.addLevel(D,_.distance,_.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Oi}})}}const Hj={UVMapping:_1,CubeReflectionMapping:Ad,CubeRefractionMapping:kp,EquirectangularReflectionMapping:nx,EquirectangularRefractionMapping:ix,CubeUVReflectionMapping:_v},lO={RepeatWrapping:rx,ClampToEdgeWrapping:Ac,MirroredRepeatWrapping:ax},uO={NearestFilter:so,NearestMipmapNearestFilter:fC,NearestMipmapLinearFilter:Ly,LinearFilter:xs,LinearMipmapNearestFilter:L0,LinearMipmapLinearFilter:xh},HT=new WeakMap;class Vj extends nu{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=bh.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(f=>{if(HT.has(s)===!0)r&&r(HT.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(f),a.manager.itemEnd(e),f});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,l.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const c=fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(f){return bh.add(`image-bitmap:${e}`,f),t&&t(f),a.manager.itemEnd(e),f}).catch(function(f){r&&r(f),HT.set(c,f),bh.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});bh.add(`image-bitmap:${e}`,c),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let d_;class WC{static getContext(){return d_===void 0&&(d_=new(window.AudioContext||window.webkitAudioContext)),d_}static setContext(e){d_=e}}class Gj extends nu{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new Rd(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(c){try{const f=c.slice(0);WC.getContext().decodeAudioData(f,function(g){t(g)}).catch(l)}catch(f){l(f)}},i,r);function l(c){r?r(c):console.error(c),a.manager.itemError(e)}}}const cO=new Ln,fO=new Ln,Pm=new Ln;class Xj{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Us,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Us,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Pm.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(hg*t.fov*.5)/t.zoom;let l,c;fO.elements[12]=-r,cO.elements[12]=r,l=-s*t.aspect+a,c=s*t.aspect+a,Pm.elements[0]=2*t.near/(c-l),Pm.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(Pm),l=-s*t.aspect-a,c=s*t.aspect-a,Pm.elements[0]=2*t.near/(c-l),Pm.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(Pm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(fO),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(cO)}}class hz extends Us{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class YC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Lm=new de,VT=new tu,Wj=new de,Nm=new de,Um=new de;class Yj extends Oi{constructor(){super(),this.type="AudioListener",this.context=WC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new YC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Lm,VT,Wj),Nm.set(0,0,-1).applyQuaternion(VT),Um.set(0,1,0).applyQuaternion(VT),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Lm.x,i),t.positionY.linearRampToValueAtTime(Lm.y,i),t.positionZ.linearRampToValueAtTime(Lm.z,i),t.forwardX.linearRampToValueAtTime(Nm.x,i),t.forwardY.linearRampToValueAtTime(Nm.y,i),t.forwardZ.linearRampToValueAtTime(Nm.z,i),t.upX.linearRampToValueAtTime(Um.x,i),t.upY.linearRampToValueAtTime(Um.y,i),t.upZ.linearRampToValueAtTime(Um.z,i)}else t.setPosition(Lm.x,Lm.y,Lm.z),t.setOrientation(Nm.x,Nm.y,Nm.z,Um.x,Um.y,Um.z)}}class dz extends Oi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Im=new de,hO=new tu,jj=new de,zm=new de;class qj extends dz{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Im,hO,jj),zm.set(0,0,1).applyQuaternion(hO);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Im.x,i),t.positionY.linearRampToValueAtTime(Im.y,i),t.positionZ.linearRampToValueAtTime(Im.z,i),t.orientationX.linearRampToValueAtTime(zm.x,i),t.orientationY.linearRampToValueAtTime(zm.y,i),t.orientationZ.linearRampToValueAtTime(zm.z,i)}else t.setPosition(Im.x,Im.y,Im.z),t.setOrientation(zm.x,zm.y,zm.z)}}class Zj{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class pz{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,a,s;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let l=0;l!==r;++l)i[a+l]=i[l];s=t}else{s+=t;const l=t/s;this._mixBufferRegion(i,a,0,l,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const c=t*this._origIndex;this._mixBufferRegion(i,r,c,1-a,t)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let c=t,f=t+t;c!==f;++c)if(i[c]!==i[c+t]){l.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let a=i,s=r;a!==s;++a)t[a]=t[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[t+s]=e[i+s]}_slerp(e,t,i,r){tu.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,a){const s=this._workIndex*a;tu.multiplyQuaternionsFlat(e,s,e,t,e,i),tu.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,i,r,a){const s=1-r;for(let l=0;l!==a;++l){const c=t+l;e[c]=e[c]*s+e[i+l]*r}}_lerpAdditive(e,t,i,r,a){for(let s=0;s!==a;++s){const l=t+s;e[l]=e[l]+e[i+s]*r}}}const jC="\\[\\]\\.:\\/",Kj=new RegExp("["+jC+"]","g"),qC="[^"+jC+"]",Qj="[^"+jC.replace("\\.","")+"]",Jj=/((?:WC+[\/:])*)/.source.replace("WC",qC),$j=/(WCOD+)?/.source.replace("WCOD",Qj),eq=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",qC),tq=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",qC),nq=new RegExp("^"+Jj+$j+eq+tq+"$"),iq=["material","materials","bones","map"];class rq{constructor(e,t,i){const r=i||Ri.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Ri{constructor(e,t,i){this.path=t,this.parsedPath=i||Ri.parseTrackName(t),this.node=Ri.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Ri.Composite(e,t,i):new Ri(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Kj,"")}static parseTrackName(e){const t=nq.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);iq.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const l=a[s];if(l.name===t||l.uuid===t)return l;const c=i(l.children);if(c)return c}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=Ri.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===f){f=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const s=e[r];if(s===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ri.Composite=rq;Ri.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ri.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ri.prototype.GetterByBindingType=[Ri.prototype._getValue_direct,Ri.prototype._getValue_array,Ri.prototype._getValue_arrayElement,Ri.prototype._getValue_toArray];Ri.prototype.SetterByBindingTypeAndVersioning=[[Ri.prototype._setValue_direct,Ri.prototype._setValue_direct_setNeedsUpdate,Ri.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ri.prototype._setValue_array,Ri.prototype._setValue_array_setNeedsUpdate,Ri.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ri.prototype._setValue_arrayElement,Ri.prototype._setValue_arrayElement_setNeedsUpdate,Ri.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ri.prototype._setValue_fromArray,Ri.prototype._setValue_fromArray_setNeedsUpdate,Ri.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class aq{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Gu(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let l,c=e.length,f=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const y=arguments[p],v=y.uuid;let _=t[v];if(_===void 0){_=c++,t[v]=_,e.push(y);for(let D=0,M=s;D!==M;++D)a[D].push(new Ri(y,i[D],r[D]))}else if(_<f){l=e[_];const D=--f,M=e[D];t[M.uuid]=_,e[_]=M,t[v]=D,e[D]=y;for(let S=0,N=s;S!==N;++S){const P=a[S],U=P[D];let X=P[_];P[_]=U,X===void 0&&(X=new Ri(y,i[S],r[S])),P[D]=X}}else e[_]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],f=c.uuid,p=t[f];if(p!==void 0&&p>=a){const g=a++,y=e[g];t[y.uuid]=p,e[p]=y,t[f]=g,e[g]=c;for(let v=0,_=r;v!==_;++v){const D=i[v],M=D[g],S=D[p];D[p]=M,D[g]=S}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let l=0,c=arguments.length;l!==c;++l){const f=arguments[l],p=f.uuid,g=t[p];if(g!==void 0)if(delete t[p],g<a){const y=--a,v=e[y],_=--s,D=e[_];t[v.uuid]=g,e[g]=v,t[D.uuid]=y,e[y]=D,e.pop();for(let M=0,S=r;M!==S;++M){const N=i[M],P=N[y],U=N[_];N[g]=P,N[y]=U,N.pop()}}else{const y=--s,v=e[y];y>0&&(t[v.uuid]=g),e[g]=v,e.pop();for(let _=0,D=r;_!==D;++_){const M=i[_];M[g]=M[y],M.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,l=this._parsedPaths,c=this._objects,f=c.length,p=this.nCachedObjects_,g=new Array(f);r=a.length,i[e]=r,s.push(e),l.push(t),a.push(g);for(let y=p,v=c.length;y!==v;++y){const _=c[y];g[y]=new Ri(_,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length-1,c=s[l],f=e[l];t[f]=i,s[i]=c,s.pop(),a[i]=a[l],a.pop(),r[i]=r[l],r.pop()}}}class mz{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const a=t.tracks,s=a.length,l=new Array(s),c={endingStart:Qm,endingEnd:Qm};for(let f=0;f!==s;++f){const p=a[f].createInterpolant(null);l[f]=p,p.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=t4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,l=r/a;e.warp(1,s,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,a=r.time,s=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,f=l.sampleValues;return c[0]=a,c[1]=a+i,f[0]=e/s,f[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const c=(e-a)*i;c<0||i===0?t=0:(this._startTime=null,t=i*c)}t*=this._updateTimeScale(e);const s=this._updateTime(t),l=this._updateWeight(e);if(l>0){const c=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case xC:for(let p=0,g=c.length;p!==g;++p)c[p].evaluate(s),f[p].accumulateAdditive(l);break;case C1:default:for(let p=0,g=c.length;p!==g;++p)c[p].evaluate(s),f[p].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===n4;if(e===0)return a===-1?r:s&&(a&1)===1?t-r:r;if(i===e4){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,a+=Math.abs(l);const c=this.repetitions-a;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const f=e<0;this._setEndings(f,!f,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(s&&(a&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Jm,r.endingEnd=Jm):(e?r.endingStart=this.zeroSlopeAtStart?Jm:Qm:r.endingStart=ox,t?r.endingEnd=this.zeroSlopeAtEnd?Jm:Qm:r.endingEnd=ox)}_scheduleFading(e,t,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=a,c[0]=t,l[1]=a+e,c[1]=i,this}}const sq=new Float32Array(1);class oq extends Rh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,l=e._interpolants,c=i.uuid,f=this._bindingsByRootAndName;let p=f[c];p===void 0&&(p={},f[c]=p);for(let g=0;g!==a;++g){const y=r[g],v=y.name;let _=p[v];if(_!==void 0)++_.referenceCount,s[g]=_;else{if(_=s[g],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,c,v));continue}const D=t&&t._propertyBindings[g].binding.parsedPath;_=new pz(Ri.create(i,v,D),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,c,v),s[g]=_}l[g].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const l=s.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,l=s[a],c=l.knownActions,f=c[c.length-1],p=e._byClipCacheIndex;f._byClipCacheIndex=p,c[p]=f,c.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],c.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[t];s===void 0&&(s={},r[t]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,l=s[r],c=t[t.length-1],f=e._cacheIndex;c._cacheIndex=f,t[f]=c,t.pop(),delete l[a],Object.keys(l).length===0&&delete s[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new HC(new Float32Array(2),new Float32Array(2),1,sq),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const r=t||this._root,a=r.uuid;let s=typeof e=="string"?yx.findByName(r,e):e;const l=s!==null?s.uuid:e,c=this._actionsByClip[l];let f=null;if(i===void 0&&(s!==null?i=s.blendMode:i=C1),c!==void 0){const g=c.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;f=c.knownActions[0],s===null&&(s=f._clip)}if(s===null)return null;const p=new mz(this,s,t,i);return this._bindAction(p,f),this._addInactiveAction(p,l,a),p}existingAction(e,t){const i=t||this._root,r=i.uuid,a=typeof e=="string"?yx.findByName(i,e):e,s=a?a.uuid:e,l=this._actionsByClip[s];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,a,s);const l=this._bindings,c=this._nActiveBindings;for(let f=0;f!==c;++f)l[f].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let l=0,c=s.length;l!==c;++l){const f=s[l];this._deactivateAction(f);const p=f._cacheIndex,g=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,g._cacheIndex=p,t[p]=g,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const s in i){const l=i[s].actionByRoot,c=l[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const s in a){const l=a[s];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class lq extends SC{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new D1(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class ZC{constructor(e){this.value=e}clone(){return new ZC(this.value.clone===void 0?this.value:this.value.clone())}}let uq=0;class cq extends Rh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:uq++}),this.name="",this.usage=ux,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class fq extends N1{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class hq{constructor(e,t,i,r,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const dO=new Ln;class gz{constructor(e,t,i=0,r=1/0){this.ray=new Ev(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new ov,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return dO.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(dO),this}intersectObject(e,t=!0,i=[]){return VM(e,this,i,t),i.sort(pO),i}intersectObjects(e,t=!0,i=[]){for(let r=0,a=e.length;r<a;r++)VM(e[r],this,i,t);return i.sort(pO),i}}function pO(n,e){return n.distance-e.distance}function VM(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let s=0,l=a.length;s<l;s++)VM(a[s],e,t,!0)}}class dq{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=pq.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function pq(){this._document.hidden===!1&&this.reset()}class yz{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=On(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(On(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class mq{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class KC{constructor(e,t,i,r){KC.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=r,this}}const mO=new xt;class gq{constructor(e=new xt(1/0,1/0),t=new xt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=mO.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,mO).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gO=new de,p_=new de,yy=new de,vy=new de,GT=new de,yq=new de,vq=new de;class xq{constructor(e=new de,t=new de){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){gO.subVectors(e,this.start),p_.subVectors(this.end,this.start);const i=p_.dot(p_);let a=p_.dot(gO)/i;return t&&(a=On(a,0,1)),a}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=yq,i=vq){const r=10000000000000001e-32;let a,s;const l=this.start,c=e.start,f=this.end,p=e.end;yy.subVectors(f,l),vy.subVectors(p,c),GT.subVectors(l,c);const g=yy.dot(yy),y=vy.dot(vy),v=vy.dot(GT);if(g<=r&&y<=r)return t.copy(l),i.copy(c),t.sub(i),t.dot(t);if(g<=r)a=0,s=v/y,s=On(s,0,1);else{const _=yy.dot(GT);if(y<=r)s=0,a=On(-_/g,0,1);else{const D=yy.dot(vy),M=g*y-D*D;M!==0?a=On((D*v-_*y)/M,0,1):a=0,s=(D*a+v)/y,s<0?(s=0,a=On(-_/g,0,1)):s>1&&(s=1,a=On((D-_)/g,0,1))}}return t.copy(l).add(yy.multiplyScalar(a)),i.copy(c).add(vy.multiplyScalar(s)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const yO=new de;class bq extends Oi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Qn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,l=1,c=32;s<c;s++,l++){const f=s/c*Math.PI*2,p=l/c*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(p),Math.sin(p),1)}i.setAttribute("position",new cn(r,3));const a=new yl({fog:!1,toneMapped:!1});this.cone=new Dh(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),yO.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(yO),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const mp=new de,m_=new Ln,XT=new Ln;class _q extends Dh{constructor(e){const t=vz(e),i=new Qn,r=[],a=[];for(let f=0;f<t.length;f++){const p=t[f];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new cn(r,3)),i.setAttribute("color",new cn(a,3));const s=new yl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const l=new tn(255),c=new tn(65280);this.setColors(l,c)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");XT.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const l=t[a];l.parent&&l.parent.isBone&&(m_.multiplyMatrices(XT,l.matrixWorld),mp.setFromMatrixPosition(m_),r.setXYZ(s,mp.x,mp.y,mp.z),m_.multiplyMatrices(XT,l.parent.matrixWorld),mp.setFromMatrixPosition(m_),r.setXYZ(s+1,mp.x,mp.y,mp.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function vz(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...vz(n.children[t]));return e}class Sq extends as{constructor(e,t,i){const r=new Wx(t,4,2),a=new Wp({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Eq=new de,vO=new tn,xO=new tn;class Tq extends Oi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Xx(t);r.rotateY(Math.PI*.5),this.material=new Wp({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new lr(s,3)),this.add(new as(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");vO.copy(this.light.color),xO.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const a=i<r/2?vO:xO;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Eq.setFromMatrixPosition(this.light.matrixWorld).negate())}}class wq extends Dh{constructor(e=10,t=10,i=4473924,r=8947848){i=new tn(i),r=new tn(r);const a=t/2,s=e/t,l=e/2,c=[],f=[];for(let y=0,v=0,_=-l;y<=t;y++,_+=s){c.push(-l,0,_,l,0,_),c.push(_,0,-l,_,0,l);const D=y===a?i:r;D.toArray(f,v),v+=3,D.toArray(f,v),v+=3,D.toArray(f,v),v+=3,D.toArray(f,v),v+=3}const p=new Qn;p.setAttribute("position",new cn(c,3)),p.setAttribute("color",new cn(f,3));const g=new yl({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mq extends Dh{constructor(e=10,t=16,i=8,r=64,a=4473924,s=8947848){a=new tn(a),s=new tn(s);const l=[],c=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),v=Math.sin(y)*e,_=Math.cos(y)*e;l.push(0,0,0),l.push(v,0,_);const D=g&1?a:s;c.push(D.r,D.g,D.b),c.push(D.r,D.g,D.b)}for(let g=0;g<i;g++){const y=g&1?a:s,v=e-e/i*g;for(let _=0;_<r;_++){let D=_/r*(Math.PI*2),M=Math.sin(D)*v,S=Math.cos(D)*v;l.push(M,0,S),c.push(y.r,y.g,y.b),D=(_+1)/r*(Math.PI*2),M=Math.sin(D)*v,S=Math.cos(D)*v,l.push(M,0,S),c.push(y.r,y.g,y.b)}}const f=new Qn;f.setAttribute("position",new cn(l,3)),f.setAttribute("color",new cn(c,3));const p=new yl({vertexColors:!0,toneMapped:!1});super(f,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const bO=new de,g_=new de,_O=new de;class Aq extends Oi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Qn;r.setAttribute("position",new cn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new yl({fog:!1,toneMapped:!1});this.lightPlane=new Fp(r,a),this.add(this.lightPlane),r=new Qn,r.setAttribute("position",new cn([0,0,0,0,0,1],3)),this.targetLine=new Fp(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),bO.setFromMatrixPosition(this.light.matrixWorld),g_.setFromMatrixPosition(this.light.target.matrixWorld),_O.subVectors(g_,bO),this.lightPlane.lookAt(g_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(g_),this.targetLine.scale.z=_O.length()}}const y_=new de,Ma=new O1;class Cq extends Dh{constructor(e){const t=new Qn,i=new yl({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(_,D){c(_),c(D)}function c(_){r.push(0,0,0),a.push(0,0,0),s[_]===void 0&&(s[_]=[]),s[_].push(r.length/3-1)}t.setAttribute("position",new cn(r,3)),t.setAttribute("color",new cn(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const f=new tn(16755200),p=new tn(16711680),g=new tn(43775),y=new tn(16777215),v=new tn(3355443);this.setColors(f,p,g,y,v)}setColors(e,t,i,r,a){const l=this.geometry.getAttribute("color");return l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;let a,s;if(Ma.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===Hu)a=-1,s=1;else if(this.camera.coordinateSystem===av)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Ba("c",t,e,Ma,0,0,a),Ba("t",t,e,Ma,0,0,s),Ba("n1",t,e,Ma,-i,-r,a),Ba("n2",t,e,Ma,i,-r,a),Ba("n3",t,e,Ma,-i,r,a),Ba("n4",t,e,Ma,i,r,a),Ba("f1",t,e,Ma,-i,-r,s),Ba("f2",t,e,Ma,i,-r,s),Ba("f3",t,e,Ma,-i,r,s),Ba("f4",t,e,Ma,i,r,s),Ba("u1",t,e,Ma,i*.7,r*1.1,a),Ba("u2",t,e,Ma,-i*.7,r*1.1,a),Ba("u3",t,e,Ma,0,r*2,a),Ba("cf1",t,e,Ma,-i,0,s),Ba("cf2",t,e,Ma,i,0,s),Ba("cf3",t,e,Ma,0,-r,s),Ba("cf4",t,e,Ma,0,r,s),Ba("cn1",t,e,Ma,-i,0,a),Ba("cn2",t,e,Ma,i,0,a),Ba("cn3",t,e,Ma,0,-r,a),Ba("cn4",t,e,Ma,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ba(n,e,t,i,r,a,s){y_.set(r,a,s).unproject(i);const l=e[n];if(l!==void 0){const c=t.getAttribute("position");for(let f=0,p=l.length;f<p;f++)c.setXYZ(l[f],y_.x,y_.y,y_.z)}}const v_=new ko;class Rq extends Dh{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new Qn;a.setIndex(new lr(i,1)),a.setAttribute("position",new lr(r,3)),super(a,new yl({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&v_.setFromObject(this.object),v_.isEmpty())return;const e=v_.min,t=v_.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Dq extends Dh{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Qn;a.setIndex(new lr(i,1)),a.setAttribute("position",new cn(r,3)),super(a,new yl({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Oq extends Fp{constructor(e,t=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Qn;s.setAttribute("position",new cn(a,3)),s.computeBoundingSphere(),super(s,new yl({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new Qn;c.setAttribute("position",new cn(l,3)),c.computeBoundingSphere(),this.add(new as(c,new Wp({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const SO=new de;let x_,WT;class Pq extends Oi{constructor(e=new de(0,0,1),t=new de(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",x_===void 0&&(x_=new Qn,x_.setAttribute("position",new cn([0,0,0,0,1,0],3)),WT=new Gx(.5,1,5,1),WT.translate(0,-.5,0)),this.position.copy(t),this.line=new Fp(x_,new yl({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new as(WT,new Wp({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{SO.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(SO,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Lq extends Dh{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Qn;r.setAttribute("position",new cn(t,3)),r.setAttribute("color",new cn(i,3));const a=new yl({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,i){const r=new tn,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Nq{constructor(){this.type="ShapePath",this.color=new tn,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new jS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,a,s){return this.currentPath.bezierCurveTo(e,t,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const N=[];for(let P=0,U=S.length;P<U;P++){const X=S[P],H=new dg;H.curves=X.curves,N.push(H)}return N}function i(S,N){const P=N.length;let U=!1;for(let X=P-1,H=0;H<P;X=H++){let G=N[X],W=N[H],B=W.x-G.x,I=W.y-G.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(G=N[H],B=-B,W=N[X],I=-I),S.y<G.y||S.y>W.y)continue;if(S.y===G.y){if(S.x===G.x)return!0}else{const Z=I*(S.x-G.x)-B*(S.y-G.y);if(Z===0)return!0;if(Z<0)continue;U=!U}}else{if(S.y!==G.y)continue;if(W.x<=S.x&&S.x<=G.x||G.x<=S.x&&S.x<=W.x)return!0}}return U}const r=bf.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,l,c;const f=[];if(a.length===1)return l=a[0],c=new dg,c.curves=l.curves,f.push(c),f;let p=!r(a[0].getPoints());p=e?!p:p;const g=[],y=[];let v=[],_=0,D;y[_]=void 0,v[_]=[];for(let S=0,N=a.length;S<N;S++)l=a[S],D=l.getPoints(),s=r(D),s=e?!s:s,s?(!p&&y[_]&&_++,y[_]={s:new dg,p:D},y[_].s.curves=l.curves,p&&_++,v[_]=[]):v[_].push({h:l,p:D[0]});if(!y[0])return t(a);if(y.length>1){let S=!1,N=0;for(let P=0,U=y.length;P<U;P++)g[P]=[];for(let P=0,U=y.length;P<U;P++){const X=v[P];for(let H=0;H<X.length;H++){const G=X[H];let W=!0;for(let B=0;B<y.length;B++)i(G.p,y[B].p)&&(P!==B&&N++,W?(W=!1,g[B].push(G)):S=!0);W&&g[P].push(G)}}N>0&&S===!1&&(v=g)}let M;for(let S=0,N=y.length;S<N;S++){c=y[S].s,f.push(c),M=v[S];for(let P=0,U=M.length;P<U;P++)c.holes.push(M[P].h)}return f}}class Uq extends Rh{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Iq(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function zq(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function kq(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function GM(n,e,t,i){const r=Bq(i);switch(t){case gC:return n*e;case w1:return n*e/r.components*r.byteLength;case Fx:return n*e/r.components*r.byteLength;case vC:return n*e*2/r.components*r.byteLength;case M1:return n*e*2/r.components*r.byteLength;case yC:return n*e*3/r.components*r.byteLength;case Io:return n*e*4/r.components*r.byteLength;case A1:return n*e*4/r.components*r.byteLength;case N0:case U0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case I0:case z0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case gS:case vS:return Math.max(n,16)*Math.max(e,8)/4;case mS:case yS:return Math.max(n,8)*Math.max(e,8)/2;case xS:case bS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case _S:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case SS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case ES:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case TS:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case wS:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case MS:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case AS:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case CS:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case RS:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case DS:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case OS:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case PS:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case LS:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case NS:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case US:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case IS:case zS:case kS:return Math.ceil(n/4)*Math.ceil(e/4)*16;case BS:case FS:return Math.ceil(n/4)*Math.ceil(e/4)*8;case HS:case VS:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Bq(n){switch(n){case Rc:case hC:return{byteLength:1,components:1};case tv:case dC:case Sv:return{byteLength:2,components:1};case E1:case T1:return{byteLength:2,components:4};case Cd:case S1:case eu:return{byteLength:4,components:1};case pC:case mC:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Fq{static contain(e,t){return Iq(e,t)}static cover(e,t){return zq(e,t)}static fill(e){return kq(e)}static getByteLength(e,t,i,r){return GM(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:kx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=kx);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function xz(){let n=null,e=!1,t=null,i=null;function r(a,s){t(a,s),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function Hq(n){const e=new WeakMap;function t(l,c){const f=l.array,p=l.usage,g=f.byteLength,y=n.createBuffer();n.bindBuffer(c,y),n.bufferData(c,f,p),l.onUploadCallback();let v;if(f instanceof Float32Array)v=n.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)v=n.HALF_FLOAT;else if(f instanceof Uint16Array)l.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=n.SHORT;else if(f instanceof Uint32Array)v=n.UNSIGNED_INT;else if(f instanceof Int32Array)v=n.INT;else if(f instanceof Int8Array)v=n.BYTE;else if(f instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:y,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version,size:g}}function i(l,c,f){const p=c.array,g=c.updateRanges;if(n.bindBuffer(f,l),g.length===0)n.bufferSubData(f,0,p);else{g.sort((v,_)=>v.start-_.start);let y=0;for(let v=1;v<g.length;v++){const _=g[y],D=g[v];D.start<=_.start+_.count+1?_.count=Math.max(_.count,D.start+D.count-_.start):(++y,g[y]=D)}g.length=y+1;for(let v=0,_=g.length;v<_;v++){const D=g[v];n.bufferSubData(f,D.start*p.BYTES_PER_ELEMENT,p,D.start,D.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(n.deleteBuffer(c.buffer),e.delete(l))}function s(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const p=e.get(l);(!p||p.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const f=e.get(l);if(f===void 0)e.set(l,t(l,c));else if(f.version<l.version){if(f.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(f.buffer,l,c),f.version=l.version}}return{get:r,remove:a,update:s}}var Vq=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Gq=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Xq=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Wq=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Yq=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,jq=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qq=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Zq=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Kq=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Qq=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Jq=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,$q=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,eZ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,tZ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,nZ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,iZ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,rZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,aZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,sZ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,oZ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,lZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,uZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,cZ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,fZ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,hZ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,dZ=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,pZ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,mZ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,gZ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,yZ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,vZ="gl_FragColor = linearToOutputTexel( gl_FragColor );",xZ=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,bZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,_Z=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,SZ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,EZ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,TZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,wZ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,MZ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,AZ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,CZ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,RZ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,DZ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,OZ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,PZ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,LZ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,NZ=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,UZ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,IZ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,zZ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,kZ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,BZ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,FZ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,HZ=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,VZ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,GZ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,XZ=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,WZ=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,YZ=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,jZ=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,qZ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ZZ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,KZ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,QZ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,JZ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$Z=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,eK=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,tK=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,nK=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,iK=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,rK=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,aK=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,sK=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,oK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uK=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,cK=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,fK=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,hK=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,dK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,pK=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,mK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,gK=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,yK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,xK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,bK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,_K=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,SK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,EK=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,TK=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,wK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,MK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,AK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,CK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,RK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,DK=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,OK=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,PK=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,LK=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,NK=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,UK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,IK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,zK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,kK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,BK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,FK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const HK=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,VK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,GK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,XK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,WK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,YK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ZK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,KK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,QK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,JK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$K=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,eQ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,tQ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,nQ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iQ=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rQ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aQ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,sQ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oQ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,lQ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,uQ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cQ=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fQ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,hQ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dQ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pQ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mQ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,gQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yQ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vQ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,xQ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ti={alphahash_fragment:Vq,alphahash_pars_fragment:Gq,alphamap_fragment:Xq,alphamap_pars_fragment:Wq,alphatest_fragment:Yq,alphatest_pars_fragment:jq,aomap_fragment:qq,aomap_pars_fragment:Zq,batching_pars_vertex:Kq,batching_vertex:Qq,begin_vertex:Jq,beginnormal_vertex:$q,bsdfs:eZ,iridescence_fragment:tZ,bumpmap_pars_fragment:nZ,clipping_planes_fragment:iZ,clipping_planes_pars_fragment:rZ,clipping_planes_pars_vertex:aZ,clipping_planes_vertex:sZ,color_fragment:oZ,color_pars_fragment:lZ,color_pars_vertex:uZ,color_vertex:cZ,common:fZ,cube_uv_reflection_fragment:hZ,defaultnormal_vertex:dZ,displacementmap_pars_vertex:pZ,displacementmap_vertex:mZ,emissivemap_fragment:gZ,emissivemap_pars_fragment:yZ,colorspace_fragment:vZ,colorspace_pars_fragment:xZ,envmap_fragment:bZ,envmap_common_pars_fragment:_Z,envmap_pars_fragment:SZ,envmap_pars_vertex:EZ,envmap_physical_pars_fragment:NZ,envmap_vertex:TZ,fog_vertex:wZ,fog_pars_vertex:MZ,fog_fragment:AZ,fog_pars_fragment:CZ,gradientmap_pars_fragment:RZ,lightmap_pars_fragment:DZ,lights_lambert_fragment:OZ,lights_lambert_pars_fragment:PZ,lights_pars_begin:LZ,lights_toon_fragment:UZ,lights_toon_pars_fragment:IZ,lights_phong_fragment:zZ,lights_phong_pars_fragment:kZ,lights_physical_fragment:BZ,lights_physical_pars_fragment:FZ,lights_fragment_begin:HZ,lights_fragment_maps:VZ,lights_fragment_end:GZ,logdepthbuf_fragment:XZ,logdepthbuf_pars_fragment:WZ,logdepthbuf_pars_vertex:YZ,logdepthbuf_vertex:jZ,map_fragment:qZ,map_pars_fragment:ZZ,map_particle_fragment:KZ,map_particle_pars_fragment:QZ,metalnessmap_fragment:JZ,metalnessmap_pars_fragment:$Z,morphinstance_vertex:eK,morphcolor_vertex:tK,morphnormal_vertex:nK,morphtarget_pars_vertex:iK,morphtarget_vertex:rK,normal_fragment_begin:aK,normal_fragment_maps:sK,normal_pars_fragment:oK,normal_pars_vertex:lK,normal_vertex:uK,normalmap_pars_fragment:cK,clearcoat_normal_fragment_begin:fK,clearcoat_normal_fragment_maps:hK,clearcoat_pars_fragment:dK,iridescence_pars_fragment:pK,opaque_fragment:mK,packing:gK,premultiplied_alpha_fragment:yK,project_vertex:vK,dithering_fragment:xK,dithering_pars_fragment:bK,roughnessmap_fragment:_K,roughnessmap_pars_fragment:SK,shadowmap_pars_fragment:EK,shadowmap_pars_vertex:TK,shadowmap_vertex:wK,shadowmask_pars_fragment:MK,skinbase_vertex:AK,skinning_pars_vertex:CK,skinning_vertex:RK,skinnormal_vertex:DK,specularmap_fragment:OK,specularmap_pars_fragment:PK,tonemapping_fragment:LK,tonemapping_pars_fragment:NK,transmission_fragment:UK,transmission_pars_fragment:IK,uv_pars_fragment:zK,uv_pars_vertex:kK,uv_vertex:BK,worldpos_vertex:FK,background_vert:HK,background_frag:VK,backgroundCube_vert:GK,backgroundCube_frag:XK,cube_vert:WK,cube_frag:YK,depth_vert:jK,depth_frag:qK,distanceRGBA_vert:ZK,distanceRGBA_frag:KK,equirect_vert:QK,equirect_frag:JK,linedashed_vert:$K,linedashed_frag:eQ,meshbasic_vert:tQ,meshbasic_frag:nQ,meshlambert_vert:iQ,meshlambert_frag:rQ,meshmatcap_vert:aQ,meshmatcap_frag:sQ,meshnormal_vert:oQ,meshnormal_frag:lQ,meshphong_vert:uQ,meshphong_frag:cQ,meshphysical_vert:fQ,meshphysical_frag:hQ,meshtoon_vert:dQ,meshtoon_frag:pQ,points_vert:mQ,points_frag:gQ,shadow_vert:yQ,shadow_frag:vQ,sprite_vert:xQ,sprite_frag:bQ},qt={common:{diffuse:{value:new tn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Xn},alphaMap:{value:null},alphaMapTransform:{value:new Xn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Xn}},envmap:{envMap:{value:null},envMapRotation:{value:new Xn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Xn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Xn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Xn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Xn},normalScale:{value:new xt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Xn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Xn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Xn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Xn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Xn},alphaTest:{value:0},uvTransform:{value:new Xn}},sprite:{diffuse:{value:new tn(16777215)},opacity:{value:1},center:{value:new xt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Xn},alphaMap:{value:null},alphaMapTransform:{value:new Xn},alphaTest:{value:0}}},xf={basic:{uniforms:cl([qt.common,qt.specularmap,qt.envmap,qt.aomap,qt.lightmap,qt.fog]),vertexShader:ti.meshbasic_vert,fragmentShader:ti.meshbasic_frag},lambert:{uniforms:cl([qt.common,qt.specularmap,qt.envmap,qt.aomap,qt.lightmap,qt.emissivemap,qt.bumpmap,qt.normalmap,qt.displacementmap,qt.fog,qt.lights,{emissive:{value:new tn(0)}}]),vertexShader:ti.meshlambert_vert,fragmentShader:ti.meshlambert_frag},phong:{uniforms:cl([qt.common,qt.specularmap,qt.envmap,qt.aomap,qt.lightmap,qt.emissivemap,qt.bumpmap,qt.normalmap,qt.displacementmap,qt.fog,qt.lights,{emissive:{value:new tn(0)},specular:{value:new tn(1118481)},shininess:{value:30}}]),vertexShader:ti.meshphong_vert,fragmentShader:ti.meshphong_frag},standard:{uniforms:cl([qt.common,qt.envmap,qt.aomap,qt.lightmap,qt.emissivemap,qt.bumpmap,qt.normalmap,qt.displacementmap,qt.roughnessmap,qt.metalnessmap,qt.fog,qt.lights,{emissive:{value:new tn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ti.meshphysical_vert,fragmentShader:ti.meshphysical_frag},toon:{uniforms:cl([qt.common,qt.aomap,qt.lightmap,qt.emissivemap,qt.bumpmap,qt.normalmap,qt.displacementmap,qt.gradientmap,qt.fog,qt.lights,{emissive:{value:new tn(0)}}]),vertexShader:ti.meshtoon_vert,fragmentShader:ti.meshtoon_frag},matcap:{uniforms:cl([qt.common,qt.bumpmap,qt.normalmap,qt.displacementmap,qt.fog,{matcap:{value:null}}]),vertexShader:ti.meshmatcap_vert,fragmentShader:ti.meshmatcap_frag},points:{uniforms:cl([qt.points,qt.fog]),vertexShader:ti.points_vert,fragmentShader:ti.points_frag},dashed:{uniforms:cl([qt.common,qt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ti.linedashed_vert,fragmentShader:ti.linedashed_frag},depth:{uniforms:cl([qt.common,qt.displacementmap]),vertexShader:ti.depth_vert,fragmentShader:ti.depth_frag},normal:{uniforms:cl([qt.common,qt.bumpmap,qt.normalmap,qt.displacementmap,{opacity:{value:1}}]),vertexShader:ti.meshnormal_vert,fragmentShader:ti.meshnormal_frag},sprite:{uniforms:cl([qt.sprite,qt.fog]),vertexShader:ti.sprite_vert,fragmentShader:ti.sprite_frag},background:{uniforms:{uvTransform:{value:new Xn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ti.background_vert,fragmentShader:ti.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Xn}},vertexShader:ti.backgroundCube_vert,fragmentShader:ti.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ti.cube_vert,fragmentShader:ti.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ti.equirect_vert,fragmentShader:ti.equirect_frag},distanceRGBA:{uniforms:cl([qt.common,qt.displacementmap,{referencePosition:{value:new de},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ti.distanceRGBA_vert,fragmentShader:ti.distanceRGBA_frag},shadow:{uniforms:cl([qt.lights,qt.fog,{color:{value:new tn(0)},opacity:{value:1}}]),vertexShader:ti.shadow_vert,fragmentShader:ti.shadow_frag}};xf.physical={uniforms:cl([xf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Xn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Xn},clearcoatNormalScale:{value:new xt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Xn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Xn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Xn},sheen:{value:0},sheenColor:{value:new tn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Xn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Xn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Xn},transmissionSamplerSize:{value:new xt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Xn},attenuationDistance:{value:0},attenuationColor:{value:new tn(0)},specularColor:{value:new tn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Xn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Xn},anisotropyVector:{value:new xt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Xn}}]),vertexShader:ti.meshphysical_vert,fragmentShader:ti.meshphysical_frag};const b_={r:0,b:0,g:0},km=new Wu,_Q=new Ln;function SQ(n,e,t,i,r,a,s){const l=new tn(0);let c=a===!0?0:1,f,p,g=null,y=0,v=null;function _(P){let U=P.isScene===!0?P.background:null;return U&&U.isTexture&&(U=(P.backgroundBlurriness>0?t:e).get(U)),U}function D(P){let U=!1;const X=_(P);X===null?S(l,c):X&&X.isColor&&(S(X,1),U=!0);const H=n.xr.getEnvironmentBlendMode();H==="additive"?i.buffers.color.setClear(0,0,0,1,s):H==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(n.autoClear||U)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function M(P,U){const X=_(U);X&&(X.isCubeTexture||X.mapping===_v)?(p===void 0&&(p=new as(new Eg(1,1,1),new Dc({name:"BackgroundCubeMaterial",uniforms:lv(xf.backgroundCube.uniforms),vertexShader:xf.backgroundCube.vertexShader,fragmentShader:xf.backgroundCube.fragmentShader,side:gl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(H,G,W){this.matrixWorld.copyPosition(W.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),km.copy(U.backgroundRotation),km.x*=-1,km.y*=-1,km.z*=-1,X.isCubeTexture&&X.isRenderTargetTexture===!1&&(km.y*=-1,km.z*=-1),p.material.uniforms.envMap.value=X,p.material.uniforms.flipEnvMap.value=X.isCubeTexture&&X.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=U.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=U.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(_Q.makeRotationFromEuler(km)),p.material.toneMapped=xi.getTransfer(X.colorSpace)!==nr,(g!==X||y!==X.version||v!==n.toneMapping)&&(p.material.needsUpdate=!0,g=X,y=X.version,v=n.toneMapping),p.layers.enableAll(),P.unshift(p,p.geometry,p.material,0,0,null)):X&&X.isTexture&&(f===void 0&&(f=new as(new wv(2,2),new Dc({name:"BackgroundMaterial",uniforms:lv(xf.background.uniforms),vertexShader:xf.background.vertexShader,fragmentShader:xf.background.fragmentShader,side:Md,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=X,f.material.uniforms.backgroundIntensity.value=U.backgroundIntensity,f.material.toneMapped=xi.getTransfer(X.colorSpace)!==nr,X.matrixAutoUpdate===!0&&X.updateMatrix(),f.material.uniforms.uvTransform.value.copy(X.matrix),(g!==X||y!==X.version||v!==n.toneMapping)&&(f.material.needsUpdate=!0,g=X,y=X.version,v=n.toneMapping),f.layers.enableAll(),P.unshift(f,f.geometry,f.material,0,0,null))}function S(P,U){P.getRGB(b_,y4(n)),i.buffers.color.setClear(b_.r,b_.g,b_.b,U,s)}function N(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return l},setClearColor:function(P,U=1){l.set(P),c=U,S(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(P){c=P,S(l,c)},render:D,addToRenderList:M,dispose:N}}function EQ(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=y(null);let a=r,s=!1;function l(I,Z,ae,se,ge){let xe=!1;const ee=g(se,ae,Z);a!==ee&&(a=ee,f(a.object)),xe=v(I,se,ae,ge),xe&&_(I,se,ae,ge),ge!==null&&e.update(ge,n.ELEMENT_ARRAY_BUFFER),(xe||s)&&(s=!1,U(I,Z,ae,se),ge!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ge).buffer))}function c(){return n.createVertexArray()}function f(I){return n.bindVertexArray(I)}function p(I){return n.deleteVertexArray(I)}function g(I,Z,ae){const se=ae.wireframe===!0;let ge=i[I.id];ge===void 0&&(ge={},i[I.id]=ge);let xe=ge[Z.id];xe===void 0&&(xe={},ge[Z.id]=xe);let ee=xe[se];return ee===void 0&&(ee=y(c()),xe[se]=ee),ee}function y(I){const Z=[],ae=[],se=[];for(let ge=0;ge<t;ge++)Z[ge]=0,ae[ge]=0,se[ge]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Z,enabledAttributes:ae,attributeDivisors:se,object:I,attributes:{},index:null}}function v(I,Z,ae,se){const ge=a.attributes,xe=Z.attributes;let ee=0;const le=ae.getAttributes();for(const ve in le)if(le[ve].location>=0){const F=ge[ve];let J=xe[ve];if(J===void 0&&(ve==="instanceMatrix"&&I.instanceMatrix&&(J=I.instanceMatrix),ve==="instanceColor"&&I.instanceColor&&(J=I.instanceColor)),F===void 0||F.attribute!==J||J&&F.data!==J.data)return!0;ee++}return a.attributesNum!==ee||a.index!==se}function _(I,Z,ae,se){const ge={},xe=Z.attributes;let ee=0;const le=ae.getAttributes();for(const ve in le)if(le[ve].location>=0){let F=xe[ve];F===void 0&&(ve==="instanceMatrix"&&I.instanceMatrix&&(F=I.instanceMatrix),ve==="instanceColor"&&I.instanceColor&&(F=I.instanceColor));const J={};J.attribute=F,F&&F.data&&(J.data=F.data),ge[ve]=J,ee++}a.attributes=ge,a.attributesNum=ee,a.index=se}function D(){const I=a.newAttributes;for(let Z=0,ae=I.length;Z<ae;Z++)I[Z]=0}function M(I){S(I,0)}function S(I,Z){const ae=a.newAttributes,se=a.enabledAttributes,ge=a.attributeDivisors;ae[I]=1,se[I]===0&&(n.enableVertexAttribArray(I),se[I]=1),ge[I]!==Z&&(n.vertexAttribDivisor(I,Z),ge[I]=Z)}function N(){const I=a.newAttributes,Z=a.enabledAttributes;for(let ae=0,se=Z.length;ae<se;ae++)Z[ae]!==I[ae]&&(n.disableVertexAttribArray(ae),Z[ae]=0)}function P(I,Z,ae,se,ge,xe,ee){ee===!0?n.vertexAttribIPointer(I,Z,ae,ge,xe):n.vertexAttribPointer(I,Z,ae,se,ge,xe)}function U(I,Z,ae,se){D();const ge=se.attributes,xe=ae.getAttributes(),ee=Z.defaultAttributeValues;for(const le in xe){const ve=xe[le];if(ve.location>=0){let pe=ge[le];if(pe===void 0&&(le==="instanceMatrix"&&I.instanceMatrix&&(pe=I.instanceMatrix),le==="instanceColor"&&I.instanceColor&&(pe=I.instanceColor)),pe!==void 0){const F=pe.normalized,J=pe.itemSize,Le=e.get(pe);if(Le===void 0)continue;const te=Le.buffer,Oe=Le.type,tt=Le.bytesPerElement,Te=Oe===n.INT||Oe===n.UNSIGNED_INT||pe.gpuType===S1;if(pe.isInterleavedBufferAttribute){const je=pe.data,$e=je.stride,St=pe.offset;if(je.isInstancedInterleavedBuffer){for(let ut=0;ut<ve.locationSize;ut++)S(ve.location+ut,je.meshPerAttribute);I.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=je.meshPerAttribute*je.count)}else for(let ut=0;ut<ve.locationSize;ut++)M(ve.location+ut);n.bindBuffer(n.ARRAY_BUFFER,te);for(let ut=0;ut<ve.locationSize;ut++)P(ve.location+ut,J/ve.locationSize,Oe,F,$e*tt,(St+J/ve.locationSize*ut)*tt,Te)}else{if(pe.isInstancedBufferAttribute){for(let je=0;je<ve.locationSize;je++)S(ve.location+je,pe.meshPerAttribute);I.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let je=0;je<ve.locationSize;je++)M(ve.location+je);n.bindBuffer(n.ARRAY_BUFFER,te);for(let je=0;je<ve.locationSize;je++)P(ve.location+je,J/ve.locationSize,Oe,F,J*tt,J/ve.locationSize*je*tt,Te)}}else if(ee!==void 0){const F=ee[le];if(F!==void 0)switch(F.length){case 2:n.vertexAttrib2fv(ve.location,F);break;case 3:n.vertexAttrib3fv(ve.location,F);break;case 4:n.vertexAttrib4fv(ve.location,F);break;default:n.vertexAttrib1fv(ve.location,F)}}}}N()}function X(){W();for(const I in i){const Z=i[I];for(const ae in Z){const se=Z[ae];for(const ge in se)p(se[ge].object),delete se[ge];delete Z[ae]}delete i[I]}}function H(I){if(i[I.id]===void 0)return;const Z=i[I.id];for(const ae in Z){const se=Z[ae];for(const ge in se)p(se[ge].object),delete se[ge];delete Z[ae]}delete i[I.id]}function G(I){for(const Z in i){const ae=i[Z];if(ae[I.id]===void 0)continue;const se=ae[I.id];for(const ge in se)p(se[ge].object),delete se[ge];delete ae[I.id]}}function W(){B(),s=!0,a!==r&&(a=r,f(a.object))}function B(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:W,resetDefaultState:B,dispose:X,releaseStatesOfGeometry:H,releaseStatesOfProgram:G,initAttributes:D,enableAttribute:M,disableUnusedAttributes:N}}function TQ(n,e,t){let i;function r(f){i=f}function a(f,p){n.drawArrays(i,f,p),t.update(p,i,1)}function s(f,p,g){g!==0&&(n.drawArraysInstanced(i,f,p,g),t.update(p,i,g))}function l(f,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,f,0,p,0,g);let v=0;for(let _=0;_<g;_++)v+=p[_];t.update(v,i,1)}function c(f,p,g,y){if(g===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let _=0;_<f.length;_++)s(f[_],p[_],y[_]);else{v.multiDrawArraysInstancedWEBGL(i,f,0,p,0,y,0,g);let _=0;for(let D=0;D<g;D++)_+=p[D]*y[D];t.update(_,i,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function wQ(n,e,t,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const G=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(G.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(G){return!(G!==Io&&i.convert(G)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(G){const W=G===Sv&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(G!==Rc&&i.convert(G)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&G!==eu&&!W)}function c(G){if(G==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";G="mediump"}return G==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const p=c(f);p!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",p,"instead."),f=p);const g=t.logarithmicDepthBuffer===!0,y=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),D=n.getParameter(n.MAX_TEXTURE_SIZE),M=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),N=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),P=n.getParameter(n.MAX_VARYING_VECTORS),U=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),X=_>0,H=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:c,textureFormatReadable:s,textureTypeReadable:l,precision:f,logarithmicDepthBuffer:g,reversedDepthBuffer:y,maxTextures:v,maxVertexTextures:_,maxTextureSize:D,maxCubemapSize:M,maxAttributes:S,maxVertexUniforms:N,maxVaryings:P,maxFragmentUniforms:U,vertexTextures:X,maxSamples:H}}function MQ(n){const e=this;let t=null,i=0,r=!1,a=!1;const s=new bp,l=new Xn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const v=g.length!==0||y||i!==0||r;return r=y,i=g.length,v},this.beginShadows=function(){a=!0,p(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,y){t=p(g,y,0)},this.setState=function(g,y,v){const _=g.clippingPlanes,D=g.clipIntersection,M=g.clipShadows,S=n.get(g);if(!r||_===null||_.length===0||a&&!M)a?p(null):f();else{const N=a?0:i,P=N*4;let U=S.clippingState||null;c.value=U,U=p(_,y,P,v);for(let X=0;X!==P;++X)U[X]=t[X];S.clippingState=U,this.numIntersection=D?this.numPlanes:0,this.numPlanes+=N}};function f(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(g,y,v,_){const D=g!==null?g.length:0;let M=null;if(D!==0){if(M=c.value,_!==!0||M===null){const S=v+D*4,N=y.matrixWorldInverse;l.getNormalMatrix(N),(M===null||M.length<S)&&(M=new Float32Array(S));for(let P=0,U=v;P!==D;++P,U+=4)s.copy(g[P]).applyMatrix4(N,l),s.normal.toArray(M,U),M[U+3]=s.constant}c.value=M,c.needsUpdate=!0}return e.numPlanes=D,e.numIntersection=0,M}}function AQ(n){let e=new WeakMap;function t(s,l){return l===nx?s.mapping=Ad:l===ix&&(s.mapping=kp),s}function i(s){if(s&&s.isTexture){const l=s.mapping;if(l===nx||l===ix)if(e.has(s)){const c=e.get(s).texture;return t(c,s.mapping)}else{const c=s.image;if(c&&c.height>0){const f=new b4(c.height);return f.fromEquirectangularTexture(n,s),e.set(s,f),s.addEventListener("dispose",r),t(f.texture,s.mapping)}else return null}}return s}function r(s){const l=s.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const Iy=4,EO=[.125,.215,.35,.446,.526,.582],jm=20,YT=new qx,TO=new tn;let jT=null,qT=0,ZT=0,KT=!1;const Wm=(1+Math.sqrt(5))/2,xy=1/Wm,wO=[new de(-Wm,xy,0),new de(Wm,xy,0),new de(-xy,0,Wm),new de(xy,0,Wm),new de(0,Wm,-xy),new de(0,Wm,xy),new de(-1,1,-1),new de(1,1,-1),new de(-1,1,1),new de(1,1,1)],CQ=new de;class XM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,a={}){const{size:s=256,position:l=CQ}=a;jT=this._renderer.getRenderTarget(),qT=this._renderer.getActiveCubeFace(),ZT=this._renderer.getActiveMipmapLevel(),KT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,i,r,c,l),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=CO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=AO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(jT,qT,ZT),this._renderer.xr.enabled=KT,e.scissorTest=!1,__(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ad||e.mapping===kp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),jT=this._renderer.getRenderTarget(),qT=this._renderer.getActiveCubeFace(),ZT=this._renderer.getActiveMipmapLevel(),KT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:xs,minFilter:xs,generateMipmaps:!1,type:Sv,format:Io,colorSpace:Bp,depthBuffer:!1},r=MO(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=MO(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=RQ(a)),this._blurMaterial=DQ(a,e,t)}return r}_compileMaterial(e){const t=new as(this._lodPlanes[0],e);this._renderer.compile(t,YT)}_sceneToCubeUV(e,t,i,r,a){const c=new Us(90,1,t,i),f=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,v=g.toneMapping;g.getClearColor(TO),g.toneMapping=Eh,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(r),g.clearDepth(),g.setRenderTarget(null));const D=new Wp({name:"PMREM.Background",side:gl,depthWrite:!1,depthTest:!1}),M=new as(new Eg,D);let S=!1;const N=e.background;N?N.isColor&&(D.color.copy(N),e.background=null,S=!0):(D.color.copy(TO),S=!0);for(let P=0;P<6;P++){const U=P%3;U===0?(c.up.set(0,f[P],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x+p[P],a.y,a.z)):U===1?(c.up.set(0,0,f[P]),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y+p[P],a.z)):(c.up.set(0,f[P],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y,a.z+p[P]));const X=this._cubeSize;__(r,U*X,P>2?X:0,X,X),g.setRenderTarget(r),S&&g.render(M,c),g.render(e,c)}M.geometry.dispose(),M.material.dispose(),g.toneMapping=v,g.autoClear=y,e.background=N}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Ad||e.mapping===kp;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=CO()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=AO());const a=r?this._cubemapMaterial:this._equirectMaterial,s=new as(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=e;const c=this._cubeSize;__(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(s,YT)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=wO[(r-a-1)%wO.length];this._blur(e,a-1,a,s,l)}t.autoClear=i}_blur(e,t,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,s,l){const c=this._renderer,f=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,g=new as(this._lodPlanes[r],f),y=f.uniforms,v=this._sizeLods[i]-1,_=isFinite(a)?Math.PI/(2*v):2*Math.PI/(2*jm-1),D=a/_,M=isFinite(a)?1+Math.floor(p*D):jm;M>jm&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${jm}`);const S=[];let N=0;for(let G=0;G<jm;++G){const W=G/D,B=Math.exp(-W*W/2);S.push(B),G===0?N+=B:G<M&&(N+=2*B)}for(let G=0;G<S.length;G++)S[G]=S[G]/N;y.envMap.value=e.texture,y.samples.value=M,y.weights.value=S,y.latitudinal.value=s==="latitudinal",l&&(y.poleAxis.value=l);const{_lodMax:P}=this;y.dTheta.value=_,y.mipInt.value=P-i;const U=this._sizeLods[r],X=3*U*(r>P-Iy?r-P+Iy:0),H=4*(this._cubeSize-U);__(t,X,H,3*U,2*U),c.setRenderTarget(t),c.render(g,YT)}}function RQ(n){const e=[],t=[],i=[];let r=n;const a=n-Iy+1+EO.length;for(let s=0;s<a;s++){const l=Math.pow(2,r);t.push(l);let c=1/l;s>n-Iy?c=EO[s-n+Iy-1]:s===0&&(c=0),i.push(c);const f=1/(l-2),p=-f,g=1+f,y=[p,p,g,p,g,g,p,p,g,g,p,g],v=6,_=6,D=3,M=2,S=1,N=new Float32Array(D*_*v),P=new Float32Array(M*_*v),U=new Float32Array(S*_*v);for(let H=0;H<v;H++){const G=H%3*2/3-1,W=H>2?0:-1,B=[G,W,0,G+2/3,W,0,G+2/3,W+1,0,G,W,0,G+2/3,W+1,0,G,W+1,0];N.set(B,D*_*H),P.set(y,M*_*H);const I=[H,H,H,H,H,H];U.set(I,S*_*H)}const X=new Qn;X.setAttribute("position",new lr(N,D)),X.setAttribute("uv",new lr(P,M)),X.setAttribute("faceIndex",new lr(U,S)),e.push(X),r>Iy&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function MO(n,e,t){const i=new wh(n,e,t);return i.texture.mapping=_v,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function __(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function DQ(n,e,t){const i=new Float32Array(jm),r=new de(0,1,0);return new Dc({name:"SphericalGaussianBlur",defines:{n:jm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:QC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:xd,depthTest:!1,depthWrite:!1})}function AO(){return new Dc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:QC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:xd,depthTest:!1,depthWrite:!1})}function CO(){return new Dc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:QC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:xd,depthTest:!1,depthWrite:!1})}function QC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function OQ(n){let e=new WeakMap,t=null;function i(l){if(l&&l.isTexture){const c=l.mapping,f=c===nx||c===ix,p=c===Ad||c===kp;if(f||p){let g=e.get(l);const y=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==y)return t===null&&(t=new XM(n)),g=f?t.fromEquirectangular(l,g):t.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const v=l.image;return f&&v&&v.height>0||p&&v&&r(v)?(t===null&&(t=new XM(n)),g=f?t.fromEquirectangular(l):t.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",a),g.texture):null}}}return l}function r(l){let c=0;const f=6;for(let p=0;p<f;p++)l[p]!==void 0&&c++;return c===f}function a(l){const c=l.target;c.removeEventListener("dispose",a);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:s}}function PQ(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&fx("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function LQ(n,e,t,i){const r={},a=new WeakMap;function s(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);y.removeEventListener("dispose",s),delete r[y.id];const v=a.get(y);v&&(e.remove(v),a.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function l(g,y){return r[y.id]===!0||(y.addEventListener("dispose",s),r[y.id]=!0,t.memory.geometries++),y}function c(g){const y=g.attributes;for(const v in y)e.update(y[v],n.ARRAY_BUFFER)}function f(g){const y=[],v=g.index,_=g.attributes.position;let D=0;if(v!==null){const N=v.array;D=v.version;for(let P=0,U=N.length;P<U;P+=3){const X=N[P+0],H=N[P+1],G=N[P+2];y.push(X,H,H,G,G,X)}}else if(_!==void 0){const N=_.array;D=_.version;for(let P=0,U=N.length/3-1;P<U;P+=3){const X=P+0,H=P+1,G=P+2;y.push(X,H,H,G,G,X)}}else return;const M=new(d4(y)?TC:EC)(y,1);M.version=D;const S=a.get(g);S&&e.remove(S),a.set(g,M)}function p(g){const y=a.get(g);if(y){const v=g.index;v!==null&&y.version<v.version&&f(g)}else f(g);return a.get(g)}return{get:l,update:c,getWireframeAttribute:p}}function NQ(n,e,t){let i;function r(y){i=y}let a,s;function l(y){a=y.type,s=y.bytesPerElement}function c(y,v){n.drawElements(i,v,a,y*s),t.update(v,i,1)}function f(y,v,_){_!==0&&(n.drawElementsInstanced(i,v,a,y*s,_),t.update(v,i,_))}function p(y,v,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,a,y,0,_);let M=0;for(let S=0;S<_;S++)M+=v[S];t.update(M,i,1)}function g(y,v,_,D){if(_===0)return;const M=e.get("WEBGL_multi_draw");if(M===null)for(let S=0;S<y.length;S++)f(y[S]/s,v[S],D[S]);else{M.multiDrawElementsInstancedWEBGL(i,v,0,a,y,0,D,0,_);let S=0;for(let N=0;N<_;N++)S+=v[N]*D[N];t.update(S,i,1)}}this.setMode=r,this.setIndex=l,this.render=c,this.renderInstances=f,this.renderMultiDraw=p,this.renderMultiDrawInstances=g}function UQ(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,l){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=l*(a/3);break;case n.LINES:t.lines+=l*(a/2);break;case n.LINE_STRIP:t.lines+=l*(a-1);break;case n.LINE_LOOP:t.lines+=l*a;break;case n.POINTS:t.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function IQ(n,e,t){const i=new WeakMap,r=new Di;function a(s,l,c){const f=s.morphTargetInfluences,p=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=p!==void 0?p.length:0;let y=i.get(l);if(y===void 0||y.count!==g){let I=function(){W.dispose(),i.delete(l),l.removeEventListener("dispose",I)};var v=I;y!==void 0&&y.texture.dispose();const _=l.morphAttributes.position!==void 0,D=l.morphAttributes.normal!==void 0,M=l.morphAttributes.color!==void 0,S=l.morphAttributes.position||[],N=l.morphAttributes.normal||[],P=l.morphAttributes.color||[];let U=0;_===!0&&(U=1),D===!0&&(U=2),M===!0&&(U=3);let X=l.attributes.position.count*U,H=1;X>e.maxTextureSize&&(H=Math.ceil(X/e.maxTextureSize),X=e.maxTextureSize);const G=new Float32Array(X*H*4*g),W=new R1(G,X,H,g);W.type=eu,W.needsUpdate=!0;const B=U*4;for(let Z=0;Z<g;Z++){const ae=S[Z],se=N[Z],ge=P[Z],xe=X*H*4*Z;for(let ee=0;ee<ae.count;ee++){const le=ee*B;_===!0&&(r.fromBufferAttribute(ae,ee),G[xe+le+0]=r.x,G[xe+le+1]=r.y,G[xe+le+2]=r.z,G[xe+le+3]=0),D===!0&&(r.fromBufferAttribute(se,ee),G[xe+le+4]=r.x,G[xe+le+5]=r.y,G[xe+le+6]=r.z,G[xe+le+7]=0),M===!0&&(r.fromBufferAttribute(ge,ee),G[xe+le+8]=r.x,G[xe+le+9]=r.y,G[xe+le+10]=r.z,G[xe+le+11]=ge.itemSize===4?r.w:1)}}y={count:g,texture:W,size:new xt(X,H)},i.set(l,y),l.addEventListener("dispose",I)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)c.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let _=0;for(let M=0;M<f.length;M++)_+=f[M];const D=l.morphTargetsRelative?1:1-_;c.getUniforms().setValue(n,"morphTargetBaseInfluence",D),c.getUniforms().setValue(n,"morphTargetInfluences",f)}c.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),c.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:a}}function zQ(n,e,t,i){let r=new WeakMap;function a(c){const f=i.render.frame,p=c.geometry,g=e.get(c,p);if(r.get(g)!==f&&(e.update(g),r.set(g,f)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),r.get(c)!==f&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,f))),c.isSkinnedMesh){const y=c.skeleton;r.get(y)!==f&&(y.update(),r.set(y,f))}return g}function s(){r=new WeakMap}function l(c){const f=c.target;f.removeEventListener("dispose",l),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:a,dispose:s}}const bz=new Da,RO=new RC(1,1),_z=new R1,Sz=new D1,Ez=new Hx,DO=[],OO=[],PO=new Float32Array(16),LO=new Float32Array(9),NO=new Float32Array(4);function Mv(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=DO[r];if(a===void 0&&(a=new Float32Array(r),DO[r]=a),e!==0){i.toArray(a,0);for(let s=1,l=0;s!==e;++s)l+=t,n[s].toArray(a,l)}return a}function bs(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function _s(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function J1(n,e){let t=OO[e];t===void 0&&(t=new Int32Array(e),OO[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function kQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function BQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(bs(t,e))return;n.uniform2fv(this.addr,e),_s(t,e)}}function FQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(bs(t,e))return;n.uniform3fv(this.addr,e),_s(t,e)}}function HQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(bs(t,e))return;n.uniform4fv(this.addr,e),_s(t,e)}}function VQ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(bs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),_s(t,e)}else{if(bs(t,i))return;NO.set(i),n.uniformMatrix2fv(this.addr,!1,NO),_s(t,i)}}function GQ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(bs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),_s(t,e)}else{if(bs(t,i))return;LO.set(i),n.uniformMatrix3fv(this.addr,!1,LO),_s(t,i)}}function XQ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(bs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),_s(t,e)}else{if(bs(t,i))return;PO.set(i),n.uniformMatrix4fv(this.addr,!1,PO),_s(t,i)}}function WQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function YQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(bs(t,e))return;n.uniform2iv(this.addr,e),_s(t,e)}}function jQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(bs(t,e))return;n.uniform3iv(this.addr,e),_s(t,e)}}function qQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(bs(t,e))return;n.uniform4iv(this.addr,e),_s(t,e)}}function ZQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function KQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(bs(t,e))return;n.uniform2uiv(this.addr,e),_s(t,e)}}function QQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(bs(t,e))return;n.uniform3uiv(this.addr,e),_s(t,e)}}function JQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(bs(t,e))return;n.uniform4uiv(this.addr,e),_s(t,e)}}function $Q(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(RO.compareFunction=bC,a=RO):a=bz,t.setTexture2D(e||a,r)}function eJ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||Sz,r)}function tJ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||Ez,r)}function nJ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||_z,r)}function iJ(n){switch(n){case 5126:return kQ;case 35664:return BQ;case 35665:return FQ;case 35666:return HQ;case 35674:return VQ;case 35675:return GQ;case 35676:return XQ;case 5124:case 35670:return WQ;case 35667:case 35671:return YQ;case 35668:case 35672:return jQ;case 35669:case 35673:return qQ;case 5125:return ZQ;case 36294:return KQ;case 36295:return QQ;case 36296:return JQ;case 35678:case 36198:case 36298:case 36306:case 35682:return $Q;case 35679:case 36299:case 36307:return eJ;case 35680:case 36300:case 36308:case 36293:return tJ;case 36289:case 36303:case 36311:case 36292:return nJ}}function rJ(n,e){n.uniform1fv(this.addr,e)}function aJ(n,e){const t=Mv(e,this.size,2);n.uniform2fv(this.addr,t)}function sJ(n,e){const t=Mv(e,this.size,3);n.uniform3fv(this.addr,t)}function oJ(n,e){const t=Mv(e,this.size,4);n.uniform4fv(this.addr,t)}function lJ(n,e){const t=Mv(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function uJ(n,e){const t=Mv(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function cJ(n,e){const t=Mv(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function fJ(n,e){n.uniform1iv(this.addr,e)}function hJ(n,e){n.uniform2iv(this.addr,e)}function dJ(n,e){n.uniform3iv(this.addr,e)}function pJ(n,e){n.uniform4iv(this.addr,e)}function mJ(n,e){n.uniform1uiv(this.addr,e)}function gJ(n,e){n.uniform2uiv(this.addr,e)}function yJ(n,e){n.uniform3uiv(this.addr,e)}function vJ(n,e){n.uniform4uiv(this.addr,e)}function xJ(n,e,t){const i=this.cache,r=e.length,a=J1(t,r);bs(i,a)||(n.uniform1iv(this.addr,a),_s(i,a));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||bz,a[s])}function bJ(n,e,t){const i=this.cache,r=e.length,a=J1(t,r);bs(i,a)||(n.uniform1iv(this.addr,a),_s(i,a));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||Sz,a[s])}function _J(n,e,t){const i=this.cache,r=e.length,a=J1(t,r);bs(i,a)||(n.uniform1iv(this.addr,a),_s(i,a));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||Ez,a[s])}function SJ(n,e,t){const i=this.cache,r=e.length,a=J1(t,r);bs(i,a)||(n.uniform1iv(this.addr,a),_s(i,a));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||_z,a[s])}function EJ(n){switch(n){case 5126:return rJ;case 35664:return aJ;case 35665:return sJ;case 35666:return oJ;case 35674:return lJ;case 35675:return uJ;case 35676:return cJ;case 5124:case 35670:return fJ;case 35667:case 35671:return hJ;case 35668:case 35672:return dJ;case 35669:case 35673:return pJ;case 5125:return mJ;case 36294:return gJ;case 36295:return yJ;case 36296:return vJ;case 35678:case 36198:case 36298:case 36306:case 35682:return xJ;case 35679:case 36299:case 36307:return bJ;case 35680:case 36300:case 36308:case 36293:return _J;case 36289:case 36303:case 36311:case 36292:return SJ}}class TJ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=iJ(t.type)}}class wJ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=EJ(t.type)}}class MJ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const l=r[a];l.setValue(e,t[l.id],i)}}}const QT=/(\w+)(\])?(\[|\.)?/g;function UO(n,e){n.seq.push(e),n.map[e.id]=e}function AJ(n,e,t){const i=n.name,r=i.length;for(QT.lastIndex=0;;){const a=QT.exec(i),s=QT.lastIndex;let l=a[1];const c=a[2]==="]",f=a[3];if(c&&(l=l|0),f===void 0||f==="["&&s+2===r){UO(t,f===void 0?new TJ(l,n,e):new wJ(l,n,e));break}else{let g=t.map[l];g===void 0&&(g=new MJ(l),UO(t,g)),t=g}}}class F_{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r),s=e.getUniformLocation(t,a.name);AJ(a,s,this)}}setValue(e,t,i,r){const a=this.map[t];a!==void 0&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,s=t.length;a!==s;++a){const l=t[a],c=i[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in t&&i.push(s)}return i}}function IO(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const CJ=37297;let RJ=0;function DJ(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=r;s<a;s++){const l=s+1;i.push(`${l===e?">":" "} ${l}: ${t[s]}`)}return i.join(`
`)}const zO=new Xn;function OJ(n){xi._getMatrix(zO,xi.workingColorSpace,n);const e=`mat3( ${zO.elements.map(t=>t.toFixed(4))} )`;switch(xi.getTransfer(n)){case lx:return[e,"LinearTransferOETF"];case nr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function kO(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),a=(n.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const l=parseInt(s[1]);return t.toUpperCase()+`

`+a+`

`+DJ(n.getShaderSource(e),l)}else return a}function PJ(n,e){const t=OJ(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function LJ(n,e){let t;switch(e){case jI:t="Linear";break;case qI:t="Reinhard";break;case ZI:t="Cineon";break;case cC:t="ACESFilmic";break;case QI:t="AgX";break;case JI:t="Neutral";break;case KI:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const S_=new de;function NJ(){xi.getLuminanceCoefficients(S_);const n=S_.x.toFixed(4),e=S_.y.toFixed(4),t=S_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function UJ(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(S0).join(`
`)}function IJ(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function zJ(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),s=a.name;let l=1;a.type===n.FLOAT_MAT2&&(l=2),a.type===n.FLOAT_MAT3&&(l=3),a.type===n.FLOAT_MAT4&&(l=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:l}}return t}function S0(n){return n!==""}function BO(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function FO(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const kJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function WM(n){return n.replace(kJ,FJ)}const BJ=new Map;function FJ(n,e){let t=ti[e];if(t===void 0){const i=BJ.get(e);if(i!==void 0)t=ti[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return WM(t)}const HJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function HO(n){return n.replace(HJ,VJ)}function VJ(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function VO(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function GJ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===b1?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===P0?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===mf&&(e="SHADOWMAP_TYPE_VSM"),e}function XJ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ad:case kp:e="ENVMAP_TYPE_CUBE";break;case _v:e="ENVMAP_TYPE_CUBE_UV";break}return e}function WJ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case kp:e="ENVMAP_MODE_REFRACTION";break}return e}function YJ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Bx:e="ENVMAP_BLENDING_MULTIPLY";break;case WI:e="ENVMAP_BLENDING_MIX";break;case YI:e="ENVMAP_BLENDING_ADD";break}return e}function jJ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function qJ(n,e,t,i){const r=n.getContext(),a=t.defines;let s=t.vertexShader,l=t.fragmentShader;const c=GJ(t),f=XJ(t),p=WJ(t),g=YJ(t),y=jJ(t),v=UJ(t),_=IJ(a),D=r.createProgram();let M,S,N=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(S0).join(`
`),M.length>0&&(M+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(S0).join(`
`),S.length>0&&(S+=`
`)):(M=[VO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(S0).join(`
`),S=[VO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Eh?"#define TONE_MAPPING":"",t.toneMapping!==Eh?ti.tonemapping_pars_fragment:"",t.toneMapping!==Eh?LJ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ti.colorspace_pars_fragment,PJ("linearToOutputTexel",t.outputColorSpace),NJ(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(S0).join(`
`)),s=WM(s),s=BO(s,t),s=FO(s,t),l=WM(l),l=BO(l,t),l=FO(l,t),s=HO(s),l=HO(l),t.isRawShaderMaterial!==!0&&(N=`#version 300 es
`,M=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,S=["#define varying in",t.glslVersion===IM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===IM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const P=N+M+s,U=N+S+l,X=IO(r,r.VERTEX_SHADER,P),H=IO(r,r.FRAGMENT_SHADER,U);r.attachShader(D,X),r.attachShader(D,H),t.index0AttributeName!==void 0?r.bindAttribLocation(D,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(D,0,"position"),r.linkProgram(D);function G(Z){if(n.debug.checkShaderErrors){const ae=r.getProgramInfoLog(D)||"",se=r.getShaderInfoLog(X)||"",ge=r.getShaderInfoLog(H)||"",xe=ae.trim(),ee=se.trim(),le=ge.trim();let ve=!0,pe=!0;if(r.getProgramParameter(D,r.LINK_STATUS)===!1)if(ve=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,D,X,H);else{const F=kO(r,X,"vertex"),J=kO(r,H,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(D,r.VALIDATE_STATUS)+`

Material Name: `+Z.name+`
Material Type: `+Z.type+`

Program Info Log: `+xe+`
`+F+`
`+J)}else xe!==""?console.warn("THREE.WebGLProgram: Program Info Log:",xe):(ee===""||le==="")&&(pe=!1);pe&&(Z.diagnostics={runnable:ve,programLog:xe,vertexShader:{log:ee,prefix:M},fragmentShader:{log:le,prefix:S}})}r.deleteShader(X),r.deleteShader(H),W=new F_(r,D),B=zJ(r,D)}let W;this.getUniforms=function(){return W===void 0&&G(this),W};let B;this.getAttributes=function(){return B===void 0&&G(this),B};let I=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=r.getProgramParameter(D,CJ)),I},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(D),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=RJ++,this.cacheKey=e,this.usedTimes=1,this.program=D,this.vertexShader=X,this.fragmentShader=H,this}let ZJ=0;class KJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new QJ(e),t.set(e,i)),i}}class QJ{constructor(e){this.id=ZJ++,this.code=e,this.usedTimes=0}}function JJ(n,e,t,i,r,a,s){const l=new ov,c=new KJ,f=new Set,p=[],g=r.logarithmicDepthBuffer,y=r.vertexTextures;let v=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function D(B){return f.add(B),B===0?"uv":`uv${B}`}function M(B,I,Z,ae,se){const ge=ae.fog,xe=se.geometry,ee=B.isMeshStandardMaterial?ae.environment:null,le=(B.isMeshStandardMaterial?t:e).get(B.envMap||ee),ve=le&&le.mapping===_v?le.image.height:null,pe=_[B.type];B.precision!==null&&(v=r.getMaxPrecision(B.precision),v!==B.precision&&console.warn("THREE.WebGLProgram.getParameters:",B.precision,"not supported, using",v,"instead."));const F=xe.morphAttributes.position||xe.morphAttributes.normal||xe.morphAttributes.color,J=F!==void 0?F.length:0;let Le=0;xe.morphAttributes.position!==void 0&&(Le=1),xe.morphAttributes.normal!==void 0&&(Le=2),xe.morphAttributes.color!==void 0&&(Le=3);let te,Oe,tt,Te;if(pe){const bn=xf[pe];te=bn.vertexShader,Oe=bn.fragmentShader}else te=B.vertexShader,Oe=B.fragmentShader,c.update(B),tt=c.getVertexShaderID(B),Te=c.getFragmentShaderID(B);const je=n.getRenderTarget(),$e=n.state.buffers.depth.getReversed(),St=se.isInstancedMesh===!0,ut=se.isBatchedMesh===!0,Yt=!!B.map,kt=!!B.matcap,ye=!!le,ct=!!B.aoMap,Qe=!!B.lightMap,et=!!B.bumpMap,Je=!!B.normalMap,Ct=!!B.displacementMap,yt=!!B.emissiveMap,mt=!!B.metalnessMap,Rt=!!B.roughnessMap,on=B.anisotropy>0,he=B.clearcoat>0,$=B.dispersion>0,Ue=B.iridescence>0,me=B.sheen>0,De=B.transmission>0,Ie=on&&!!B.anisotropyMap,bt=he&&!!B.clearcoatMap,it=he&&!!B.clearcoatNormalMap,zt=he&&!!B.clearcoatRoughnessMap,Xt=Ue&&!!B.iridescenceMap,lt=Ue&&!!B.iridescenceThicknessMap,at=me&&!!B.sheenColorMap,sn=me&&!!B.sheenRoughnessMap,Et=!!B.specularMap,gt=!!B.specularColorMap,ln=!!B.specularIntensityMap,Me=De&&!!B.transmissionMap,Dt=De&&!!B.thicknessMap,Lt=!!B.gradientMap,Zt=!!B.alphaMap,vt=B.alphaTest>0,ft=!!B.alphaHash,Wt=!!B.extensions;let $t=Eh;B.toneMapped&&(je===null||je.isXRRenderTarget===!0)&&($t=n.toneMapping);const Sn={shaderID:pe,shaderType:B.type,shaderName:B.name,vertexShader:te,fragmentShader:Oe,defines:B.defines,customVertexShaderID:tt,customFragmentShaderID:Te,isRawShaderMaterial:B.isRawShaderMaterial===!0,glslVersion:B.glslVersion,precision:v,batching:ut,batchingColor:ut&&se._colorsTexture!==null,instancing:St,instancingColor:St&&se.instanceColor!==null,instancingMorph:St&&se.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:je===null?n.outputColorSpace:je.isXRRenderTarget===!0?je.texture.colorSpace:Bp,alphaToCoverage:!!B.alphaToCoverage,map:Yt,matcap:kt,envMap:ye,envMapMode:ye&&le.mapping,envMapCubeUVHeight:ve,aoMap:ct,lightMap:Qe,bumpMap:et,normalMap:Je,displacementMap:y&&Ct,emissiveMap:yt,normalMapObjectSpace:Je&&B.normalMapType===a4,normalMapTangentSpace:Je&&B.normalMapType===Xp,metalnessMap:mt,roughnessMap:Rt,anisotropy:on,anisotropyMap:Ie,clearcoat:he,clearcoatMap:bt,clearcoatNormalMap:it,clearcoatRoughnessMap:zt,dispersion:$,iridescence:Ue,iridescenceMap:Xt,iridescenceThicknessMap:lt,sheen:me,sheenColorMap:at,sheenRoughnessMap:sn,specularMap:Et,specularColorMap:gt,specularIntensityMap:ln,transmission:De,transmissionMap:Me,thicknessMap:Dt,gradientMap:Lt,opaque:B.transparent===!1&&B.blending===fg&&B.alphaToCoverage===!1,alphaMap:Zt,alphaTest:vt,alphaHash:ft,combine:B.combine,mapUv:Yt&&D(B.map.channel),aoMapUv:ct&&D(B.aoMap.channel),lightMapUv:Qe&&D(B.lightMap.channel),bumpMapUv:et&&D(B.bumpMap.channel),normalMapUv:Je&&D(B.normalMap.channel),displacementMapUv:Ct&&D(B.displacementMap.channel),emissiveMapUv:yt&&D(B.emissiveMap.channel),metalnessMapUv:mt&&D(B.metalnessMap.channel),roughnessMapUv:Rt&&D(B.roughnessMap.channel),anisotropyMapUv:Ie&&D(B.anisotropyMap.channel),clearcoatMapUv:bt&&D(B.clearcoatMap.channel),clearcoatNormalMapUv:it&&D(B.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:zt&&D(B.clearcoatRoughnessMap.channel),iridescenceMapUv:Xt&&D(B.iridescenceMap.channel),iridescenceThicknessMapUv:lt&&D(B.iridescenceThicknessMap.channel),sheenColorMapUv:at&&D(B.sheenColorMap.channel),sheenRoughnessMapUv:sn&&D(B.sheenRoughnessMap.channel),specularMapUv:Et&&D(B.specularMap.channel),specularColorMapUv:gt&&D(B.specularColorMap.channel),specularIntensityMapUv:ln&&D(B.specularIntensityMap.channel),transmissionMapUv:Me&&D(B.transmissionMap.channel),thicknessMapUv:Dt&&D(B.thicknessMap.channel),alphaMapUv:Zt&&D(B.alphaMap.channel),vertexTangents:!!xe.attributes.tangent&&(Je||on),vertexColors:B.vertexColors,vertexAlphas:B.vertexColors===!0&&!!xe.attributes.color&&xe.attributes.color.itemSize===4,pointsUvs:se.isPoints===!0&&!!xe.attributes.uv&&(Yt||Zt),fog:!!ge,useFog:B.fog===!0,fogExp2:!!ge&&ge.isFogExp2,flatShading:B.flatShading===!0&&B.wireframe===!1,sizeAttenuation:B.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:$e,skinning:se.isSkinnedMesh===!0,morphTargets:xe.morphAttributes.position!==void 0,morphNormals:xe.morphAttributes.normal!==void 0,morphColors:xe.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:Le,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:B.dithering,shadowMapEnabled:n.shadowMap.enabled&&Z.length>0,shadowMapType:n.shadowMap.type,toneMapping:$t,decodeVideoTexture:Yt&&B.map.isVideoTexture===!0&&xi.getTransfer(B.map.colorSpace)===nr,decodeVideoTextureEmissive:yt&&B.emissiveMap.isVideoTexture===!0&&xi.getTransfer(B.emissiveMap.colorSpace)===nr,premultipliedAlpha:B.premultipliedAlpha,doubleSided:B.side===yh,flipSided:B.side===gl,useDepthPacking:B.depthPacking>=0,depthPacking:B.depthPacking||0,index0AttributeName:B.index0AttributeName,extensionClipCullDistance:Wt&&B.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Wt&&B.extensions.multiDraw===!0||ut)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:B.customProgramCacheKey()};return Sn.vertexUv1s=f.has(1),Sn.vertexUv2s=f.has(2),Sn.vertexUv3s=f.has(3),f.clear(),Sn}function S(B){const I=[];if(B.shaderID?I.push(B.shaderID):(I.push(B.customVertexShaderID),I.push(B.customFragmentShaderID)),B.defines!==void 0)for(const Z in B.defines)I.push(Z),I.push(B.defines[Z]);return B.isRawShaderMaterial===!1&&(N(I,B),P(I,B),I.push(n.outputColorSpace)),I.push(B.customProgramCacheKey),I.join()}function N(B,I){B.push(I.precision),B.push(I.outputColorSpace),B.push(I.envMapMode),B.push(I.envMapCubeUVHeight),B.push(I.mapUv),B.push(I.alphaMapUv),B.push(I.lightMapUv),B.push(I.aoMapUv),B.push(I.bumpMapUv),B.push(I.normalMapUv),B.push(I.displacementMapUv),B.push(I.emissiveMapUv),B.push(I.metalnessMapUv),B.push(I.roughnessMapUv),B.push(I.anisotropyMapUv),B.push(I.clearcoatMapUv),B.push(I.clearcoatNormalMapUv),B.push(I.clearcoatRoughnessMapUv),B.push(I.iridescenceMapUv),B.push(I.iridescenceThicknessMapUv),B.push(I.sheenColorMapUv),B.push(I.sheenRoughnessMapUv),B.push(I.specularMapUv),B.push(I.specularColorMapUv),B.push(I.specularIntensityMapUv),B.push(I.transmissionMapUv),B.push(I.thicknessMapUv),B.push(I.combine),B.push(I.fogExp2),B.push(I.sizeAttenuation),B.push(I.morphTargetsCount),B.push(I.morphAttributeCount),B.push(I.numDirLights),B.push(I.numPointLights),B.push(I.numSpotLights),B.push(I.numSpotLightMaps),B.push(I.numHemiLights),B.push(I.numRectAreaLights),B.push(I.numDirLightShadows),B.push(I.numPointLightShadows),B.push(I.numSpotLightShadows),B.push(I.numSpotLightShadowsWithMaps),B.push(I.numLightProbes),B.push(I.shadowMapType),B.push(I.toneMapping),B.push(I.numClippingPlanes),B.push(I.numClipIntersection),B.push(I.depthPacking)}function P(B,I){l.disableAll(),I.supportsVertexTextures&&l.enable(0),I.instancing&&l.enable(1),I.instancingColor&&l.enable(2),I.instancingMorph&&l.enable(3),I.matcap&&l.enable(4),I.envMap&&l.enable(5),I.normalMapObjectSpace&&l.enable(6),I.normalMapTangentSpace&&l.enable(7),I.clearcoat&&l.enable(8),I.iridescence&&l.enable(9),I.alphaTest&&l.enable(10),I.vertexColors&&l.enable(11),I.vertexAlphas&&l.enable(12),I.vertexUv1s&&l.enable(13),I.vertexUv2s&&l.enable(14),I.vertexUv3s&&l.enable(15),I.vertexTangents&&l.enable(16),I.anisotropy&&l.enable(17),I.alphaHash&&l.enable(18),I.batching&&l.enable(19),I.dispersion&&l.enable(20),I.batchingColor&&l.enable(21),I.gradientMap&&l.enable(22),B.push(l.mask),l.disableAll(),I.fog&&l.enable(0),I.useFog&&l.enable(1),I.flatShading&&l.enable(2),I.logarithmicDepthBuffer&&l.enable(3),I.reversedDepthBuffer&&l.enable(4),I.skinning&&l.enable(5),I.morphTargets&&l.enable(6),I.morphNormals&&l.enable(7),I.morphColors&&l.enable(8),I.premultipliedAlpha&&l.enable(9),I.shadowMapEnabled&&l.enable(10),I.doubleSided&&l.enable(11),I.flipSided&&l.enable(12),I.useDepthPacking&&l.enable(13),I.dithering&&l.enable(14),I.transmission&&l.enable(15),I.sheen&&l.enable(16),I.opaque&&l.enable(17),I.pointsUvs&&l.enable(18),I.decodeVideoTexture&&l.enable(19),I.decodeVideoTextureEmissive&&l.enable(20),I.alphaToCoverage&&l.enable(21),B.push(l.mask)}function U(B){const I=_[B.type];let Z;if(I){const ae=xf[I];Z=v4.clone(ae.uniforms)}else Z=B.uniforms;return Z}function X(B,I){let Z;for(let ae=0,se=p.length;ae<se;ae++){const ge=p[ae];if(ge.cacheKey===I){Z=ge,++Z.usedTimes;break}}return Z===void 0&&(Z=new qJ(n,I,B,a),p.push(Z)),Z}function H(B){if(--B.usedTimes===0){const I=p.indexOf(B);p[I]=p[p.length-1],p.pop(),B.destroy()}}function G(B){c.remove(B)}function W(){c.dispose()}return{getParameters:M,getProgramCacheKey:S,getUniforms:U,acquireProgram:X,releaseProgram:H,releaseShaderCache:G,programs:p,dispose:W}}function $J(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let l=n.get(s);return l===void 0&&(l={},n.set(s,l)),l}function i(s){n.delete(s)}function r(s,l,c){n.get(s)[l]=c}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:a}}function e$(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function GO(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function XO(){const n=[];let e=0;const t=[],i=[],r=[];function a(){e=0,t.length=0,i.length=0,r.length=0}function s(g,y,v,_,D,M){let S=n[e];return S===void 0?(S={id:g.id,object:g,geometry:y,material:v,groupOrder:_,renderOrder:g.renderOrder,z:D,group:M},n[e]=S):(S.id=g.id,S.object=g,S.geometry=y,S.material=v,S.groupOrder=_,S.renderOrder=g.renderOrder,S.z=D,S.group=M),e++,S}function l(g,y,v,_,D,M){const S=s(g,y,v,_,D,M);v.transmission>0?i.push(S):v.transparent===!0?r.push(S):t.push(S)}function c(g,y,v,_,D,M){const S=s(g,y,v,_,D,M);v.transmission>0?i.unshift(S):v.transparent===!0?r.unshift(S):t.unshift(S)}function f(g,y){t.length>1&&t.sort(g||e$),i.length>1&&i.sort(y||GO),r.length>1&&r.sort(y||GO)}function p(){for(let g=e,y=n.length;g<y;g++){const v=n[g];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:i,transparent:r,init:a,push:l,unshift:c,finish:p,sort:f}}function t$(){let n=new WeakMap;function e(i,r){const a=n.get(i);let s;return a===void 0?(s=new XO,n.set(i,[s])):r>=a.length?(s=new XO,a.push(s)):s=a[r],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function n$(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new de,color:new tn};break;case"SpotLight":t={position:new de,direction:new de,color:new tn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new de,color:new tn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new de,skyColor:new tn,groundColor:new tn};break;case"RectAreaLight":t={color:new tn,position:new de,halfWidth:new de,halfHeight:new de};break}return n[e.id]=t,t}}}function i$(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let r$=0;function a$(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function s$(n){const e=new n$,t=i$(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new de);const r=new de,a=new Ln,s=new Ln;function l(f){let p=0,g=0,y=0;for(let B=0;B<9;B++)i.probe[B].set(0,0,0);let v=0,_=0,D=0,M=0,S=0,N=0,P=0,U=0,X=0,H=0,G=0;f.sort(a$);for(let B=0,I=f.length;B<I;B++){const Z=f[B],ae=Z.color,se=Z.intensity,ge=Z.distance,xe=Z.shadow&&Z.shadow.map?Z.shadow.map.texture:null;if(Z.isAmbientLight)p+=ae.r*se,g+=ae.g*se,y+=ae.b*se;else if(Z.isLightProbe){for(let ee=0;ee<9;ee++)i.probe[ee].addScaledVector(Z.sh.coefficients[ee],se);G++}else if(Z.isDirectionalLight){const ee=e.get(Z);if(ee.color.copy(Z.color).multiplyScalar(Z.intensity),Z.castShadow){const le=Z.shadow,ve=t.get(Z);ve.shadowIntensity=le.intensity,ve.shadowBias=le.bias,ve.shadowNormalBias=le.normalBias,ve.shadowRadius=le.radius,ve.shadowMapSize=le.mapSize,i.directionalShadow[v]=ve,i.directionalShadowMap[v]=xe,i.directionalShadowMatrix[v]=Z.shadow.matrix,N++}i.directional[v]=ee,v++}else if(Z.isSpotLight){const ee=e.get(Z);ee.position.setFromMatrixPosition(Z.matrixWorld),ee.color.copy(ae).multiplyScalar(se),ee.distance=ge,ee.coneCos=Math.cos(Z.angle),ee.penumbraCos=Math.cos(Z.angle*(1-Z.penumbra)),ee.decay=Z.decay,i.spot[D]=ee;const le=Z.shadow;if(Z.map&&(i.spotLightMap[X]=Z.map,X++,le.updateMatrices(Z),Z.castShadow&&H++),i.spotLightMatrix[D]=le.matrix,Z.castShadow){const ve=t.get(Z);ve.shadowIntensity=le.intensity,ve.shadowBias=le.bias,ve.shadowNormalBias=le.normalBias,ve.shadowRadius=le.radius,ve.shadowMapSize=le.mapSize,i.spotShadow[D]=ve,i.spotShadowMap[D]=xe,U++}D++}else if(Z.isRectAreaLight){const ee=e.get(Z);ee.color.copy(ae).multiplyScalar(se),ee.halfWidth.set(Z.width*.5,0,0),ee.halfHeight.set(0,Z.height*.5,0),i.rectArea[M]=ee,M++}else if(Z.isPointLight){const ee=e.get(Z);if(ee.color.copy(Z.color).multiplyScalar(Z.intensity),ee.distance=Z.distance,ee.decay=Z.decay,Z.castShadow){const le=Z.shadow,ve=t.get(Z);ve.shadowIntensity=le.intensity,ve.shadowBias=le.bias,ve.shadowNormalBias=le.normalBias,ve.shadowRadius=le.radius,ve.shadowMapSize=le.mapSize,ve.shadowCameraNear=le.camera.near,ve.shadowCameraFar=le.camera.far,i.pointShadow[_]=ve,i.pointShadowMap[_]=xe,i.pointShadowMatrix[_]=Z.shadow.matrix,P++}i.point[_]=ee,_++}else if(Z.isHemisphereLight){const ee=e.get(Z);ee.skyColor.copy(Z.color).multiplyScalar(se),ee.groundColor.copy(Z.groundColor).multiplyScalar(se),i.hemi[S]=ee,S++}}M>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=qt.LTC_FLOAT_1,i.rectAreaLTC2=qt.LTC_FLOAT_2):(i.rectAreaLTC1=qt.LTC_HALF_1,i.rectAreaLTC2=qt.LTC_HALF_2)),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=y;const W=i.hash;(W.directionalLength!==v||W.pointLength!==_||W.spotLength!==D||W.rectAreaLength!==M||W.hemiLength!==S||W.numDirectionalShadows!==N||W.numPointShadows!==P||W.numSpotShadows!==U||W.numSpotMaps!==X||W.numLightProbes!==G)&&(i.directional.length=v,i.spot.length=D,i.rectArea.length=M,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=N,i.directionalShadowMap.length=N,i.pointShadow.length=P,i.pointShadowMap.length=P,i.spotShadow.length=U,i.spotShadowMap.length=U,i.directionalShadowMatrix.length=N,i.pointShadowMatrix.length=P,i.spotLightMatrix.length=U+X-H,i.spotLightMap.length=X,i.numSpotLightShadowsWithMaps=H,i.numLightProbes=G,W.directionalLength=v,W.pointLength=_,W.spotLength=D,W.rectAreaLength=M,W.hemiLength=S,W.numDirectionalShadows=N,W.numPointShadows=P,W.numSpotShadows=U,W.numSpotMaps=X,W.numLightProbes=G,i.version=r$++)}function c(f,p){let g=0,y=0,v=0,_=0,D=0;const M=p.matrixWorldInverse;for(let S=0,N=f.length;S<N;S++){const P=f[S];if(P.isDirectionalLight){const U=i.directional[g];U.direction.setFromMatrixPosition(P.matrixWorld),r.setFromMatrixPosition(P.target.matrixWorld),U.direction.sub(r),U.direction.transformDirection(M),g++}else if(P.isSpotLight){const U=i.spot[v];U.position.setFromMatrixPosition(P.matrixWorld),U.position.applyMatrix4(M),U.direction.setFromMatrixPosition(P.matrixWorld),r.setFromMatrixPosition(P.target.matrixWorld),U.direction.sub(r),U.direction.transformDirection(M),v++}else if(P.isRectAreaLight){const U=i.rectArea[_];U.position.setFromMatrixPosition(P.matrixWorld),U.position.applyMatrix4(M),s.identity(),a.copy(P.matrixWorld),a.premultiply(M),s.extractRotation(a),U.halfWidth.set(P.width*.5,0,0),U.halfHeight.set(0,P.height*.5,0),U.halfWidth.applyMatrix4(s),U.halfHeight.applyMatrix4(s),_++}else if(P.isPointLight){const U=i.point[y];U.position.setFromMatrixPosition(P.matrixWorld),U.position.applyMatrix4(M),y++}else if(P.isHemisphereLight){const U=i.hemi[D];U.direction.setFromMatrixPosition(P.matrixWorld),U.direction.transformDirection(M),D++}}}return{setup:l,setupView:c,state:i}}function WO(n){const e=new s$(n),t=[],i=[];function r(p){f.camera=p,t.length=0,i.length=0}function a(p){t.push(p)}function s(p){i.push(p)}function l(){e.setup(t)}function c(p){e.setupView(t,p)}const f={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function o$(n){let e=new WeakMap;function t(r,a=0){const s=e.get(r);let l;return s===void 0?(l=new WO(n),e.set(r,[l])):a>=s.length?(l=new WO(n),s.push(l)):l=s[a],l}function i(){e=new WeakMap}return{get:t,dispose:i}}const l$=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,u$=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function c$(n,e,t){let i=new Tv;const r=new xt,a=new xt,s=new Di,l=new kC({depthPacking:r4}),c=new BC,f={},p=t.maxTextureSize,g={[Md]:gl,[gl]:Md,[yh]:yh},y=new Dc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xt},radius:{value:4}},vertexShader:l$,fragmentShader:u$}),v=y.clone();v.defines.HORIZONTAL_PASS=1;const _=new Qn;_.setAttribute("position",new lr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const D=new as(_,y),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=b1;let S=this.type;this.render=function(H,G,W){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||H.length===0)return;const B=n.getRenderTarget(),I=n.getActiveCubeFace(),Z=n.getActiveMipmapLevel(),ae=n.state;ae.setBlending(xd),ae.buffers.depth.getReversed()===!0?ae.buffers.color.setClear(0,0,0,0):ae.buffers.color.setClear(1,1,1,1),ae.buffers.depth.setTest(!0),ae.setScissorTest(!1);const se=S!==mf&&this.type===mf,ge=S===mf&&this.type!==mf;for(let xe=0,ee=H.length;xe<ee;xe++){const le=H[xe],ve=le.shadow;if(ve===void 0){console.warn("THREE.WebGLShadowMap:",le,"has no shadow.");continue}if(ve.autoUpdate===!1&&ve.needsUpdate===!1)continue;r.copy(ve.mapSize);const pe=ve.getFrameExtents();if(r.multiply(pe),a.copy(ve.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(a.x=Math.floor(p/pe.x),r.x=a.x*pe.x,ve.mapSize.x=a.x),r.y>p&&(a.y=Math.floor(p/pe.y),r.y=a.y*pe.y,ve.mapSize.y=a.y)),ve.map===null||se===!0||ge===!0){const J=this.type!==mf?{minFilter:so,magFilter:so}:{};ve.map!==null&&ve.map.dispose(),ve.map=new wh(r.x,r.y,J),ve.map.texture.name=le.name+".shadowMap",ve.camera.updateProjectionMatrix()}n.setRenderTarget(ve.map),n.clear();const F=ve.getViewportCount();for(let J=0;J<F;J++){const Le=ve.getViewport(J);s.set(a.x*Le.x,a.y*Le.y,a.x*Le.z,a.y*Le.w),ae.viewport(s),ve.updateMatrices(le,J),i=ve.getFrustum(),U(G,W,ve.camera,le,this.type)}ve.isPointLightShadow!==!0&&this.type===mf&&N(ve,W),ve.needsUpdate=!1}S=this.type,M.needsUpdate=!1,n.setRenderTarget(B,I,Z)};function N(H,G){const W=e.update(D);y.defines.VSM_SAMPLES!==H.blurSamples&&(y.defines.VSM_SAMPLES=H.blurSamples,v.defines.VSM_SAMPLES=H.blurSamples,y.needsUpdate=!0,v.needsUpdate=!0),H.mapPass===null&&(H.mapPass=new wh(r.x,r.y)),y.uniforms.shadow_pass.value=H.map.texture,y.uniforms.resolution.value=H.mapSize,y.uniforms.radius.value=H.radius,n.setRenderTarget(H.mapPass),n.clear(),n.renderBufferDirect(G,null,W,y,D,null),v.uniforms.shadow_pass.value=H.mapPass.texture,v.uniforms.resolution.value=H.mapSize,v.uniforms.radius.value=H.radius,n.setRenderTarget(H.map),n.clear(),n.renderBufferDirect(G,null,W,v,D,null)}function P(H,G,W,B){let I=null;const Z=W.isPointLight===!0?H.customDistanceMaterial:H.customDepthMaterial;if(Z!==void 0)I=Z;else if(I=W.isPointLight===!0?c:l,n.localClippingEnabled&&G.clipShadows===!0&&Array.isArray(G.clippingPlanes)&&G.clippingPlanes.length!==0||G.displacementMap&&G.displacementScale!==0||G.alphaMap&&G.alphaTest>0||G.map&&G.alphaTest>0||G.alphaToCoverage===!0){const ae=I.uuid,se=G.uuid;let ge=f[ae];ge===void 0&&(ge={},f[ae]=ge);let xe=ge[se];xe===void 0&&(xe=I.clone(),ge[se]=xe,G.addEventListener("dispose",X)),I=xe}if(I.visible=G.visible,I.wireframe=G.wireframe,B===mf?I.side=G.shadowSide!==null?G.shadowSide:G.side:I.side=G.shadowSide!==null?G.shadowSide:g[G.side],I.alphaMap=G.alphaMap,I.alphaTest=G.alphaToCoverage===!0?.5:G.alphaTest,I.map=G.map,I.clipShadows=G.clipShadows,I.clippingPlanes=G.clippingPlanes,I.clipIntersection=G.clipIntersection,I.displacementMap=G.displacementMap,I.displacementScale=G.displacementScale,I.displacementBias=G.displacementBias,I.wireframeLinewidth=G.wireframeLinewidth,I.linewidth=G.linewidth,W.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const ae=n.properties.get(I);ae.light=W}return I}function U(H,G,W,B,I){if(H.visible===!1)return;if(H.layers.test(G.layers)&&(H.isMesh||H.isLine||H.isPoints)&&(H.castShadow||H.receiveShadow&&I===mf)&&(!H.frustumCulled||i.intersectsObject(H))){H.modelViewMatrix.multiplyMatrices(W.matrixWorldInverse,H.matrixWorld);const se=e.update(H),ge=H.material;if(Array.isArray(ge)){const xe=se.groups;for(let ee=0,le=xe.length;ee<le;ee++){const ve=xe[ee],pe=ge[ve.materialIndex];if(pe&&pe.visible){const F=P(H,pe,B,I);H.onBeforeShadow(n,H,G,W,se,F,ve),n.renderBufferDirect(W,null,se,F,H,ve),H.onAfterShadow(n,H,G,W,se,F,ve)}}}else if(ge.visible){const xe=P(H,ge,B,I);H.onBeforeShadow(n,H,G,W,se,xe,null),n.renderBufferDirect(W,null,se,xe,H,null),H.onAfterShadow(n,H,G,W,se,xe,null)}}const ae=H.children;for(let se=0,ge=ae.length;se<ge;se++)U(ae[se],G,W,B,I)}function X(H){H.target.removeEventListener("dispose",X);for(const W in f){const B=f[W],I=H.target.uuid;I in B&&(B[I].dispose(),delete B[I])}}}const f$={[lS]:uS,[cS]:dS,[fS]:pS,[yg]:hS,[uS]:lS,[dS]:cS,[pS]:fS,[hS]:yg};function h$(n,e){function t(){let Me=!1;const Dt=new Di;let Lt=null;const Zt=new Di(0,0,0,0);return{setMask:function(vt){Lt!==vt&&!Me&&(n.colorMask(vt,vt,vt,vt),Lt=vt)},setLocked:function(vt){Me=vt},setClear:function(vt,ft,Wt,$t,Sn){Sn===!0&&(vt*=$t,ft*=$t,Wt*=$t),Dt.set(vt,ft,Wt,$t),Zt.equals(Dt)===!1&&(n.clearColor(vt,ft,Wt,$t),Zt.copy(Dt))},reset:function(){Me=!1,Lt=null,Zt.set(-1,0,0,0)}}}function i(){let Me=!1,Dt=!1,Lt=null,Zt=null,vt=null;return{setReversed:function(ft){if(Dt!==ft){const Wt=e.get("EXT_clip_control");ft?Wt.clipControlEXT(Wt.LOWER_LEFT_EXT,Wt.ZERO_TO_ONE_EXT):Wt.clipControlEXT(Wt.LOWER_LEFT_EXT,Wt.NEGATIVE_ONE_TO_ONE_EXT),Dt=ft;const $t=vt;vt=null,this.setClear($t)}},getReversed:function(){return Dt},setTest:function(ft){ft?je(n.DEPTH_TEST):$e(n.DEPTH_TEST)},setMask:function(ft){Lt!==ft&&!Me&&(n.depthMask(ft),Lt=ft)},setFunc:function(ft){if(Dt&&(ft=f$[ft]),Zt!==ft){switch(ft){case lS:n.depthFunc(n.NEVER);break;case uS:n.depthFunc(n.ALWAYS);break;case cS:n.depthFunc(n.LESS);break;case yg:n.depthFunc(n.LEQUAL);break;case fS:n.depthFunc(n.EQUAL);break;case hS:n.depthFunc(n.GEQUAL);break;case dS:n.depthFunc(n.GREATER);break;case pS:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Zt=ft}},setLocked:function(ft){Me=ft},setClear:function(ft){vt!==ft&&(Dt&&(ft=1-ft),n.clearDepth(ft),vt=ft)},reset:function(){Me=!1,Lt=null,Zt=null,vt=null,Dt=!1}}}function r(){let Me=!1,Dt=null,Lt=null,Zt=null,vt=null,ft=null,Wt=null,$t=null,Sn=null;return{setTest:function(bn){Me||(bn?je(n.STENCIL_TEST):$e(n.STENCIL_TEST))},setMask:function(bn){Dt!==bn&&!Me&&(n.stencilMask(bn),Dt=bn)},setFunc:function(bn,ca,vr){(Lt!==bn||Zt!==ca||vt!==vr)&&(n.stencilFunc(bn,ca,vr),Lt=bn,Zt=ca,vt=vr)},setOp:function(bn,ca,vr){(ft!==bn||Wt!==ca||$t!==vr)&&(n.stencilOp(bn,ca,vr),ft=bn,Wt=ca,$t=vr)},setLocked:function(bn){Me=bn},setClear:function(bn){Sn!==bn&&(n.clearStencil(bn),Sn=bn)},reset:function(){Me=!1,Dt=null,Lt=null,Zt=null,vt=null,ft=null,Wt=null,$t=null,Sn=null}}}const a=new t,s=new i,l=new r,c=new WeakMap,f=new WeakMap;let p={},g={},y=new WeakMap,v=[],_=null,D=!1,M=null,S=null,N=null,P=null,U=null,X=null,H=null,G=new tn(0,0,0),W=0,B=!1,I=null,Z=null,ae=null,se=null,ge=null;const xe=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ee=!1,le=0;const ve=n.getParameter(n.VERSION);ve.indexOf("WebGL")!==-1?(le=parseFloat(/^WebGL (\d)/.exec(ve)[1]),ee=le>=1):ve.indexOf("OpenGL ES")!==-1&&(le=parseFloat(/^OpenGL ES (\d)/.exec(ve)[1]),ee=le>=2);let pe=null,F={};const J=n.getParameter(n.SCISSOR_BOX),Le=n.getParameter(n.VIEWPORT),te=new Di().fromArray(J),Oe=new Di().fromArray(Le);function tt(Me,Dt,Lt,Zt){const vt=new Uint8Array(4),ft=n.createTexture();n.bindTexture(Me,ft),n.texParameteri(Me,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Me,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Wt=0;Wt<Lt;Wt++)Me===n.TEXTURE_3D||Me===n.TEXTURE_2D_ARRAY?n.texImage3D(Dt,0,n.RGBA,1,1,Zt,0,n.RGBA,n.UNSIGNED_BYTE,vt):n.texImage2D(Dt+Wt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,vt);return ft}const Te={};Te[n.TEXTURE_2D]=tt(n.TEXTURE_2D,n.TEXTURE_2D,1),Te[n.TEXTURE_CUBE_MAP]=tt(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Te[n.TEXTURE_2D_ARRAY]=tt(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Te[n.TEXTURE_3D]=tt(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),l.setClear(0),je(n.DEPTH_TEST),s.setFunc(yg),et(!1),Je(OM),je(n.CULL_FACE),ct(xd);function je(Me){p[Me]!==!0&&(n.enable(Me),p[Me]=!0)}function $e(Me){p[Me]!==!1&&(n.disable(Me),p[Me]=!1)}function St(Me,Dt){return g[Me]!==Dt?(n.bindFramebuffer(Me,Dt),g[Me]=Dt,Me===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=Dt),Me===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=Dt),!0):!1}function ut(Me,Dt){let Lt=v,Zt=!1;if(Me){Lt=y.get(Dt),Lt===void 0&&(Lt=[],y.set(Dt,Lt));const vt=Me.textures;if(Lt.length!==vt.length||Lt[0]!==n.COLOR_ATTACHMENT0){for(let ft=0,Wt=vt.length;ft<Wt;ft++)Lt[ft]=n.COLOR_ATTACHMENT0+ft;Lt.length=vt.length,Zt=!0}}else Lt[0]!==n.BACK&&(Lt[0]=n.BACK,Zt=!0);Zt&&n.drawBuffers(Lt)}function Yt(Me){return _!==Me?(n.useProgram(Me),_=Me,!0):!1}const kt={[Ep]:n.FUNC_ADD,[CI]:n.FUNC_SUBTRACT,[RI]:n.FUNC_REVERSE_SUBTRACT};kt[DI]=n.MIN,kt[OI]=n.MAX;const ye={[PI]:n.ZERO,[LI]:n.ONE,[NI]:n.SRC_COLOR,[sS]:n.SRC_ALPHA,[FI]:n.SRC_ALPHA_SATURATE,[kI]:n.DST_COLOR,[II]:n.DST_ALPHA,[UI]:n.ONE_MINUS_SRC_COLOR,[oS]:n.ONE_MINUS_SRC_ALPHA,[BI]:n.ONE_MINUS_DST_COLOR,[zI]:n.ONE_MINUS_DST_ALPHA,[HI]:n.CONSTANT_COLOR,[VI]:n.ONE_MINUS_CONSTANT_COLOR,[GI]:n.CONSTANT_ALPHA,[XI]:n.ONE_MINUS_CONSTANT_ALPHA};function ct(Me,Dt,Lt,Zt,vt,ft,Wt,$t,Sn,bn){if(Me===xd){D===!0&&($e(n.BLEND),D=!1);return}if(D===!1&&(je(n.BLEND),D=!0),Me!==AI){if(Me!==M||bn!==B){if((S!==Ep||U!==Ep)&&(n.blendEquation(n.FUNC_ADD),S=Ep,U=Ep),bn)switch(Me){case fg:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case aS:n.blendFunc(n.ONE,n.ONE);break;case PM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case LM:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",Me);break}else switch(Me){case fg:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case aS:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case PM:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case LM:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",Me);break}N=null,P=null,X=null,H=null,G.set(0,0,0),W=0,M=Me,B=bn}return}vt=vt||Dt,ft=ft||Lt,Wt=Wt||Zt,(Dt!==S||vt!==U)&&(n.blendEquationSeparate(kt[Dt],kt[vt]),S=Dt,U=vt),(Lt!==N||Zt!==P||ft!==X||Wt!==H)&&(n.blendFuncSeparate(ye[Lt],ye[Zt],ye[ft],ye[Wt]),N=Lt,P=Zt,X=ft,H=Wt),($t.equals(G)===!1||Sn!==W)&&(n.blendColor($t.r,$t.g,$t.b,Sn),G.copy($t),W=Sn),M=Me,B=!1}function Qe(Me,Dt){Me.side===yh?$e(n.CULL_FACE):je(n.CULL_FACE);let Lt=Me.side===gl;Dt&&(Lt=!Lt),et(Lt),Me.blending===fg&&Me.transparent===!1?ct(xd):ct(Me.blending,Me.blendEquation,Me.blendSrc,Me.blendDst,Me.blendEquationAlpha,Me.blendSrcAlpha,Me.blendDstAlpha,Me.blendColor,Me.blendAlpha,Me.premultipliedAlpha),s.setFunc(Me.depthFunc),s.setTest(Me.depthTest),s.setMask(Me.depthWrite),a.setMask(Me.colorWrite);const Zt=Me.stencilWrite;l.setTest(Zt),Zt&&(l.setMask(Me.stencilWriteMask),l.setFunc(Me.stencilFunc,Me.stencilRef,Me.stencilFuncMask),l.setOp(Me.stencilFail,Me.stencilZFail,Me.stencilZPass)),yt(Me.polygonOffset,Me.polygonOffsetFactor,Me.polygonOffsetUnits),Me.alphaToCoverage===!0?je(n.SAMPLE_ALPHA_TO_COVERAGE):$e(n.SAMPLE_ALPHA_TO_COVERAGE)}function et(Me){I!==Me&&(Me?n.frontFace(n.CW):n.frontFace(n.CCW),I=Me)}function Je(Me){Me!==TI?(je(n.CULL_FACE),Me!==Z&&(Me===OM?n.cullFace(n.BACK):Me===wI?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):$e(n.CULL_FACE),Z=Me}function Ct(Me){Me!==ae&&(ee&&n.lineWidth(Me),ae=Me)}function yt(Me,Dt,Lt){Me?(je(n.POLYGON_OFFSET_FILL),(se!==Dt||ge!==Lt)&&(n.polygonOffset(Dt,Lt),se=Dt,ge=Lt)):$e(n.POLYGON_OFFSET_FILL)}function mt(Me){Me?je(n.SCISSOR_TEST):$e(n.SCISSOR_TEST)}function Rt(Me){Me===void 0&&(Me=n.TEXTURE0+xe-1),pe!==Me&&(n.activeTexture(Me),pe=Me)}function on(Me,Dt,Lt){Lt===void 0&&(pe===null?Lt=n.TEXTURE0+xe-1:Lt=pe);let Zt=F[Lt];Zt===void 0&&(Zt={type:void 0,texture:void 0},F[Lt]=Zt),(Zt.type!==Me||Zt.texture!==Dt)&&(pe!==Lt&&(n.activeTexture(Lt),pe=Lt),n.bindTexture(Me,Dt||Te[Me]),Zt.type=Me,Zt.texture=Dt)}function he(){const Me=F[pe];Me!==void 0&&Me.type!==void 0&&(n.bindTexture(Me.type,null),Me.type=void 0,Me.texture=void 0)}function $(){try{n.compressedTexImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Ue(){try{n.compressedTexImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function me(){try{n.texSubImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function De(){try{n.texSubImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Ie(){try{n.compressedTexSubImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function bt(){try{n.compressedTexSubImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function it(){try{n.texStorage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function zt(){try{n.texStorage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Xt(){try{n.texImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function lt(){try{n.texImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function at(Me){te.equals(Me)===!1&&(n.scissor(Me.x,Me.y,Me.z,Me.w),te.copy(Me))}function sn(Me){Oe.equals(Me)===!1&&(n.viewport(Me.x,Me.y,Me.z,Me.w),Oe.copy(Me))}function Et(Me,Dt){let Lt=f.get(Dt);Lt===void 0&&(Lt=new WeakMap,f.set(Dt,Lt));let Zt=Lt.get(Me);Zt===void 0&&(Zt=n.getUniformBlockIndex(Dt,Me.name),Lt.set(Me,Zt))}function gt(Me,Dt){const Zt=f.get(Dt).get(Me);c.get(Dt)!==Zt&&(n.uniformBlockBinding(Dt,Zt,Me.__bindingPointIndex),c.set(Dt,Zt))}function ln(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},pe=null,F={},g={},y=new WeakMap,v=[],_=null,D=!1,M=null,S=null,N=null,P=null,U=null,X=null,H=null,G=new tn(0,0,0),W=0,B=!1,I=null,Z=null,ae=null,se=null,ge=null,te.set(0,0,n.canvas.width,n.canvas.height),Oe.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),l.reset()}return{buffers:{color:a,depth:s,stencil:l},enable:je,disable:$e,bindFramebuffer:St,drawBuffers:ut,useProgram:Yt,setBlending:ct,setMaterial:Qe,setFlipSided:et,setCullFace:Je,setLineWidth:Ct,setPolygonOffset:yt,setScissorTest:mt,activeTexture:Rt,bindTexture:on,unbindTexture:he,compressedTexImage2D:$,compressedTexImage3D:Ue,texImage2D:Xt,texImage3D:lt,updateUBOMapping:Et,uniformBlockBinding:gt,texStorage2D:it,texStorage3D:zt,texSubImage2D:me,texSubImage3D:De,compressedTexSubImage2D:Ie,compressedTexSubImage3D:bt,scissor:at,viewport:sn,reset:ln}}function d$(n,e,t,i,r,a,s){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new xt,p=new WeakMap;let g;const y=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(he,$){return v?new OffscreenCanvas(he,$):cx("canvas")}function D(he,$,Ue){let me=1;const De=on(he);if((De.width>Ue||De.height>Ue)&&(me=Ue/Math.max(De.width,De.height)),me<1)if(typeof HTMLImageElement<"u"&&he instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&he instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&he instanceof ImageBitmap||typeof VideoFrame<"u"&&he instanceof VideoFrame){const Ie=Math.floor(me*De.width),bt=Math.floor(me*De.height);g===void 0&&(g=_(Ie,bt));const it=$?_(Ie,bt):g;return it.width=Ie,it.height=bt,it.getContext("2d").drawImage(he,0,0,Ie,bt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+De.width+"x"+De.height+") to ("+Ie+"x"+bt+")."),it}else return"data"in he&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+De.width+"x"+De.height+")."),he;return he}function M(he){return he.generateMipmaps}function S(he){n.generateMipmap(he)}function N(he){return he.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:he.isWebGL3DRenderTarget?n.TEXTURE_3D:he.isWebGLArrayRenderTarget||he.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function P(he,$,Ue,me,De=!1){if(he!==null){if(n[he]!==void 0)return n[he];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+he+"'")}let Ie=$;if($===n.RED&&(Ue===n.FLOAT&&(Ie=n.R32F),Ue===n.HALF_FLOAT&&(Ie=n.R16F),Ue===n.UNSIGNED_BYTE&&(Ie=n.R8)),$===n.RED_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Ie=n.R8UI),Ue===n.UNSIGNED_SHORT&&(Ie=n.R16UI),Ue===n.UNSIGNED_INT&&(Ie=n.R32UI),Ue===n.BYTE&&(Ie=n.R8I),Ue===n.SHORT&&(Ie=n.R16I),Ue===n.INT&&(Ie=n.R32I)),$===n.RG&&(Ue===n.FLOAT&&(Ie=n.RG32F),Ue===n.HALF_FLOAT&&(Ie=n.RG16F),Ue===n.UNSIGNED_BYTE&&(Ie=n.RG8)),$===n.RG_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Ie=n.RG8UI),Ue===n.UNSIGNED_SHORT&&(Ie=n.RG16UI),Ue===n.UNSIGNED_INT&&(Ie=n.RG32UI),Ue===n.BYTE&&(Ie=n.RG8I),Ue===n.SHORT&&(Ie=n.RG16I),Ue===n.INT&&(Ie=n.RG32I)),$===n.RGB_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Ie=n.RGB8UI),Ue===n.UNSIGNED_SHORT&&(Ie=n.RGB16UI),Ue===n.UNSIGNED_INT&&(Ie=n.RGB32UI),Ue===n.BYTE&&(Ie=n.RGB8I),Ue===n.SHORT&&(Ie=n.RGB16I),Ue===n.INT&&(Ie=n.RGB32I)),$===n.RGBA_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Ie=n.RGBA8UI),Ue===n.UNSIGNED_SHORT&&(Ie=n.RGBA16UI),Ue===n.UNSIGNED_INT&&(Ie=n.RGBA32UI),Ue===n.BYTE&&(Ie=n.RGBA8I),Ue===n.SHORT&&(Ie=n.RGBA16I),Ue===n.INT&&(Ie=n.RGBA32I)),$===n.RGB&&(Ue===n.UNSIGNED_INT_5_9_9_9_REV&&(Ie=n.RGB9_E5),Ue===n.UNSIGNED_INT_10F_11F_11F_REV&&(Ie=n.R11F_G11F_B10F)),$===n.RGBA){const bt=De?lx:xi.getTransfer(me);Ue===n.FLOAT&&(Ie=n.RGBA32F),Ue===n.HALF_FLOAT&&(Ie=n.RGBA16F),Ue===n.UNSIGNED_BYTE&&(Ie=bt===nr?n.SRGB8_ALPHA8:n.RGBA8),Ue===n.UNSIGNED_SHORT_4_4_4_4&&(Ie=n.RGBA4),Ue===n.UNSIGNED_SHORT_5_5_5_1&&(Ie=n.RGB5_A1)}return(Ie===n.R16F||Ie===n.R32F||Ie===n.RG16F||Ie===n.RG32F||Ie===n.RGBA16F||Ie===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function U(he,$){let Ue;return he?$===null||$===Cd||$===nv?Ue=n.DEPTH24_STENCIL8:$===eu?Ue=n.DEPTH32F_STENCIL8:$===tv&&(Ue=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):$===null||$===Cd||$===nv?Ue=n.DEPTH_COMPONENT24:$===eu?Ue=n.DEPTH_COMPONENT32F:$===tv&&(Ue=n.DEPTH_COMPONENT16),Ue}function X(he,$){return M(he)===!0||he.isFramebufferTexture&&he.minFilter!==so&&he.minFilter!==xs?Math.log2(Math.max($.width,$.height))+1:he.mipmaps!==void 0&&he.mipmaps.length>0?he.mipmaps.length:he.isCompressedTexture&&Array.isArray(he.image)?$.mipmaps.length:1}function H(he){const $=he.target;$.removeEventListener("dispose",H),W($),$.isVideoTexture&&p.delete($)}function G(he){const $=he.target;$.removeEventListener("dispose",G),I($)}function W(he){const $=i.get(he);if($.__webglInit===void 0)return;const Ue=he.source,me=y.get(Ue);if(me){const De=me[$.__cacheKey];De.usedTimes--,De.usedTimes===0&&B(he),Object.keys(me).length===0&&y.delete(Ue)}i.remove(he)}function B(he){const $=i.get(he);n.deleteTexture($.__webglTexture);const Ue=he.source,me=y.get(Ue);delete me[$.__cacheKey],s.memory.textures--}function I(he){const $=i.get(he);if(he.depthTexture&&(he.depthTexture.dispose(),i.remove(he.depthTexture)),he.isWebGLCubeRenderTarget)for(let me=0;me<6;me++){if(Array.isArray($.__webglFramebuffer[me]))for(let De=0;De<$.__webglFramebuffer[me].length;De++)n.deleteFramebuffer($.__webglFramebuffer[me][De]);else n.deleteFramebuffer($.__webglFramebuffer[me]);$.__webglDepthbuffer&&n.deleteRenderbuffer($.__webglDepthbuffer[me])}else{if(Array.isArray($.__webglFramebuffer))for(let me=0;me<$.__webglFramebuffer.length;me++)n.deleteFramebuffer($.__webglFramebuffer[me]);else n.deleteFramebuffer($.__webglFramebuffer);if($.__webglDepthbuffer&&n.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&n.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer)for(let me=0;me<$.__webglColorRenderbuffer.length;me++)$.__webglColorRenderbuffer[me]&&n.deleteRenderbuffer($.__webglColorRenderbuffer[me]);$.__webglDepthRenderbuffer&&n.deleteRenderbuffer($.__webglDepthRenderbuffer)}const Ue=he.textures;for(let me=0,De=Ue.length;me<De;me++){const Ie=i.get(Ue[me]);Ie.__webglTexture&&(n.deleteTexture(Ie.__webglTexture),s.memory.textures--),i.remove(Ue[me])}i.remove(he)}let Z=0;function ae(){Z=0}function se(){const he=Z;return he>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+he+" texture units while this GPU supports only "+r.maxTextures),Z+=1,he}function ge(he){const $=[];return $.push(he.wrapS),$.push(he.wrapT),$.push(he.wrapR||0),$.push(he.magFilter),$.push(he.minFilter),$.push(he.anisotropy),$.push(he.internalFormat),$.push(he.format),$.push(he.type),$.push(he.generateMipmaps),$.push(he.premultiplyAlpha),$.push(he.flipY),$.push(he.unpackAlignment),$.push(he.colorSpace),$.join()}function xe(he,$){const Ue=i.get(he);if(he.isVideoTexture&&mt(he),he.isRenderTargetTexture===!1&&he.isExternalTexture!==!0&&he.version>0&&Ue.__version!==he.version){const me=he.image;if(me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Te(Ue,he,$);return}}else he.isExternalTexture&&(Ue.__webglTexture=he.sourceTexture?he.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,Ue.__webglTexture,n.TEXTURE0+$)}function ee(he,$){const Ue=i.get(he);if(he.isRenderTargetTexture===!1&&he.version>0&&Ue.__version!==he.version){Te(Ue,he,$);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Ue.__webglTexture,n.TEXTURE0+$)}function le(he,$){const Ue=i.get(he);if(he.isRenderTargetTexture===!1&&he.version>0&&Ue.__version!==he.version){Te(Ue,he,$);return}t.bindTexture(n.TEXTURE_3D,Ue.__webglTexture,n.TEXTURE0+$)}function ve(he,$){const Ue=i.get(he);if(he.version>0&&Ue.__version!==he.version){je(Ue,he,$);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ue.__webglTexture,n.TEXTURE0+$)}const pe={[rx]:n.REPEAT,[Ac]:n.CLAMP_TO_EDGE,[ax]:n.MIRRORED_REPEAT},F={[so]:n.NEAREST,[fC]:n.NEAREST_MIPMAP_NEAREST,[Ly]:n.NEAREST_MIPMAP_LINEAR,[xs]:n.LINEAR,[L0]:n.LINEAR_MIPMAP_NEAREST,[xh]:n.LINEAR_MIPMAP_LINEAR},J={[s4]:n.NEVER,[h4]:n.ALWAYS,[o4]:n.LESS,[bC]:n.LEQUAL,[l4]:n.EQUAL,[f4]:n.GEQUAL,[u4]:n.GREATER,[c4]:n.NOTEQUAL};function Le(he,$){if($.type===eu&&e.has("OES_texture_float_linear")===!1&&($.magFilter===xs||$.magFilter===L0||$.magFilter===Ly||$.magFilter===xh||$.minFilter===xs||$.minFilter===L0||$.minFilter===Ly||$.minFilter===xh)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(he,n.TEXTURE_WRAP_S,pe[$.wrapS]),n.texParameteri(he,n.TEXTURE_WRAP_T,pe[$.wrapT]),(he===n.TEXTURE_3D||he===n.TEXTURE_2D_ARRAY)&&n.texParameteri(he,n.TEXTURE_WRAP_R,pe[$.wrapR]),n.texParameteri(he,n.TEXTURE_MAG_FILTER,F[$.magFilter]),n.texParameteri(he,n.TEXTURE_MIN_FILTER,F[$.minFilter]),$.compareFunction&&(n.texParameteri(he,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(he,n.TEXTURE_COMPARE_FUNC,J[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if($.magFilter===so||$.minFilter!==Ly&&$.minFilter!==xh||$.type===eu&&e.has("OES_texture_float_linear")===!1)return;if($.anisotropy>1||i.get($).__currentAnisotropy){const Ue=e.get("EXT_texture_filter_anisotropic");n.texParameterf(he,Ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,r.getMaxAnisotropy())),i.get($).__currentAnisotropy=$.anisotropy}}}function te(he,$){let Ue=!1;he.__webglInit===void 0&&(he.__webglInit=!0,$.addEventListener("dispose",H));const me=$.source;let De=y.get(me);De===void 0&&(De={},y.set(me,De));const Ie=ge($);if(Ie!==he.__cacheKey){De[Ie]===void 0&&(De[Ie]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Ue=!0),De[Ie].usedTimes++;const bt=De[he.__cacheKey];bt!==void 0&&(De[he.__cacheKey].usedTimes--,bt.usedTimes===0&&B($)),he.__cacheKey=Ie,he.__webglTexture=De[Ie].texture}return Ue}function Oe(he,$,Ue){return Math.floor(Math.floor(he/Ue)/$)}function tt(he,$,Ue,me){const Ie=he.updateRanges;if(Ie.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,$.width,$.height,Ue,me,$.data);else{Ie.sort((lt,at)=>lt.start-at.start);let bt=0;for(let lt=1;lt<Ie.length;lt++){const at=Ie[bt],sn=Ie[lt],Et=at.start+at.count,gt=Oe(sn.start,$.width,4),ln=Oe(at.start,$.width,4);sn.start<=Et+1&&gt===ln&&Oe(sn.start+sn.count-1,$.width,4)===gt?at.count=Math.max(at.count,sn.start+sn.count-at.start):(++bt,Ie[bt]=sn)}Ie.length=bt+1;const it=n.getParameter(n.UNPACK_ROW_LENGTH),zt=n.getParameter(n.UNPACK_SKIP_PIXELS),Xt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,$.width);for(let lt=0,at=Ie.length;lt<at;lt++){const sn=Ie[lt],Et=Math.floor(sn.start/4),gt=Math.ceil(sn.count/4),ln=Et%$.width,Me=Math.floor(Et/$.width),Dt=gt,Lt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,ln),n.pixelStorei(n.UNPACK_SKIP_ROWS,Me),t.texSubImage2D(n.TEXTURE_2D,0,ln,Me,Dt,Lt,Ue,me,$.data)}he.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,it),n.pixelStorei(n.UNPACK_SKIP_PIXELS,zt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Xt)}}function Te(he,$,Ue){let me=n.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(me=n.TEXTURE_2D_ARRAY),$.isData3DTexture&&(me=n.TEXTURE_3D);const De=te(he,$),Ie=$.source;t.bindTexture(me,he.__webglTexture,n.TEXTURE0+Ue);const bt=i.get(Ie);if(Ie.version!==bt.__version||De===!0){t.activeTexture(n.TEXTURE0+Ue);const it=xi.getPrimaries(xi.workingColorSpace),zt=$.colorSpace===gd?null:xi.getPrimaries($.colorSpace),Xt=$.colorSpace===gd||it===zt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,$.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,$.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xt);let lt=D($.image,!1,r.maxTextureSize);lt=Rt($,lt);const at=a.convert($.format,$.colorSpace),sn=a.convert($.type);let Et=P($.internalFormat,at,sn,$.colorSpace,$.isVideoTexture);Le(me,$);let gt;const ln=$.mipmaps,Me=$.isVideoTexture!==!0,Dt=bt.__version===void 0||De===!0,Lt=Ie.dataReady,Zt=X($,lt);if($.isDepthTexture)Et=U($.format===rv,$.type),Dt&&(Me?t.texStorage2D(n.TEXTURE_2D,1,Et,lt.width,lt.height):t.texImage2D(n.TEXTURE_2D,0,Et,lt.width,lt.height,0,at,sn,null));else if($.isDataTexture)if(ln.length>0){Me&&Dt&&t.texStorage2D(n.TEXTURE_2D,Zt,Et,ln[0].width,ln[0].height);for(let vt=0,ft=ln.length;vt<ft;vt++)gt=ln[vt],Me?Lt&&t.texSubImage2D(n.TEXTURE_2D,vt,0,0,gt.width,gt.height,at,sn,gt.data):t.texImage2D(n.TEXTURE_2D,vt,Et,gt.width,gt.height,0,at,sn,gt.data);$.generateMipmaps=!1}else Me?(Dt&&t.texStorage2D(n.TEXTURE_2D,Zt,Et,lt.width,lt.height),Lt&&tt($,lt,at,sn)):t.texImage2D(n.TEXTURE_2D,0,Et,lt.width,lt.height,0,at,sn,lt.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){Me&&Dt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Zt,Et,ln[0].width,ln[0].height,lt.depth);for(let vt=0,ft=ln.length;vt<ft;vt++)if(gt=ln[vt],$.format!==Io)if(at!==null)if(Me){if(Lt)if($.layerUpdates.size>0){const Wt=GM(gt.width,gt.height,$.format,$.type);for(const $t of $.layerUpdates){const Sn=gt.data.subarray($t*Wt/gt.data.BYTES_PER_ELEMENT,($t+1)*Wt/gt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,vt,0,0,$t,gt.width,gt.height,1,at,Sn)}$.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,vt,0,0,0,gt.width,gt.height,lt.depth,at,gt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,vt,Et,gt.width,gt.height,lt.depth,0,gt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Me?Lt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,vt,0,0,0,gt.width,gt.height,lt.depth,at,sn,gt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,vt,Et,gt.width,gt.height,lt.depth,0,at,sn,gt.data)}else{Me&&Dt&&t.texStorage2D(n.TEXTURE_2D,Zt,Et,ln[0].width,ln[0].height);for(let vt=0,ft=ln.length;vt<ft;vt++)gt=ln[vt],$.format!==Io?at!==null?Me?Lt&&t.compressedTexSubImage2D(n.TEXTURE_2D,vt,0,0,gt.width,gt.height,at,gt.data):t.compressedTexImage2D(n.TEXTURE_2D,vt,Et,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Me?Lt&&t.texSubImage2D(n.TEXTURE_2D,vt,0,0,gt.width,gt.height,at,sn,gt.data):t.texImage2D(n.TEXTURE_2D,vt,Et,gt.width,gt.height,0,at,sn,gt.data)}else if($.isDataArrayTexture)if(Me){if(Dt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Zt,Et,lt.width,lt.height,lt.depth),Lt)if($.layerUpdates.size>0){const vt=GM(lt.width,lt.height,$.format,$.type);for(const ft of $.layerUpdates){const Wt=lt.data.subarray(ft*vt/lt.data.BYTES_PER_ELEMENT,(ft+1)*vt/lt.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,ft,lt.width,lt.height,1,at,sn,Wt)}$.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,lt.width,lt.height,lt.depth,at,sn,lt.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Et,lt.width,lt.height,lt.depth,0,at,sn,lt.data);else if($.isData3DTexture)Me?(Dt&&t.texStorage3D(n.TEXTURE_3D,Zt,Et,lt.width,lt.height,lt.depth),Lt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,lt.width,lt.height,lt.depth,at,sn,lt.data)):t.texImage3D(n.TEXTURE_3D,0,Et,lt.width,lt.height,lt.depth,0,at,sn,lt.data);else if($.isFramebufferTexture){if(Dt)if(Me)t.texStorage2D(n.TEXTURE_2D,Zt,Et,lt.width,lt.height);else{let vt=lt.width,ft=lt.height;for(let Wt=0;Wt<Zt;Wt++)t.texImage2D(n.TEXTURE_2D,Wt,Et,vt,ft,0,at,sn,null),vt>>=1,ft>>=1}}else if(ln.length>0){if(Me&&Dt){const vt=on(ln[0]);t.texStorage2D(n.TEXTURE_2D,Zt,Et,vt.width,vt.height)}for(let vt=0,ft=ln.length;vt<ft;vt++)gt=ln[vt],Me?Lt&&t.texSubImage2D(n.TEXTURE_2D,vt,0,0,at,sn,gt):t.texImage2D(n.TEXTURE_2D,vt,Et,at,sn,gt);$.generateMipmaps=!1}else if(Me){if(Dt){const vt=on(lt);t.texStorage2D(n.TEXTURE_2D,Zt,Et,vt.width,vt.height)}Lt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,at,sn,lt)}else t.texImage2D(n.TEXTURE_2D,0,Et,at,sn,lt);M($)&&S(me),bt.__version=Ie.version,$.onUpdate&&$.onUpdate($)}he.__version=$.version}function je(he,$,Ue){if($.image.length!==6)return;const me=te(he,$),De=$.source;t.bindTexture(n.TEXTURE_CUBE_MAP,he.__webglTexture,n.TEXTURE0+Ue);const Ie=i.get(De);if(De.version!==Ie.__version||me===!0){t.activeTexture(n.TEXTURE0+Ue);const bt=xi.getPrimaries(xi.workingColorSpace),it=$.colorSpace===gd?null:xi.getPrimaries($.colorSpace),zt=$.colorSpace===gd||bt===it?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,$.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,$.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,zt);const Xt=$.isCompressedTexture||$.image[0].isCompressedTexture,lt=$.image[0]&&$.image[0].isDataTexture,at=[];for(let ft=0;ft<6;ft++)!Xt&&!lt?at[ft]=D($.image[ft],!0,r.maxCubemapSize):at[ft]=lt?$.image[ft].image:$.image[ft],at[ft]=Rt($,at[ft]);const sn=at[0],Et=a.convert($.format,$.colorSpace),gt=a.convert($.type),ln=P($.internalFormat,Et,gt,$.colorSpace),Me=$.isVideoTexture!==!0,Dt=Ie.__version===void 0||me===!0,Lt=De.dataReady;let Zt=X($,sn);Le(n.TEXTURE_CUBE_MAP,$);let vt;if(Xt){Me&&Dt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Zt,ln,sn.width,sn.height);for(let ft=0;ft<6;ft++){vt=at[ft].mipmaps;for(let Wt=0;Wt<vt.length;Wt++){const $t=vt[Wt];$.format!==Io?Et!==null?Me?Lt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Wt,0,0,$t.width,$t.height,Et,$t.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Wt,ln,$t.width,$t.height,0,$t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?Lt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Wt,0,0,$t.width,$t.height,Et,gt,$t.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Wt,ln,$t.width,$t.height,0,Et,gt,$t.data)}}}else{if(vt=$.mipmaps,Me&&Dt){vt.length>0&&Zt++;const ft=on(at[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Zt,ln,ft.width,ft.height)}for(let ft=0;ft<6;ft++)if(lt){Me?Lt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,0,0,at[ft].width,at[ft].height,Et,gt,at[ft].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,ln,at[ft].width,at[ft].height,0,Et,gt,at[ft].data);for(let Wt=0;Wt<vt.length;Wt++){const Sn=vt[Wt].image[ft].image;Me?Lt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Wt+1,0,0,Sn.width,Sn.height,Et,gt,Sn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Wt+1,ln,Sn.width,Sn.height,0,Et,gt,Sn.data)}}else{Me?Lt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,0,0,Et,gt,at[ft]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,ln,Et,gt,at[ft]);for(let Wt=0;Wt<vt.length;Wt++){const $t=vt[Wt];Me?Lt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Wt+1,0,0,Et,gt,$t.image[ft]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Wt+1,ln,Et,gt,$t.image[ft])}}}M($)&&S(n.TEXTURE_CUBE_MAP),Ie.__version=De.version,$.onUpdate&&$.onUpdate($)}he.__version=$.version}function $e(he,$,Ue,me,De,Ie){const bt=a.convert(Ue.format,Ue.colorSpace),it=a.convert(Ue.type),zt=P(Ue.internalFormat,bt,it,Ue.colorSpace),Xt=i.get($),lt=i.get(Ue);if(lt.__renderTarget=$,!Xt.__hasExternalTextures){const at=Math.max(1,$.width>>Ie),sn=Math.max(1,$.height>>Ie);De===n.TEXTURE_3D||De===n.TEXTURE_2D_ARRAY?t.texImage3D(De,Ie,zt,at,sn,$.depth,0,bt,it,null):t.texImage2D(De,Ie,zt,at,sn,0,bt,it,null)}t.bindFramebuffer(n.FRAMEBUFFER,he),yt($)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,me,De,lt.__webglTexture,0,Ct($)):(De===n.TEXTURE_2D||De>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&De<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,me,De,lt.__webglTexture,Ie),t.bindFramebuffer(n.FRAMEBUFFER,null)}function St(he,$,Ue){if(n.bindRenderbuffer(n.RENDERBUFFER,he),$.depthBuffer){const me=$.depthTexture,De=me&&me.isDepthTexture?me.type:null,Ie=U($.stencilBuffer,De),bt=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,it=Ct($);yt($)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,it,Ie,$.width,$.height):Ue?n.renderbufferStorageMultisample(n.RENDERBUFFER,it,Ie,$.width,$.height):n.renderbufferStorage(n.RENDERBUFFER,Ie,$.width,$.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,bt,n.RENDERBUFFER,he)}else{const me=$.textures;for(let De=0;De<me.length;De++){const Ie=me[De],bt=a.convert(Ie.format,Ie.colorSpace),it=a.convert(Ie.type),zt=P(Ie.internalFormat,bt,it,Ie.colorSpace),Xt=Ct($);Ue&&yt($)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Xt,zt,$.width,$.height):yt($)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Xt,zt,$.width,$.height):n.renderbufferStorage(n.RENDERBUFFER,zt,$.width,$.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ut(he,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,he),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const me=i.get($.depthTexture);me.__renderTarget=$,(!me.__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),xe($.depthTexture,0);const De=me.__webglTexture,Ie=Ct($);if($.depthTexture.format===iv)yt($)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,De,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,De,0);else if($.depthTexture.format===rv)yt($)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,De,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,De,0);else throw new Error("Unknown depthTexture format")}function Yt(he){const $=i.get(he),Ue=he.isWebGLCubeRenderTarget===!0;if($.__boundDepthTexture!==he.depthTexture){const me=he.depthTexture;if($.__depthDisposeCallback&&$.__depthDisposeCallback(),me){const De=()=>{delete $.__boundDepthTexture,delete $.__depthDisposeCallback,me.removeEventListener("dispose",De)};me.addEventListener("dispose",De),$.__depthDisposeCallback=De}$.__boundDepthTexture=me}if(he.depthTexture&&!$.__autoAllocateDepthBuffer){if(Ue)throw new Error("target.depthTexture not supported in Cube render targets");const me=he.texture.mipmaps;me&&me.length>0?ut($.__webglFramebuffer[0],he):ut($.__webglFramebuffer,he)}else if(Ue){$.__webglDepthbuffer=[];for(let me=0;me<6;me++)if(t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer[me]),$.__webglDepthbuffer[me]===void 0)$.__webglDepthbuffer[me]=n.createRenderbuffer(),St($.__webglDepthbuffer[me],he,!1);else{const De=he.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=$.__webglDepthbuffer[me];n.bindRenderbuffer(n.RENDERBUFFER,Ie),n.framebufferRenderbuffer(n.FRAMEBUFFER,De,n.RENDERBUFFER,Ie)}}else{const me=he.texture.mipmaps;if(me&&me.length>0?t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer===void 0)$.__webglDepthbuffer=n.createRenderbuffer(),St($.__webglDepthbuffer,he,!1);else{const De=he.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=$.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ie),n.framebufferRenderbuffer(n.FRAMEBUFFER,De,n.RENDERBUFFER,Ie)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function kt(he,$,Ue){const me=i.get(he);$!==void 0&&$e(me.__webglFramebuffer,he,he.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ue!==void 0&&Yt(he)}function ye(he){const $=he.texture,Ue=i.get(he),me=i.get($);he.addEventListener("dispose",G);const De=he.textures,Ie=he.isWebGLCubeRenderTarget===!0,bt=De.length>1;if(bt||(me.__webglTexture===void 0&&(me.__webglTexture=n.createTexture()),me.__version=$.version,s.memory.textures++),Ie){Ue.__webglFramebuffer=[];for(let it=0;it<6;it++)if($.mipmaps&&$.mipmaps.length>0){Ue.__webglFramebuffer[it]=[];for(let zt=0;zt<$.mipmaps.length;zt++)Ue.__webglFramebuffer[it][zt]=n.createFramebuffer()}else Ue.__webglFramebuffer[it]=n.createFramebuffer()}else{if($.mipmaps&&$.mipmaps.length>0){Ue.__webglFramebuffer=[];for(let it=0;it<$.mipmaps.length;it++)Ue.__webglFramebuffer[it]=n.createFramebuffer()}else Ue.__webglFramebuffer=n.createFramebuffer();if(bt)for(let it=0,zt=De.length;it<zt;it++){const Xt=i.get(De[it]);Xt.__webglTexture===void 0&&(Xt.__webglTexture=n.createTexture(),s.memory.textures++)}if(he.samples>0&&yt(he)===!1){Ue.__webglMultisampledFramebuffer=n.createFramebuffer(),Ue.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer);for(let it=0;it<De.length;it++){const zt=De[it];Ue.__webglColorRenderbuffer[it]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ue.__webglColorRenderbuffer[it]);const Xt=a.convert(zt.format,zt.colorSpace),lt=a.convert(zt.type),at=P(zt.internalFormat,Xt,lt,zt.colorSpace,he.isXRRenderTarget===!0),sn=Ct(he);n.renderbufferStorageMultisample(n.RENDERBUFFER,sn,at,he.width,he.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[it])}n.bindRenderbuffer(n.RENDERBUFFER,null),he.depthBuffer&&(Ue.__webglDepthRenderbuffer=n.createRenderbuffer(),St(Ue.__webglDepthRenderbuffer,he,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ie){t.bindTexture(n.TEXTURE_CUBE_MAP,me.__webglTexture),Le(n.TEXTURE_CUBE_MAP,$);for(let it=0;it<6;it++)if($.mipmaps&&$.mipmaps.length>0)for(let zt=0;zt<$.mipmaps.length;zt++)$e(Ue.__webglFramebuffer[it][zt],he,$,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+it,zt);else $e(Ue.__webglFramebuffer[it],he,$,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+it,0);M($)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(bt){for(let it=0,zt=De.length;it<zt;it++){const Xt=De[it],lt=i.get(Xt);let at=n.TEXTURE_2D;(he.isWebGL3DRenderTarget||he.isWebGLArrayRenderTarget)&&(at=he.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(at,lt.__webglTexture),Le(at,Xt),$e(Ue.__webglFramebuffer,he,Xt,n.COLOR_ATTACHMENT0+it,at,0),M(Xt)&&S(at)}t.unbindTexture()}else{let it=n.TEXTURE_2D;if((he.isWebGL3DRenderTarget||he.isWebGLArrayRenderTarget)&&(it=he.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(it,me.__webglTexture),Le(it,$),$.mipmaps&&$.mipmaps.length>0)for(let zt=0;zt<$.mipmaps.length;zt++)$e(Ue.__webglFramebuffer[zt],he,$,n.COLOR_ATTACHMENT0,it,zt);else $e(Ue.__webglFramebuffer,he,$,n.COLOR_ATTACHMENT0,it,0);M($)&&S(it),t.unbindTexture()}he.depthBuffer&&Yt(he)}function ct(he){const $=he.textures;for(let Ue=0,me=$.length;Ue<me;Ue++){const De=$[Ue];if(M(De)){const Ie=N(he),bt=i.get(De).__webglTexture;t.bindTexture(Ie,bt),S(Ie),t.unbindTexture()}}}const Qe=[],et=[];function Je(he){if(he.samples>0){if(yt(he)===!1){const $=he.textures,Ue=he.width,me=he.height;let De=n.COLOR_BUFFER_BIT;const Ie=he.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,bt=i.get(he),it=$.length>1;if(it)for(let Xt=0;Xt<$.length;Xt++)t.bindFramebuffer(n.FRAMEBUFFER,bt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Xt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,bt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Xt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,bt.__webglMultisampledFramebuffer);const zt=he.texture.mipmaps;zt&&zt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,bt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,bt.__webglFramebuffer);for(let Xt=0;Xt<$.length;Xt++){if(he.resolveDepthBuffer&&(he.depthBuffer&&(De|=n.DEPTH_BUFFER_BIT),he.stencilBuffer&&he.resolveStencilBuffer&&(De|=n.STENCIL_BUFFER_BIT)),it){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,bt.__webglColorRenderbuffer[Xt]);const lt=i.get($[Xt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,lt,0)}n.blitFramebuffer(0,0,Ue,me,0,0,Ue,me,De,n.NEAREST),c===!0&&(Qe.length=0,et.length=0,Qe.push(n.COLOR_ATTACHMENT0+Xt),he.depthBuffer&&he.resolveDepthBuffer===!1&&(Qe.push(Ie),et.push(Ie),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,et)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Qe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),it)for(let Xt=0;Xt<$.length;Xt++){t.bindFramebuffer(n.FRAMEBUFFER,bt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Xt,n.RENDERBUFFER,bt.__webglColorRenderbuffer[Xt]);const lt=i.get($[Xt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,bt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Xt,n.TEXTURE_2D,lt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,bt.__webglMultisampledFramebuffer)}else if(he.depthBuffer&&he.resolveDepthBuffer===!1&&c){const $=he.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[$])}}}function Ct(he){return Math.min(r.maxSamples,he.samples)}function yt(he){const $=i.get(he);return he.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function mt(he){const $=s.render.frame;p.get(he)!==$&&(p.set(he,$),he.update())}function Rt(he,$){const Ue=he.colorSpace,me=he.format,De=he.type;return he.isCompressedTexture===!0||he.isVideoTexture===!0||Ue!==Bp&&Ue!==gd&&(xi.getTransfer(Ue)===nr?(me!==Io||De!==Rc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ue)),$}function on(he){return typeof HTMLImageElement<"u"&&he instanceof HTMLImageElement?(f.width=he.naturalWidth||he.width,f.height=he.naturalHeight||he.height):typeof VideoFrame<"u"&&he instanceof VideoFrame?(f.width=he.displayWidth,f.height=he.displayHeight):(f.width=he.width,f.height=he.height),f}this.allocateTextureUnit=se,this.resetTextureUnits=ae,this.setTexture2D=xe,this.setTexture2DArray=ee,this.setTexture3D=le,this.setTextureCube=ve,this.rebindTextures=kt,this.setupRenderTarget=ye,this.updateRenderTargetMipmap=ct,this.updateMultisampleRenderTarget=Je,this.setupDepthRenderbuffer=Yt,this.setupFrameBufferTexture=$e,this.useMultisampledRTT=yt}function Tz(n,e){function t(i,r=gd){let a;const s=xi.getTransfer(r);if(i===Rc)return n.UNSIGNED_BYTE;if(i===E1)return n.UNSIGNED_SHORT_4_4_4_4;if(i===T1)return n.UNSIGNED_SHORT_5_5_5_1;if(i===pC)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===mC)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===hC)return n.BYTE;if(i===dC)return n.SHORT;if(i===tv)return n.UNSIGNED_SHORT;if(i===S1)return n.INT;if(i===Cd)return n.UNSIGNED_INT;if(i===eu)return n.FLOAT;if(i===Sv)return n.HALF_FLOAT;if(i===gC)return n.ALPHA;if(i===yC)return n.RGB;if(i===Io)return n.RGBA;if(i===iv)return n.DEPTH_COMPONENT;if(i===rv)return n.DEPTH_STENCIL;if(i===w1)return n.RED;if(i===Fx)return n.RED_INTEGER;if(i===vC)return n.RG;if(i===M1)return n.RG_INTEGER;if(i===A1)return n.RGBA_INTEGER;if(i===N0||i===U0||i===I0||i===z0)if(s===nr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===N0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===U0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===I0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===z0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===N0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===U0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===I0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===z0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===mS||i===gS||i===yS||i===vS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===mS)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===gS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===yS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===vS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===xS||i===bS||i===_S)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===xS||i===bS)return s===nr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===_S)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===SS||i===ES||i===TS||i===wS||i===MS||i===AS||i===CS||i===RS||i===DS||i===OS||i===PS||i===LS||i===NS||i===US)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===SS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===ES)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===TS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===wS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===MS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===AS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===CS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===RS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===DS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===OS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===PS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===LS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===NS)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===US)return s===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===IS||i===zS||i===kS)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===IS)return s===nr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===zS)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===kS)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===BS||i===FS||i===HS||i===VS)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===BS)return a.COMPRESSED_RED_RGTC1_EXT;if(i===FS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===HS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===VS)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===nv?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const p$=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,m$=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class g${constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new DC(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Dc({vertexShader:p$,fragmentShader:m$,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new as(new wv(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class y$ extends Rh{constructor(e,t){super();const i=this;let r=null,a=1,s=null,l="local-floor",c=1,f=null,p=null,g=null,y=null,v=null,_=null;const D=typeof XRWebGLBinding<"u",M=new g$,S={},N=t.getContextAttributes();let P=null,U=null;const X=[],H=[],G=new xt;let W=null;const B=new Us;B.viewport=new Di;const I=new Us;I.viewport=new Di;const Z=[B,I],ae=new hz;let se=null,ge=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Te){let je=X[Te];return je===void 0&&(je=new B_,X[Te]=je),je.getTargetRaySpace()},this.getControllerGrip=function(Te){let je=X[Te];return je===void 0&&(je=new B_,X[Te]=je),je.getGripSpace()},this.getHand=function(Te){let je=X[Te];return je===void 0&&(je=new B_,X[Te]=je),je.getHandSpace()};function xe(Te){const je=H.indexOf(Te.inputSource);if(je===-1)return;const $e=X[je];$e!==void 0&&($e.update(Te.inputSource,Te.frame,f||s),$e.dispatchEvent({type:Te.type,data:Te.inputSource}))}function ee(){r.removeEventListener("select",xe),r.removeEventListener("selectstart",xe),r.removeEventListener("selectend",xe),r.removeEventListener("squeeze",xe),r.removeEventListener("squeezestart",xe),r.removeEventListener("squeezeend",xe),r.removeEventListener("end",ee),r.removeEventListener("inputsourceschange",le);for(let Te=0;Te<X.length;Te++){const je=H[Te];je!==null&&(H[Te]=null,X[Te].disconnect(je))}se=null,ge=null,M.reset();for(const Te in S)delete S[Te];e.setRenderTarget(P),v=null,y=null,g=null,r=null,U=null,tt.stop(),i.isPresenting=!1,e.setPixelRatio(W),e.setSize(G.width,G.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Te){a=Te,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Te){l=Te,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||s},this.setReferenceSpace=function(Te){f=Te},this.getBaseLayer=function(){return y!==null?y:v},this.getBinding=function(){return g===null&&D&&(g=new XRWebGLBinding(r,t)),g},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(Te){if(r=Te,r!==null){if(P=e.getRenderTarget(),r.addEventListener("select",xe),r.addEventListener("selectstart",xe),r.addEventListener("selectend",xe),r.addEventListener("squeeze",xe),r.addEventListener("squeezestart",xe),r.addEventListener("squeezeend",xe),r.addEventListener("end",ee),r.addEventListener("inputsourceschange",le),N.xrCompatible!==!0&&await t.makeXRCompatible(),W=e.getPixelRatio(),e.getSize(G),D&&"createProjectionLayer"in XRWebGLBinding.prototype){let $e=null,St=null,ut=null;N.depth&&(ut=N.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,$e=N.stencil?rv:iv,St=N.stencil?nv:Cd);const Yt={colorFormat:t.RGBA8,depthFormat:ut,scaleFactor:a};g=this.getBinding(),y=g.createProjectionLayer(Yt),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),U=new wh(y.textureWidth,y.textureHeight,{format:Io,type:Rc,depthTexture:new RC(y.textureWidth,y.textureHeight,St,void 0,void 0,void 0,void 0,void 0,void 0,$e),stencilBuffer:N.stencil,colorSpace:e.outputColorSpace,samples:N.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const $e={antialias:N.antialias,alpha:!0,depth:N.depth,stencil:N.stencil,framebufferScaleFactor:a};v=new XRWebGLLayer(r,t,$e),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),U=new wh(v.framebufferWidth,v.framebufferHeight,{format:Io,type:Rc,colorSpace:e.outputColorSpace,stencilBuffer:N.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}U.isXRRenderTarget=!0,this.setFoveation(c),f=null,s=await r.requestReferenceSpace(l),tt.setContext(r),tt.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return M.getDepthTexture()};function le(Te){for(let je=0;je<Te.removed.length;je++){const $e=Te.removed[je],St=H.indexOf($e);St>=0&&(H[St]=null,X[St].disconnect($e))}for(let je=0;je<Te.added.length;je++){const $e=Te.added[je];let St=H.indexOf($e);if(St===-1){for(let Yt=0;Yt<X.length;Yt++)if(Yt>=H.length){H.push($e),St=Yt;break}else if(H[Yt]===null){H[Yt]=$e,St=Yt;break}if(St===-1)break}const ut=X[St];ut&&ut.connect($e)}}const ve=new de,pe=new de;function F(Te,je,$e){ve.setFromMatrixPosition(je.matrixWorld),pe.setFromMatrixPosition($e.matrixWorld);const St=ve.distanceTo(pe),ut=je.projectionMatrix.elements,Yt=$e.projectionMatrix.elements,kt=ut[14]/(ut[10]-1),ye=ut[14]/(ut[10]+1),ct=(ut[9]+1)/ut[5],Qe=(ut[9]-1)/ut[5],et=(ut[8]-1)/ut[0],Je=(Yt[8]+1)/Yt[0],Ct=kt*et,yt=kt*Je,mt=St/(-et+Je),Rt=mt*-et;if(je.matrixWorld.decompose(Te.position,Te.quaternion,Te.scale),Te.translateX(Rt),Te.translateZ(mt),Te.matrixWorld.compose(Te.position,Te.quaternion,Te.scale),Te.matrixWorldInverse.copy(Te.matrixWorld).invert(),ut[10]===-1)Te.projectionMatrix.copy(je.projectionMatrix),Te.projectionMatrixInverse.copy(je.projectionMatrixInverse);else{const on=kt+mt,he=ye+mt,$=Ct-Rt,Ue=yt+(St-Rt),me=ct*ye/he*on,De=Qe*ye/he*on;Te.projectionMatrix.makePerspective($,Ue,me,De,on,he),Te.projectionMatrixInverse.copy(Te.projectionMatrix).invert()}}function J(Te,je){je===null?Te.matrixWorld.copy(Te.matrix):Te.matrixWorld.multiplyMatrices(je.matrixWorld,Te.matrix),Te.matrixWorldInverse.copy(Te.matrixWorld).invert()}this.updateCamera=function(Te){if(r===null)return;let je=Te.near,$e=Te.far;M.texture!==null&&(M.depthNear>0&&(je=M.depthNear),M.depthFar>0&&($e=M.depthFar)),ae.near=I.near=B.near=je,ae.far=I.far=B.far=$e,(se!==ae.near||ge!==ae.far)&&(r.updateRenderState({depthNear:ae.near,depthFar:ae.far}),se=ae.near,ge=ae.far),ae.layers.mask=Te.layers.mask|6,B.layers.mask=ae.layers.mask&3,I.layers.mask=ae.layers.mask&5;const St=Te.parent,ut=ae.cameras;J(ae,St);for(let Yt=0;Yt<ut.length;Yt++)J(ut[Yt],St);ut.length===2?F(ae,B,I):ae.projectionMatrix.copy(B.projectionMatrix),Le(Te,ae,St)};function Le(Te,je,$e){$e===null?Te.matrix.copy(je.matrixWorld):(Te.matrix.copy($e.matrixWorld),Te.matrix.invert(),Te.matrix.multiply(je.matrixWorld)),Te.matrix.decompose(Te.position,Te.quaternion,Te.scale),Te.updateMatrixWorld(!0),Te.projectionMatrix.copy(je.projectionMatrix),Te.projectionMatrixInverse.copy(je.projectionMatrixInverse),Te.isPerspectiveCamera&&(Te.fov=sv*2*Math.atan(1/Te.projectionMatrix.elements[5]),Te.zoom=1)}this.getCamera=function(){return ae},this.getFoveation=function(){if(!(y===null&&v===null))return c},this.setFoveation=function(Te){c=Te,y!==null&&(y.fixedFoveation=Te),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=Te)},this.hasDepthSensing=function(){return M.texture!==null},this.getDepthSensingMesh=function(){return M.getMesh(ae)},this.getCameraTexture=function(Te){return S[Te]};let te=null;function Oe(Te,je){if(p=je.getViewerPose(f||s),_=je,p!==null){const $e=p.views;v!==null&&(e.setRenderTargetFramebuffer(U,v.framebuffer),e.setRenderTarget(U));let St=!1;$e.length!==ae.cameras.length&&(ae.cameras.length=0,St=!0);for(let ye=0;ye<$e.length;ye++){const ct=$e[ye];let Qe=null;if(v!==null)Qe=v.getViewport(ct);else{const Je=g.getViewSubImage(y,ct);Qe=Je.viewport,ye===0&&(e.setRenderTargetTextures(U,Je.colorTexture,Je.depthStencilTexture),e.setRenderTarget(U))}let et=Z[ye];et===void 0&&(et=new Us,et.layers.enable(ye),et.viewport=new Di,Z[ye]=et),et.matrix.fromArray(ct.transform.matrix),et.matrix.decompose(et.position,et.quaternion,et.scale),et.projectionMatrix.fromArray(ct.projectionMatrix),et.projectionMatrixInverse.copy(et.projectionMatrix).invert(),et.viewport.set(Qe.x,Qe.y,Qe.width,Qe.height),ye===0&&(ae.matrix.copy(et.matrix),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale)),St===!0&&ae.cameras.push(et)}const ut=r.enabledFeatures;if(ut&&ut.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&D){g=i.getBinding();const ye=g.getDepthInformation($e[0]);ye&&ye.isValid&&ye.texture&&M.init(ye,r.renderState)}if(ut&&ut.includes("camera-access")&&D){e.state.unbindTexture(),g=i.getBinding();for(let ye=0;ye<$e.length;ye++){const ct=$e[ye].camera;if(ct){let Qe=S[ct];Qe||(Qe=new DC,S[ct]=Qe);const et=g.getCameraImage(ct);Qe.sourceTexture=et}}}}for(let $e=0;$e<X.length;$e++){const St=H[$e],ut=X[$e];St!==null&&ut!==void 0&&ut.update(St,je,f||s)}te&&te(Te,je),je.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:je}),_=null}const tt=new xz;tt.setAnimationLoop(Oe),this.setAnimationLoop=function(Te){te=Te},this.dispose=function(){}}}const Bm=new Wu,v$=new Ln;function x$(n,e){function t(M,S){M.matrixAutoUpdate===!0&&M.updateMatrix(),S.value.copy(M.matrix)}function i(M,S){S.color.getRGB(M.fogColor.value,y4(n)),S.isFog?(M.fogNear.value=S.near,M.fogFar.value=S.far):S.isFogExp2&&(M.fogDensity.value=S.density)}function r(M,S,N,P,U){S.isMeshBasicMaterial||S.isMeshLambertMaterial?a(M,S):S.isMeshToonMaterial?(a(M,S),g(M,S)):S.isMeshPhongMaterial?(a(M,S),p(M,S)):S.isMeshStandardMaterial?(a(M,S),y(M,S),S.isMeshPhysicalMaterial&&v(M,S,U)):S.isMeshMatcapMaterial?(a(M,S),_(M,S)):S.isMeshDepthMaterial?a(M,S):S.isMeshDistanceMaterial?(a(M,S),D(M,S)):S.isMeshNormalMaterial?a(M,S):S.isLineBasicMaterial?(s(M,S),S.isLineDashedMaterial&&l(M,S)):S.isPointsMaterial?c(M,S,N,P):S.isSpriteMaterial?f(M,S):S.isShadowMaterial?(M.color.value.copy(S.color),M.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function a(M,S){M.opacity.value=S.opacity,S.color&&M.diffuse.value.copy(S.color),S.emissive&&M.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(M.map.value=S.map,t(S.map,M.mapTransform)),S.alphaMap&&(M.alphaMap.value=S.alphaMap,t(S.alphaMap,M.alphaMapTransform)),S.bumpMap&&(M.bumpMap.value=S.bumpMap,t(S.bumpMap,M.bumpMapTransform),M.bumpScale.value=S.bumpScale,S.side===gl&&(M.bumpScale.value*=-1)),S.normalMap&&(M.normalMap.value=S.normalMap,t(S.normalMap,M.normalMapTransform),M.normalScale.value.copy(S.normalScale),S.side===gl&&M.normalScale.value.negate()),S.displacementMap&&(M.displacementMap.value=S.displacementMap,t(S.displacementMap,M.displacementMapTransform),M.displacementScale.value=S.displacementScale,M.displacementBias.value=S.displacementBias),S.emissiveMap&&(M.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,M.emissiveMapTransform)),S.specularMap&&(M.specularMap.value=S.specularMap,t(S.specularMap,M.specularMapTransform)),S.alphaTest>0&&(M.alphaTest.value=S.alphaTest);const N=e.get(S),P=N.envMap,U=N.envMapRotation;P&&(M.envMap.value=P,Bm.copy(U),Bm.x*=-1,Bm.y*=-1,Bm.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(Bm.y*=-1,Bm.z*=-1),M.envMapRotation.value.setFromMatrix4(v$.makeRotationFromEuler(Bm)),M.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=S.reflectivity,M.ior.value=S.ior,M.refractionRatio.value=S.refractionRatio),S.lightMap&&(M.lightMap.value=S.lightMap,M.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,M.lightMapTransform)),S.aoMap&&(M.aoMap.value=S.aoMap,M.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,M.aoMapTransform))}function s(M,S){M.diffuse.value.copy(S.color),M.opacity.value=S.opacity,S.map&&(M.map.value=S.map,t(S.map,M.mapTransform))}function l(M,S){M.dashSize.value=S.dashSize,M.totalSize.value=S.dashSize+S.gapSize,M.scale.value=S.scale}function c(M,S,N,P){M.diffuse.value.copy(S.color),M.opacity.value=S.opacity,M.size.value=S.size*N,M.scale.value=P*.5,S.map&&(M.map.value=S.map,t(S.map,M.uvTransform)),S.alphaMap&&(M.alphaMap.value=S.alphaMap,t(S.alphaMap,M.alphaMapTransform)),S.alphaTest>0&&(M.alphaTest.value=S.alphaTest)}function f(M,S){M.diffuse.value.copy(S.color),M.opacity.value=S.opacity,M.rotation.value=S.rotation,S.map&&(M.map.value=S.map,t(S.map,M.mapTransform)),S.alphaMap&&(M.alphaMap.value=S.alphaMap,t(S.alphaMap,M.alphaMapTransform)),S.alphaTest>0&&(M.alphaTest.value=S.alphaTest)}function p(M,S){M.specular.value.copy(S.specular),M.shininess.value=Math.max(S.shininess,1e-4)}function g(M,S){S.gradientMap&&(M.gradientMap.value=S.gradientMap)}function y(M,S){M.metalness.value=S.metalness,S.metalnessMap&&(M.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,M.metalnessMapTransform)),M.roughness.value=S.roughness,S.roughnessMap&&(M.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,M.roughnessMapTransform)),S.envMap&&(M.envMapIntensity.value=S.envMapIntensity)}function v(M,S,N){M.ior.value=S.ior,S.sheen>0&&(M.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),M.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(M.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,M.sheenColorMapTransform)),S.sheenRoughnessMap&&(M.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,M.sheenRoughnessMapTransform))),S.clearcoat>0&&(M.clearcoat.value=S.clearcoat,M.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(M.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,M.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(M.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===gl&&M.clearcoatNormalScale.value.negate())),S.dispersion>0&&(M.dispersion.value=S.dispersion),S.iridescence>0&&(M.iridescence.value=S.iridescence,M.iridescenceIOR.value=S.iridescenceIOR,M.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(M.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,M.iridescenceMapTransform)),S.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),S.transmission>0&&(M.transmission.value=S.transmission,M.transmissionSamplerMap.value=N.texture,M.transmissionSamplerSize.value.set(N.width,N.height),S.transmissionMap&&(M.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,M.transmissionMapTransform)),M.thickness.value=S.thickness,S.thicknessMap&&(M.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=S.attenuationDistance,M.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(M.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(M.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,M.anisotropyMapTransform))),M.specularIntensity.value=S.specularIntensity,M.specularColor.value.copy(S.specularColor),S.specularColorMap&&(M.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,M.specularColorMapTransform)),S.specularIntensityMap&&(M.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,M.specularIntensityMapTransform))}function _(M,S){S.matcap&&(M.matcap.value=S.matcap)}function D(M,S){const N=e.get(S).light;M.referencePosition.value.setFromMatrixPosition(N.matrixWorld),M.nearDistance.value=N.shadow.camera.near,M.farDistance.value=N.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function b$(n,e,t,i){let r={},a={},s=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function c(N,P){const U=P.program;i.uniformBlockBinding(N,U)}function f(N,P){let U=r[N.id];U===void 0&&(_(N),U=p(N),r[N.id]=U,N.addEventListener("dispose",M));const X=P.program;i.updateUBOMapping(N,X);const H=e.render.frame;a[N.id]!==H&&(y(N),a[N.id]=H)}function p(N){const P=g();N.__bindingPointIndex=P;const U=n.createBuffer(),X=N.__size,H=N.usage;return n.bindBuffer(n.UNIFORM_BUFFER,U),n.bufferData(n.UNIFORM_BUFFER,X,H),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,P,U),U}function g(){for(let N=0;N<l;N++)if(s.indexOf(N)===-1)return s.push(N),N;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(N){const P=r[N.id],U=N.uniforms,X=N.__cache;n.bindBuffer(n.UNIFORM_BUFFER,P);for(let H=0,G=U.length;H<G;H++){const W=Array.isArray(U[H])?U[H]:[U[H]];for(let B=0,I=W.length;B<I;B++){const Z=W[B];if(v(Z,H,B,X)===!0){const ae=Z.__offset,se=Array.isArray(Z.value)?Z.value:[Z.value];let ge=0;for(let xe=0;xe<se.length;xe++){const ee=se[xe],le=D(ee);typeof ee=="number"||typeof ee=="boolean"?(Z.__data[0]=ee,n.bufferSubData(n.UNIFORM_BUFFER,ae+ge,Z.__data)):ee.isMatrix3?(Z.__data[0]=ee.elements[0],Z.__data[1]=ee.elements[1],Z.__data[2]=ee.elements[2],Z.__data[3]=0,Z.__data[4]=ee.elements[3],Z.__data[5]=ee.elements[4],Z.__data[6]=ee.elements[5],Z.__data[7]=0,Z.__data[8]=ee.elements[6],Z.__data[9]=ee.elements[7],Z.__data[10]=ee.elements[8],Z.__data[11]=0):(ee.toArray(Z.__data,ge),ge+=le.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,ae,Z.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(N,P,U,X){const H=N.value,G=P+"_"+U;if(X[G]===void 0)return typeof H=="number"||typeof H=="boolean"?X[G]=H:X[G]=H.clone(),!0;{const W=X[G];if(typeof H=="number"||typeof H=="boolean"){if(W!==H)return X[G]=H,!0}else if(W.equals(H)===!1)return W.copy(H),!0}return!1}function _(N){const P=N.uniforms;let U=0;const X=16;for(let G=0,W=P.length;G<W;G++){const B=Array.isArray(P[G])?P[G]:[P[G]];for(let I=0,Z=B.length;I<Z;I++){const ae=B[I],se=Array.isArray(ae.value)?ae.value:[ae.value];for(let ge=0,xe=se.length;ge<xe;ge++){const ee=se[ge],le=D(ee),ve=U%X,pe=ve%le.boundary,F=ve+pe;U+=pe,F!==0&&X-F<le.storage&&(U+=X-F),ae.__data=new Float32Array(le.storage/Float32Array.BYTES_PER_ELEMENT),ae.__offset=U,U+=le.storage}}}const H=U%X;return H>0&&(U+=X-H),N.__size=U,N.__cache={},this}function D(N){const P={boundary:0,storage:0};return typeof N=="number"||typeof N=="boolean"?(P.boundary=4,P.storage=4):N.isVector2?(P.boundary=8,P.storage=8):N.isVector3||N.isColor?(P.boundary=16,P.storage=12):N.isVector4?(P.boundary=16,P.storage=16):N.isMatrix3?(P.boundary=48,P.storage=48):N.isMatrix4?(P.boundary=64,P.storage=64):N.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",N),P}function M(N){const P=N.target;P.removeEventListener("dispose",M);const U=s.indexOf(P.__bindingPointIndex);s.splice(U,1),n.deleteBuffer(r[P.id]),delete r[P.id],delete a[P.id]}function S(){for(const N in r)n.deleteBuffer(r[N]);s=[],r={},a={}}return{bind:c,update:f,dispose:S}}class wz{constructor(e={}){const{canvas:t=p4(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:f=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=s;const _=new Uint32Array(4),D=new Int32Array(4);let M=null,S=null;const N=[],P=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Eh,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const U=this;let X=!1;this._outputColorSpace=Uo;let H=0,G=0,W=null,B=-1,I=null;const Z=new Di,ae=new Di;let se=null;const ge=new tn(0);let xe=0,ee=t.width,le=t.height,ve=1,pe=null,F=null;const J=new Di(0,0,ee,le),Le=new Di(0,0,ee,le);let te=!1;const Oe=new Tv;let tt=!1,Te=!1;const je=new Ln,$e=new de,St=new Di,ut={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Yt=!1;function kt(){return W===null?ve:1}let ye=i;function ct(ne,we){return t.getContext(ne,we)}try{const ne={alpha:!0,depth:r,stencil:a,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:f,powerPreference:p,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${kx}`),t.addEventListener("webglcontextlost",Lt,!1),t.addEventListener("webglcontextrestored",Zt,!1),t.addEventListener("webglcontextcreationerror",vt,!1),ye===null){const we="webgl2";if(ye=ct(we,ne),ye===null)throw ct(we)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ne){throw console.error("THREE.WebGLRenderer: "+ne.message),ne}let Qe,et,Je,Ct,yt,mt,Rt,on,he,$,Ue,me,De,Ie,bt,it,zt,Xt,lt,at,sn,Et,gt,ln;function Me(){Qe=new PQ(ye),Qe.init(),Et=new Tz(ye,Qe),et=new wQ(ye,Qe,e,Et),Je=new h$(ye,Qe),et.reversedDepthBuffer&&y&&Je.buffers.depth.setReversed(!0),Ct=new UQ(ye),yt=new $J,mt=new d$(ye,Qe,Je,yt,et,Et,Ct),Rt=new AQ(U),on=new OQ(U),he=new Hq(ye),gt=new EQ(ye,he),$=new LQ(ye,he,Ct,gt),Ue=new zQ(ye,$,he,Ct),lt=new IQ(ye,et,mt),it=new MQ(yt),me=new JJ(U,Rt,on,Qe,et,gt,it),De=new x$(U,yt),Ie=new t$,bt=new o$(Qe),Xt=new SQ(U,Rt,on,Je,Ue,v,c),zt=new c$(U,Ue,et),ln=new b$(ye,Ct,et,Je),at=new TQ(ye,Qe,Ct),sn=new NQ(ye,Qe,Ct),Ct.programs=me.programs,U.capabilities=et,U.extensions=Qe,U.properties=yt,U.renderLists=Ie,U.shadowMap=zt,U.state=Je,U.info=Ct}Me();const Dt=new y$(U,ye);this.xr=Dt,this.getContext=function(){return ye},this.getContextAttributes=function(){return ye.getContextAttributes()},this.forceContextLoss=function(){const ne=Qe.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=Qe.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return ve},this.setPixelRatio=function(ne){ne!==void 0&&(ve=ne,this.setSize(ee,le,!1))},this.getSize=function(ne){return ne.set(ee,le)},this.setSize=function(ne,we,Be=!0){if(Dt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ee=ne,le=we,t.width=Math.floor(ne*ve),t.height=Math.floor(we*ve),Be===!0&&(t.style.width=ne+"px",t.style.height=we+"px"),this.setViewport(0,0,ne,we)},this.getDrawingBufferSize=function(ne){return ne.set(ee*ve,le*ve).floor()},this.setDrawingBufferSize=function(ne,we,Be){ee=ne,le=we,ve=Be,t.width=Math.floor(ne*Be),t.height=Math.floor(we*Be),this.setViewport(0,0,ne,we)},this.getCurrentViewport=function(ne){return ne.copy(Z)},this.getViewport=function(ne){return ne.copy(J)},this.setViewport=function(ne,we,Be,We){ne.isVector4?J.set(ne.x,ne.y,ne.z,ne.w):J.set(ne,we,Be,We),Je.viewport(Z.copy(J).multiplyScalar(ve).round())},this.getScissor=function(ne){return ne.copy(Le)},this.setScissor=function(ne,we,Be,We){ne.isVector4?Le.set(ne.x,ne.y,ne.z,ne.w):Le.set(ne,we,Be,We),Je.scissor(ae.copy(Le).multiplyScalar(ve).round())},this.getScissorTest=function(){return te},this.setScissorTest=function(ne){Je.setScissorTest(te=ne)},this.setOpaqueSort=function(ne){pe=ne},this.setTransparentSort=function(ne){F=ne},this.getClearColor=function(ne){return ne.copy(Xt.getClearColor())},this.setClearColor=function(){Xt.setClearColor(...arguments)},this.getClearAlpha=function(){return Xt.getClearAlpha()},this.setClearAlpha=function(){Xt.setClearAlpha(...arguments)},this.clear=function(ne=!0,we=!0,Be=!0){let We=0;if(ne){let Ce=!1;if(W!==null){const _t=W.texture.format;Ce=_t===A1||_t===M1||_t===Fx}if(Ce){const _t=W.texture.type,Nt=_t===Rc||_t===Cd||_t===tv||_t===nv||_t===E1||_t===T1,Ft=Xt.getClearColor(),Ht=Xt.getClearAlpha(),rn=Ft.r,fn=Ft.g,Gt=Ft.b;Nt?(_[0]=rn,_[1]=fn,_[2]=Gt,_[3]=Ht,ye.clearBufferuiv(ye.COLOR,0,_)):(D[0]=rn,D[1]=fn,D[2]=Gt,D[3]=Ht,ye.clearBufferiv(ye.COLOR,0,D))}else We|=ye.COLOR_BUFFER_BIT}we&&(We|=ye.DEPTH_BUFFER_BIT),Be&&(We|=ye.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ye.clear(We)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Lt,!1),t.removeEventListener("webglcontextrestored",Zt,!1),t.removeEventListener("webglcontextcreationerror",vt,!1),Xt.dispose(),Ie.dispose(),bt.dispose(),yt.dispose(),Rt.dispose(),on.dispose(),Ue.dispose(),gt.dispose(),ln.dispose(),me.dispose(),Dt.dispose(),Dt.removeEventListener("sessionstart",vr),Dt.removeEventListener("sessionend",hi),xr.stop()};function Lt(ne){ne.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),X=!0}function Zt(){console.log("THREE.WebGLRenderer: Context Restored."),X=!1;const ne=Ct.autoReset,we=zt.enabled,Be=zt.autoUpdate,We=zt.needsUpdate,Ce=zt.type;Me(),Ct.autoReset=ne,zt.enabled=we,zt.autoUpdate=Be,zt.needsUpdate=We,zt.type=Ce}function vt(ne){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ne.statusMessage)}function ft(ne){const we=ne.target;we.removeEventListener("dispose",ft),Wt(we)}function Wt(ne){$t(ne),yt.remove(ne)}function $t(ne){const we=yt.get(ne).programs;we!==void 0&&(we.forEach(function(Be){me.releaseProgram(Be)}),ne.isShaderMaterial&&me.releaseShaderCache(ne))}this.renderBufferDirect=function(ne,we,Be,We,Ce,_t){we===null&&(we=ut);const Nt=Ce.isMesh&&Ce.matrixWorld.determinant()<0,Ft=Br(ne,we,Be,We,Ce);Je.setMaterial(We,Nt);let Ht=Be.index,rn=1;if(We.wireframe===!0){if(Ht=$.getWireframeAttribute(Be),Ht===void 0)return;rn=2}const fn=Be.drawRange,Gt=Be.attributes.position;let Nn=fn.start*rn,ni=(fn.start+fn.count)*rn;_t!==null&&(Nn=Math.max(Nn,_t.start*rn),ni=Math.min(ni,(_t.start+_t.count)*rn)),Ht!==null?(Nn=Math.max(Nn,0),ni=Math.min(ni,Ht.count)):Gt!=null&&(Nn=Math.max(Nn,0),ni=Math.min(ni,Gt.count));const di=ni-Nn;if(di<0||di===1/0)return;gt.setup(Ce,We,Ft,Be,Ht);let Cn,Rn=at;if(Ht!==null&&(Cn=he.get(Ht),Rn=sn,Rn.setIndex(Cn)),Ce.isMesh)We.wireframe===!0?(Je.setLineWidth(We.wireframeLinewidth*kt()),Rn.setMode(ye.LINES)):Rn.setMode(ye.TRIANGLES);else if(Ce.isLine){let Qt=We.linewidth;Qt===void 0&&(Qt=1),Je.setLineWidth(Qt*kt()),Ce.isLineSegments?Rn.setMode(ye.LINES):Ce.isLineLoop?Rn.setMode(ye.LINE_LOOP):Rn.setMode(ye.LINE_STRIP)}else Ce.isPoints?Rn.setMode(ye.POINTS):Ce.isSprite&&Rn.setMode(ye.TRIANGLES);if(Ce.isBatchedMesh)if(Ce._multiDrawInstances!==null)fx("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Rn.renderMultiDrawInstances(Ce._multiDrawStarts,Ce._multiDrawCounts,Ce._multiDrawCount,Ce._multiDrawInstances);else if(Qe.get("WEBGL_multi_draw"))Rn.renderMultiDraw(Ce._multiDrawStarts,Ce._multiDrawCounts,Ce._multiDrawCount);else{const Qt=Ce._multiDrawStarts,wi=Ce._multiDrawCounts,Wn=Ce._multiDrawCount,_r=Ht?he.get(Ht).bytesPerElement:1,Zr=yt.get(We).currentProgram.getUniforms();for(let ur=0;ur<Wn;ur++)Zr.setValue(ye,"_gl_DrawID",ur),Rn.render(Qt[ur]/_r,wi[ur])}else if(Ce.isInstancedMesh)Rn.renderInstances(Nn,di,Ce.count);else if(Be.isInstancedBufferGeometry){const Qt=Be._maxInstanceCount!==void 0?Be._maxInstanceCount:1/0,wi=Math.min(Be.instanceCount,Qt);Rn.renderInstances(Nn,di,wi)}else Rn.render(Nn,di)};function Sn(ne,we,Be){ne.transparent===!0&&ne.side===yh&&ne.forceSinglePass===!1?(ne.side=gl,ne.needsUpdate=!0,mn(ne,we,Be),ne.side=Md,ne.needsUpdate=!0,mn(ne,we,Be),ne.side=yh):mn(ne,we,Be)}this.compile=function(ne,we,Be=null){Be===null&&(Be=ne),S=bt.get(Be),S.init(we),P.push(S),Be.traverseVisible(function(Ce){Ce.isLight&&Ce.layers.test(we.layers)&&(S.pushLight(Ce),Ce.castShadow&&S.pushShadow(Ce))}),ne!==Be&&ne.traverseVisible(function(Ce){Ce.isLight&&Ce.layers.test(we.layers)&&(S.pushLight(Ce),Ce.castShadow&&S.pushShadow(Ce))}),S.setupLights();const We=new Set;return ne.traverse(function(Ce){if(!(Ce.isMesh||Ce.isPoints||Ce.isLine||Ce.isSprite))return;const _t=Ce.material;if(_t)if(Array.isArray(_t))for(let Nt=0;Nt<_t.length;Nt++){const Ft=_t[Nt];Sn(Ft,Be,Ce),We.add(Ft)}else Sn(_t,Be,Ce),We.add(_t)}),S=P.pop(),We},this.compileAsync=function(ne,we,Be=null){const We=this.compile(ne,we,Be);return new Promise(Ce=>{function _t(){if(We.forEach(function(Nt){yt.get(Nt).currentProgram.isReady()&&We.delete(Nt)}),We.size===0){Ce(ne);return}setTimeout(_t,10)}Qe.get("KHR_parallel_shader_compile")!==null?_t():setTimeout(_t,10)})};let bn=null;function ca(ne){bn&&bn(ne)}function vr(){xr.stop()}function hi(){xr.start()}const xr=new xz;xr.setAnimationLoop(ca),typeof self<"u"&&xr.setContext(self),this.setAnimationLoop=function(ne){bn=ne,Dt.setAnimationLoop(ne),ne===null?xr.stop():xr.start()},Dt.addEventListener("sessionstart",vr),Dt.addEventListener("sessionend",hi),this.render=function(ne,we){if(we!==void 0&&we.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(X===!0)return;if(ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),we.parent===null&&we.matrixWorldAutoUpdate===!0&&we.updateMatrixWorld(),Dt.enabled===!0&&Dt.isPresenting===!0&&(Dt.cameraAutoUpdate===!0&&Dt.updateCamera(we),we=Dt.getCamera()),ne.isScene===!0&&ne.onBeforeRender(U,ne,we,W),S=bt.get(ne,P.length),S.init(we),P.push(S),je.multiplyMatrices(we.projectionMatrix,we.matrixWorldInverse),Oe.setFromProjectionMatrix(je,Hu,we.reversedDepth),Te=this.localClippingEnabled,tt=it.init(this.clippingPlanes,Te),M=Ie.get(ne,N.length),M.init(),N.push(M),Dt.enabled===!0&&Dt.isPresenting===!0){const _t=U.xr.getDepthSensingMesh();_t!==null&&Ho(_t,we,-1/0,U.sortObjects)}Ho(ne,we,0,U.sortObjects),M.finish(),U.sortObjects===!0&&M.sort(pe,F),Yt=Dt.enabled===!1||Dt.isPresenting===!1||Dt.hasDepthSensing()===!1,Yt&&Xt.addToRenderList(M,ne),this.info.render.frame++,tt===!0&&it.beginShadows();const Be=S.state.shadowsArray;zt.render(Be,ne,we),tt===!0&&it.endShadows(),this.info.autoReset===!0&&this.info.reset();const We=M.opaque,Ce=M.transmissive;if(S.setupLights(),we.isArrayCamera){const _t=we.cameras;if(Ce.length>0)for(let Nt=0,Ft=_t.length;Nt<Ft;Nt++){const Ht=_t[Nt];au(We,Ce,ne,Ht)}Yt&&Xt.render(ne);for(let Nt=0,Ft=_t.length;Nt<Ft;Nt++){const Ht=_t[Nt];Fa(M,ne,Ht,Ht.viewport)}}else Ce.length>0&&au(We,Ce,ne,we),Yt&&Xt.render(ne),Fa(M,ne,we);W!==null&&G===0&&(mt.updateMultisampleRenderTarget(W),mt.updateRenderTargetMipmap(W)),ne.isScene===!0&&ne.onAfterRender(U,ne,we),gt.resetDefaultState(),B=-1,I=null,P.pop(),P.length>0?(S=P[P.length-1],tt===!0&&it.setGlobalState(U.clippingPlanes,S.state.camera)):S=null,N.pop(),N.length>0?M=N[N.length-1]:M=null};function Ho(ne,we,Be,We){if(ne.visible===!1)return;if(ne.layers.test(we.layers)){if(ne.isGroup)Be=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(we);else if(ne.isLight)S.pushLight(ne),ne.castShadow&&S.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||Oe.intersectsSprite(ne)){We&&St.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(je);const Nt=Ue.update(ne),Ft=ne.material;Ft.visible&&M.push(ne,Nt,Ft,Be,St.z,null)}}else if((ne.isMesh||ne.isLine||ne.isPoints)&&(!ne.frustumCulled||Oe.intersectsObject(ne))){const Nt=Ue.update(ne),Ft=ne.material;if(We&&(ne.boundingSphere!==void 0?(ne.boundingSphere===null&&ne.computeBoundingSphere(),St.copy(ne.boundingSphere.center)):(Nt.boundingSphere===null&&Nt.computeBoundingSphere(),St.copy(Nt.boundingSphere.center)),St.applyMatrix4(ne.matrixWorld).applyMatrix4(je)),Array.isArray(Ft)){const Ht=Nt.groups;for(let rn=0,fn=Ht.length;rn<fn;rn++){const Gt=Ht[rn],Nn=Ft[Gt.materialIndex];Nn&&Nn.visible&&M.push(ne,Nt,Nn,Be,St.z,Gt)}}else Ft.visible&&M.push(ne,Nt,Ft,Be,St.z,null)}}const _t=ne.children;for(let Nt=0,Ft=_t.length;Nt<Ft;Nt++)Ho(_t[Nt],we,Be,We)}function Fa(ne,we,Be,We){const Ce=ne.opaque,_t=ne.transmissive,Nt=ne.transparent;S.setupLightsView(Be),tt===!0&&it.setGlobalState(U.clippingPlanes,Be),We&&Je.viewport(Z.copy(We)),Ce.length>0&&Ha(Ce,we,Be),_t.length>0&&Ha(_t,we,Be),Nt.length>0&&Ha(Nt,we,Be),Je.buffers.depth.setTest(!0),Je.buffers.depth.setMask(!0),Je.buffers.color.setMask(!0),Je.setPolygonOffset(!1)}function au(ne,we,Be,We){if((Be.isScene===!0?Be.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[We.id]===void 0&&(S.state.transmissionRenderTarget[We.id]=new wh(1,1,{generateMipmaps:!0,type:Qe.has("EXT_color_buffer_half_float")||Qe.has("EXT_color_buffer_float")?Sv:Rc,minFilter:xh,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:xi.workingColorSpace}));const _t=S.state.transmissionRenderTarget[We.id],Nt=We.viewport||Z;_t.setSize(Nt.z*U.transmissionResolutionScale,Nt.w*U.transmissionResolutionScale);const Ft=U.getRenderTarget(),Ht=U.getActiveCubeFace(),rn=U.getActiveMipmapLevel();U.setRenderTarget(_t),U.getClearColor(ge),xe=U.getClearAlpha(),xe<1&&U.setClearColor(16777215,.5),U.clear(),Yt&&Xt.render(Be);const fn=U.toneMapping;U.toneMapping=Eh;const Gt=We.viewport;if(We.viewport!==void 0&&(We.viewport=void 0),S.setupLightsView(We),tt===!0&&it.setGlobalState(U.clippingPlanes,We),Ha(ne,Be,We),mt.updateMultisampleRenderTarget(_t),mt.updateRenderTargetMipmap(_t),Qe.has("WEBGL_multisampled_render_to_texture")===!1){let Nn=!1;for(let ni=0,di=we.length;ni<di;ni++){const Cn=we[ni],Rn=Cn.object,Qt=Cn.geometry,wi=Cn.material,Wn=Cn.group;if(wi.side===yh&&Rn.layers.test(We.layers)){const _r=wi.side;wi.side=gl,wi.needsUpdate=!0,br(Rn,Be,We,Qt,wi,Wn),wi.side=_r,wi.needsUpdate=!0,Nn=!0}}Nn===!0&&(mt.updateMultisampleRenderTarget(_t),mt.updateRenderTargetMipmap(_t))}U.setRenderTarget(Ft,Ht,rn),U.setClearColor(ge,xe),Gt!==void 0&&(We.viewport=Gt),U.toneMapping=fn}function Ha(ne,we,Be){const We=we.isScene===!0?we.overrideMaterial:null;for(let Ce=0,_t=ne.length;Ce<_t;Ce++){const Nt=ne[Ce],Ft=Nt.object,Ht=Nt.geometry,rn=Nt.group;let fn=Nt.material;fn.allowOverride===!0&&We!==null&&(fn=We),Ft.layers.test(Be.layers)&&br(Ft,we,Be,Ht,fn,rn)}}function br(ne,we,Be,We,Ce,_t){ne.onBeforeRender(U,we,Be,We,Ce,_t),ne.modelViewMatrix.multiplyMatrices(Be.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),Ce.onBeforeRender(U,we,Be,We,ne,_t),Ce.transparent===!0&&Ce.side===yh&&Ce.forceSinglePass===!1?(Ce.side=gl,Ce.needsUpdate=!0,U.renderBufferDirect(Be,we,We,Ce,ne,_t),Ce.side=Md,Ce.needsUpdate=!0,U.renderBufferDirect(Be,we,We,Ce,ne,_t),Ce.side=yh):U.renderBufferDirect(Be,we,We,Ce,ne,_t),ne.onAfterRender(U,we,Be,We,Ce,_t)}function mn(ne,we,Be){we.isScene!==!0&&(we=ut);const We=yt.get(ne),Ce=S.state.lights,_t=S.state.shadowsArray,Nt=Ce.state.version,Ft=me.getParameters(ne,Ce.state,_t,we,Be),Ht=me.getProgramCacheKey(Ft);let rn=We.programs;We.environment=ne.isMeshStandardMaterial?we.environment:null,We.fog=we.fog,We.envMap=(ne.isMeshStandardMaterial?on:Rt).get(ne.envMap||We.environment),We.envMapRotation=We.environment!==null&&ne.envMap===null?we.environmentRotation:ne.envMapRotation,rn===void 0&&(ne.addEventListener("dispose",ft),rn=new Map,We.programs=rn);let fn=rn.get(Ht);if(fn!==void 0){if(We.currentProgram===fn&&We.lightsStateVersion===Nt)return Oa(ne,Ft),fn}else Ft.uniforms=me.getUniforms(ne),ne.onBeforeCompile(Ft,U),fn=me.acquireProgram(Ft,Ht),rn.set(Ht,fn),We.uniforms=Ft.uniforms;const Gt=We.uniforms;return(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(Gt.clippingPlanes=it.uniform),Oa(ne,Ft),We.needsLights=Yu(ne),We.lightsStateVersion=Nt,We.needsLights&&(Gt.ambientLightColor.value=Ce.state.ambient,Gt.lightProbe.value=Ce.state.probe,Gt.directionalLights.value=Ce.state.directional,Gt.directionalLightShadows.value=Ce.state.directionalShadow,Gt.spotLights.value=Ce.state.spot,Gt.spotLightShadows.value=Ce.state.spotShadow,Gt.rectAreaLights.value=Ce.state.rectArea,Gt.ltc_1.value=Ce.state.rectAreaLTC1,Gt.ltc_2.value=Ce.state.rectAreaLTC2,Gt.pointLights.value=Ce.state.point,Gt.pointLightShadows.value=Ce.state.pointShadow,Gt.hemisphereLights.value=Ce.state.hemi,Gt.directionalShadowMap.value=Ce.state.directionalShadowMap,Gt.directionalShadowMatrix.value=Ce.state.directionalShadowMatrix,Gt.spotShadowMap.value=Ce.state.spotShadowMap,Gt.spotLightMatrix.value=Ce.state.spotLightMatrix,Gt.spotLightMap.value=Ce.state.spotLightMap,Gt.pointShadowMap.value=Ce.state.pointShadowMap,Gt.pointShadowMatrix.value=Ce.state.pointShadowMatrix),We.currentProgram=fn,We.uniformsList=null,fn}function pn(ne){if(ne.uniformsList===null){const we=ne.currentProgram.getUniforms();ne.uniformsList=F_.seqWithValue(we.seq,ne.uniforms)}return ne.uniformsList}function Oa(ne,we){const Be=yt.get(ne);Be.outputColorSpace=we.outputColorSpace,Be.batching=we.batching,Be.batchingColor=we.batchingColor,Be.instancing=we.instancing,Be.instancingColor=we.instancingColor,Be.instancingMorph=we.instancingMorph,Be.skinning=we.skinning,Be.morphTargets=we.morphTargets,Be.morphNormals=we.morphNormals,Be.morphColors=we.morphColors,Be.morphTargetsCount=we.morphTargetsCount,Be.numClippingPlanes=we.numClippingPlanes,Be.numIntersection=we.numClipIntersection,Be.vertexAlphas=we.vertexAlphas,Be.vertexTangents=we.vertexTangents,Be.toneMapping=we.toneMapping}function Br(ne,we,Be,We,Ce){we.isScene!==!0&&(we=ut),mt.resetTextureUnits();const _t=we.fog,Nt=We.isMeshStandardMaterial?we.environment:null,Ft=W===null?U.outputColorSpace:W.isXRRenderTarget===!0?W.texture.colorSpace:Bp,Ht=(We.isMeshStandardMaterial?on:Rt).get(We.envMap||Nt),rn=We.vertexColors===!0&&!!Be.attributes.color&&Be.attributes.color.itemSize===4,fn=!!Be.attributes.tangent&&(!!We.normalMap||We.anisotropy>0),Gt=!!Be.morphAttributes.position,Nn=!!Be.morphAttributes.normal,ni=!!Be.morphAttributes.color;let di=Eh;We.toneMapped&&(W===null||W.isXRRenderTarget===!0)&&(di=U.toneMapping);const Cn=Be.morphAttributes.position||Be.morphAttributes.normal||Be.morphAttributes.color,Rn=Cn!==void 0?Cn.length:0,Qt=yt.get(We),wi=S.state.lights;if(tt===!0&&(Te===!0||ne!==I)){const Er=ne===I&&We.id===B;it.setState(We,ne,Er)}let Wn=!1;We.version===Qt.__version?(Qt.needsLights&&Qt.lightsStateVersion!==wi.state.version||Qt.outputColorSpace!==Ft||Ce.isBatchedMesh&&Qt.batching===!1||!Ce.isBatchedMesh&&Qt.batching===!0||Ce.isBatchedMesh&&Qt.batchingColor===!0&&Ce.colorTexture===null||Ce.isBatchedMesh&&Qt.batchingColor===!1&&Ce.colorTexture!==null||Ce.isInstancedMesh&&Qt.instancing===!1||!Ce.isInstancedMesh&&Qt.instancing===!0||Ce.isSkinnedMesh&&Qt.skinning===!1||!Ce.isSkinnedMesh&&Qt.skinning===!0||Ce.isInstancedMesh&&Qt.instancingColor===!0&&Ce.instanceColor===null||Ce.isInstancedMesh&&Qt.instancingColor===!1&&Ce.instanceColor!==null||Ce.isInstancedMesh&&Qt.instancingMorph===!0&&Ce.morphTexture===null||Ce.isInstancedMesh&&Qt.instancingMorph===!1&&Ce.morphTexture!==null||Qt.envMap!==Ht||We.fog===!0&&Qt.fog!==_t||Qt.numClippingPlanes!==void 0&&(Qt.numClippingPlanes!==it.numPlanes||Qt.numIntersection!==it.numIntersection)||Qt.vertexAlphas!==rn||Qt.vertexTangents!==fn||Qt.morphTargets!==Gt||Qt.morphNormals!==Nn||Qt.morphColors!==ni||Qt.toneMapping!==di||Qt.morphTargetsCount!==Rn)&&(Wn=!0):(Wn=!0,Qt.__version=We.version);let _r=Qt.currentProgram;Wn===!0&&(_r=mn(We,we,Ce));let Zr=!1,ur=!1,vl=!1;const Bn=_r.getUniforms(),Sr=Qt.uniforms;if(Je.useProgram(_r.program)&&(Zr=!0,ur=!0,vl=!0),We.id!==B&&(B=We.id,ur=!0),Zr||I!==ne){Je.buffers.depth.getReversed()&&ne.reversedDepth!==!0&&(ne._reversedDepth=!0,ne.updateProjectionMatrix()),Bn.setValue(ye,"projectionMatrix",ne.projectionMatrix),Bn.setValue(ye,"viewMatrix",ne.matrixWorldInverse);const ir=Bn.map.cameraPosition;ir!==void 0&&ir.setValue(ye,$e.setFromMatrixPosition(ne.matrixWorld)),et.logarithmicDepthBuffer&&Bn.setValue(ye,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),(We.isMeshPhongMaterial||We.isMeshToonMaterial||We.isMeshLambertMaterial||We.isMeshBasicMaterial||We.isMeshStandardMaterial||We.isShaderMaterial)&&Bn.setValue(ye,"isOrthographic",ne.isOrthographicCamera===!0),I!==ne&&(I=ne,ur=!0,vl=!0)}if(Ce.isSkinnedMesh){Bn.setOptional(ye,Ce,"bindMatrix"),Bn.setOptional(ye,Ce,"bindMatrixInverse");const Er=Ce.skeleton;Er&&(Er.boneTexture===null&&Er.computeBoneTexture(),Bn.setValue(ye,"boneTexture",Er.boneTexture,mt))}Ce.isBatchedMesh&&(Bn.setOptional(ye,Ce,"batchingTexture"),Bn.setValue(ye,"batchingTexture",Ce._matricesTexture,mt),Bn.setOptional(ye,Ce,"batchingIdTexture"),Bn.setValue(ye,"batchingIdTexture",Ce._indirectTexture,mt),Bn.setOptional(ye,Ce,"batchingColorTexture"),Ce._colorsTexture!==null&&Bn.setValue(ye,"batchingColorTexture",Ce._colorsTexture,mt));const fa=Be.morphAttributes;if((fa.position!==void 0||fa.normal!==void 0||fa.color!==void 0)&&lt.update(Ce,Be,_r),(ur||Qt.receiveShadow!==Ce.receiveShadow)&&(Qt.receiveShadow=Ce.receiveShadow,Bn.setValue(ye,"receiveShadow",Ce.receiveShadow)),We.isMeshGouraudMaterial&&We.envMap!==null&&(Sr.envMap.value=Ht,Sr.flipEnvMap.value=Ht.isCubeTexture&&Ht.isRenderTargetTexture===!1?-1:1),We.isMeshStandardMaterial&&We.envMap===null&&we.environment!==null&&(Sr.envMapIntensity.value=we.environmentIntensity),ur&&(Bn.setValue(ye,"toneMappingExposure",U.toneMappingExposure),Qt.needsLights&&Mf(Sr,vl),_t&&We.fog===!0&&De.refreshFogUniforms(Sr,_t),De.refreshMaterialUniforms(Sr,We,ve,le,S.state.transmissionRenderTarget[ne.id]),F_.upload(ye,pn(Qt),Sr,mt)),We.isShaderMaterial&&We.uniformsNeedUpdate===!0&&(F_.upload(ye,pn(Qt),Sr,mt),We.uniformsNeedUpdate=!1),We.isSpriteMaterial&&Bn.setValue(ye,"center",Ce.center),Bn.setValue(ye,"modelViewMatrix",Ce.modelViewMatrix),Bn.setValue(ye,"normalMatrix",Ce.normalMatrix),Bn.setValue(ye,"modelMatrix",Ce.matrixWorld),We.isShaderMaterial||We.isRawShaderMaterial){const Er=We.uniformsGroups;for(let ir=0,ss=Er.length;ir<ss;ir++){const Fr=Er[ir];ln.update(Fr,_r),ln.bind(Fr,_r)}}return _r}function Mf(ne,we){ne.ambientLightColor.needsUpdate=we,ne.lightProbe.needsUpdate=we,ne.directionalLights.needsUpdate=we,ne.directionalLightShadows.needsUpdate=we,ne.pointLights.needsUpdate=we,ne.pointLightShadows.needsUpdate=we,ne.spotLights.needsUpdate=we,ne.spotLightShadows.needsUpdate=we,ne.rectAreaLights.needsUpdate=we,ne.hemisphereLights.needsUpdate=we}function Yu(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.getActiveCubeFace=function(){return H},this.getActiveMipmapLevel=function(){return G},this.getRenderTarget=function(){return W},this.setRenderTargetTextures=function(ne,we,Be){const We=yt.get(ne);We.__autoAllocateDepthBuffer=ne.resolveDepthBuffer===!1,We.__autoAllocateDepthBuffer===!1&&(We.__useRenderToTexture=!1),yt.get(ne.texture).__webglTexture=we,yt.get(ne.depthTexture).__webglTexture=We.__autoAllocateDepthBuffer?void 0:Be,We.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ne,we){const Be=yt.get(ne);Be.__webglFramebuffer=we,Be.__useDefaultFramebuffer=we===void 0};const Af=ye.createFramebuffer();this.setRenderTarget=function(ne,we=0,Be=0){W=ne,H=we,G=Be;let We=!0,Ce=null,_t=!1,Nt=!1;if(ne){const Ht=yt.get(ne);if(Ht.__useDefaultFramebuffer!==void 0)Je.bindFramebuffer(ye.FRAMEBUFFER,null),We=!1;else if(Ht.__webglFramebuffer===void 0)mt.setupRenderTarget(ne);else if(Ht.__hasExternalTextures)mt.rebindTextures(ne,yt.get(ne.texture).__webglTexture,yt.get(ne.depthTexture).__webglTexture);else if(ne.depthBuffer){const Gt=ne.depthTexture;if(Ht.__boundDepthTexture!==Gt){if(Gt!==null&&yt.has(Gt)&&(ne.width!==Gt.image.width||ne.height!==Gt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");mt.setupDepthRenderbuffer(ne)}}const rn=ne.texture;(rn.isData3DTexture||rn.isDataArrayTexture||rn.isCompressedArrayTexture)&&(Nt=!0);const fn=yt.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(Array.isArray(fn[we])?Ce=fn[we][Be]:Ce=fn[we],_t=!0):ne.samples>0&&mt.useMultisampledRTT(ne)===!1?Ce=yt.get(ne).__webglMultisampledFramebuffer:Array.isArray(fn)?Ce=fn[Be]:Ce=fn,Z.copy(ne.viewport),ae.copy(ne.scissor),se=ne.scissorTest}else Z.copy(J).multiplyScalar(ve).floor(),ae.copy(Le).multiplyScalar(ve).floor(),se=te;if(Be!==0&&(Ce=Af),Je.bindFramebuffer(ye.FRAMEBUFFER,Ce)&&We&&Je.drawBuffers(ne,Ce),Je.viewport(Z),Je.scissor(ae),Je.setScissorTest(se),_t){const Ht=yt.get(ne.texture);ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_CUBE_MAP_POSITIVE_X+we,Ht.__webglTexture,Be)}else if(Nt){const Ht=we;for(let rn=0;rn<ne.textures.length;rn++){const fn=yt.get(ne.textures[rn]);ye.framebufferTextureLayer(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0+rn,fn.__webglTexture,Be,Ht)}}else if(ne!==null&&Be!==0){const Ht=yt.get(ne.texture);ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,Ht.__webglTexture,Be)}B=-1},this.readRenderTargetPixels=function(ne,we,Be,We,Ce,_t,Nt,Ft=0){if(!(ne&&ne.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ht=yt.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&Nt!==void 0&&(Ht=Ht[Nt]),Ht){Je.bindFramebuffer(ye.FRAMEBUFFER,Ht);try{const rn=ne.textures[Ft],fn=rn.format,Gt=rn.type;if(!et.textureFormatReadable(fn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!et.textureTypeReadable(Gt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}we>=0&&we<=ne.width-We&&Be>=0&&Be<=ne.height-Ce&&(ne.textures.length>1&&ye.readBuffer(ye.COLOR_ATTACHMENT0+Ft),ye.readPixels(we,Be,We,Ce,Et.convert(fn),Et.convert(Gt),_t))}finally{const rn=W!==null?yt.get(W).__webglFramebuffer:null;Je.bindFramebuffer(ye.FRAMEBUFFER,rn)}}},this.readRenderTargetPixelsAsync=async function(ne,we,Be,We,Ce,_t,Nt,Ft=0){if(!(ne&&ne.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ht=yt.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&Nt!==void 0&&(Ht=Ht[Nt]),Ht)if(we>=0&&we<=ne.width-We&&Be>=0&&Be<=ne.height-Ce){Je.bindFramebuffer(ye.FRAMEBUFFER,Ht);const rn=ne.textures[Ft],fn=rn.format,Gt=rn.type;if(!et.textureFormatReadable(fn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!et.textureTypeReadable(Gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Nn=ye.createBuffer();ye.bindBuffer(ye.PIXEL_PACK_BUFFER,Nn),ye.bufferData(ye.PIXEL_PACK_BUFFER,_t.byteLength,ye.STREAM_READ),ne.textures.length>1&&ye.readBuffer(ye.COLOR_ATTACHMENT0+Ft),ye.readPixels(we,Be,We,Ce,Et.convert(fn),Et.convert(Gt),0);const ni=W!==null?yt.get(W).__webglFramebuffer:null;Je.bindFramebuffer(ye.FRAMEBUFFER,ni);const di=ye.fenceSync(ye.SYNC_GPU_COMMANDS_COMPLETE,0);return ye.flush(),await aY(ye,di,4),ye.bindBuffer(ye.PIXEL_PACK_BUFFER,Nn),ye.getBufferSubData(ye.PIXEL_PACK_BUFFER,0,_t),ye.deleteBuffer(Nn),ye.deleteSync(di),_t}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ne,we=null,Be=0){const We=Math.pow(2,-Be),Ce=Math.floor(ne.image.width*We),_t=Math.floor(ne.image.height*We),Nt=we!==null?we.x:0,Ft=we!==null?we.y:0;mt.setTexture2D(ne,0),ye.copyTexSubImage2D(ye.TEXTURE_2D,Be,0,0,Nt,Ft,Ce,_t),Je.unbindTexture()};const lo=ye.createFramebuffer(),su=ye.createFramebuffer();this.copyTextureToTexture=function(ne,we,Be=null,We=null,Ce=0,_t=null){_t===null&&(Ce!==0?(fx("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),_t=Ce,Ce=0):_t=0);let Nt,Ft,Ht,rn,fn,Gt,Nn,ni,di;const Cn=ne.isCompressedTexture?ne.mipmaps[_t]:ne.image;if(Be!==null)Nt=Be.max.x-Be.min.x,Ft=Be.max.y-Be.min.y,Ht=Be.isBox3?Be.max.z-Be.min.z:1,rn=Be.min.x,fn=Be.min.y,Gt=Be.isBox3?Be.min.z:0;else{const fa=Math.pow(2,-Ce);Nt=Math.floor(Cn.width*fa),Ft=Math.floor(Cn.height*fa),ne.isDataArrayTexture?Ht=Cn.depth:ne.isData3DTexture?Ht=Math.floor(Cn.depth*fa):Ht=1,rn=0,fn=0,Gt=0}We!==null?(Nn=We.x,ni=We.y,di=We.z):(Nn=0,ni=0,di=0);const Rn=Et.convert(we.format),Qt=Et.convert(we.type);let wi;we.isData3DTexture?(mt.setTexture3D(we,0),wi=ye.TEXTURE_3D):we.isDataArrayTexture||we.isCompressedArrayTexture?(mt.setTexture2DArray(we,0),wi=ye.TEXTURE_2D_ARRAY):(mt.setTexture2D(we,0),wi=ye.TEXTURE_2D),ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,we.flipY),ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,we.premultiplyAlpha),ye.pixelStorei(ye.UNPACK_ALIGNMENT,we.unpackAlignment);const Wn=ye.getParameter(ye.UNPACK_ROW_LENGTH),_r=ye.getParameter(ye.UNPACK_IMAGE_HEIGHT),Zr=ye.getParameter(ye.UNPACK_SKIP_PIXELS),ur=ye.getParameter(ye.UNPACK_SKIP_ROWS),vl=ye.getParameter(ye.UNPACK_SKIP_IMAGES);ye.pixelStorei(ye.UNPACK_ROW_LENGTH,Cn.width),ye.pixelStorei(ye.UNPACK_IMAGE_HEIGHT,Cn.height),ye.pixelStorei(ye.UNPACK_SKIP_PIXELS,rn),ye.pixelStorei(ye.UNPACK_SKIP_ROWS,fn),ye.pixelStorei(ye.UNPACK_SKIP_IMAGES,Gt);const Bn=ne.isDataArrayTexture||ne.isData3DTexture,Sr=we.isDataArrayTexture||we.isData3DTexture;if(ne.isDepthTexture){const fa=yt.get(ne),Er=yt.get(we),ir=yt.get(fa.__renderTarget),ss=yt.get(Er.__renderTarget);Je.bindFramebuffer(ye.READ_FRAMEBUFFER,ir.__webglFramebuffer),Je.bindFramebuffer(ye.DRAW_FRAMEBUFFER,ss.__webglFramebuffer);for(let Fr=0;Fr<Ht;Fr++)Bn&&(ye.framebufferTextureLayer(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,yt.get(ne).__webglTexture,Ce,Gt+Fr),ye.framebufferTextureLayer(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,yt.get(we).__webglTexture,_t,di+Fr)),ye.blitFramebuffer(rn,fn,Nt,Ft,Nn,ni,Nt,Ft,ye.DEPTH_BUFFER_BIT,ye.NEAREST);Je.bindFramebuffer(ye.READ_FRAMEBUFFER,null),Je.bindFramebuffer(ye.DRAW_FRAMEBUFFER,null)}else if(Ce!==0||ne.isRenderTargetTexture||yt.has(ne)){const fa=yt.get(ne),Er=yt.get(we);Je.bindFramebuffer(ye.READ_FRAMEBUFFER,lo),Je.bindFramebuffer(ye.DRAW_FRAMEBUFFER,su);for(let ir=0;ir<Ht;ir++)Bn?ye.framebufferTextureLayer(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,fa.__webglTexture,Ce,Gt+ir):ye.framebufferTexture2D(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,fa.__webglTexture,Ce),Sr?ye.framebufferTextureLayer(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,Er.__webglTexture,_t,di+ir):ye.framebufferTexture2D(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,Er.__webglTexture,_t),Ce!==0?ye.blitFramebuffer(rn,fn,Nt,Ft,Nn,ni,Nt,Ft,ye.COLOR_BUFFER_BIT,ye.NEAREST):Sr?ye.copyTexSubImage3D(wi,_t,Nn,ni,di+ir,rn,fn,Nt,Ft):ye.copyTexSubImage2D(wi,_t,Nn,ni,rn,fn,Nt,Ft);Je.bindFramebuffer(ye.READ_FRAMEBUFFER,null),Je.bindFramebuffer(ye.DRAW_FRAMEBUFFER,null)}else Sr?ne.isDataTexture||ne.isData3DTexture?ye.texSubImage3D(wi,_t,Nn,ni,di,Nt,Ft,Ht,Rn,Qt,Cn.data):we.isCompressedArrayTexture?ye.compressedTexSubImage3D(wi,_t,Nn,ni,di,Nt,Ft,Ht,Rn,Cn.data):ye.texSubImage3D(wi,_t,Nn,ni,di,Nt,Ft,Ht,Rn,Qt,Cn):ne.isDataTexture?ye.texSubImage2D(ye.TEXTURE_2D,_t,Nn,ni,Nt,Ft,Rn,Qt,Cn.data):ne.isCompressedTexture?ye.compressedTexSubImage2D(ye.TEXTURE_2D,_t,Nn,ni,Cn.width,Cn.height,Rn,Cn.data):ye.texSubImage2D(ye.TEXTURE_2D,_t,Nn,ni,Nt,Ft,Rn,Qt,Cn);ye.pixelStorei(ye.UNPACK_ROW_LENGTH,Wn),ye.pixelStorei(ye.UNPACK_IMAGE_HEIGHT,_r),ye.pixelStorei(ye.UNPACK_SKIP_PIXELS,Zr),ye.pixelStorei(ye.UNPACK_SKIP_ROWS,ur),ye.pixelStorei(ye.UNPACK_SKIP_IMAGES,vl),_t===0&&we.generateMipmaps&&ye.generateMipmap(wi),Je.unbindTexture()},this.initRenderTarget=function(ne){yt.get(ne).__webglFramebuffer===void 0&&mt.setupRenderTarget(ne)},this.initTexture=function(ne){ne.isCubeTexture?mt.setTextureCube(ne,0):ne.isData3DTexture?mt.setTexture3D(ne,0):ne.isDataArrayTexture||ne.isCompressedArrayTexture?mt.setTexture2DArray(ne,0):mt.setTexture2D(ne,0),Je.unbindTexture()},this.resetState=function(){H=0,G=0,W=null,Je.reset(),gt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Hu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=xi._getDrawingBufferColorSpace(e),t.unpackColorSpace=xi._getUnpackColorSpace()}}const _$=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:cC,AddEquation:Ep,AddOperation:YI,AdditiveAnimationBlendMode:xC,AdditiveBlending:aS,AgXToneMapping:QI,AlphaFormat:gC,AlwaysCompare:h4,AlwaysDepth:uS,AlwaysStencilFunc:UM,AmbientLight:sz,AnimationAction:mz,AnimationClip:yx,AnimationLoader:Pj,AnimationMixer:oq,AnimationObjectGroup:aq,AnimationUtils:Cj,ArcCurve:O4,ArrayCamera:hz,ArrowHelper:Pq,AttachedBindMode:NM,Audio:dz,AudioAnalyser:Zj,AudioContext:WC,AudioListener:Yj,AudioLoader:Gj,AxesHelper:Lq,BackSide:gl,BasicDepthPacking:i4,BasicShadowMap:MI,BatchedMesh:M4,Bone:AC,BooleanKeyframeTrack:Tg,Box2:gq,Box3:ko,Box3Helper:Dq,BoxGeometry:Eg,BoxHelper:Rq,BufferAttribute:lr,BufferGeometry:Qn,BufferGeometryLoader:fz,ByteType:hC,Cache:bh,Camera:O1,CameraHelper:Cq,CanvasTexture:QY,CapsuleGeometry:k1,CatmullRomCurve3:P4,CineonToneMapping:ZI,CircleGeometry:B1,ClampToEdgeWrapping:Ac,Clock:YC,Color:tn,ColorKeyframeTrack:VC,ColorManagement:xi,CompressedArrayTexture:ZY,CompressedCubeTexture:KY,CompressedTexture:z1,CompressedTextureLoader:Lj,ConeGeometry:Gx,ConstantAlphaFactor:GI,ConstantColorFactor:HI,Controls:Uq,CubeCamera:x4,CubeReflectionMapping:Ad,CubeRefractionMapping:kp,CubeTexture:Hx,CubeTextureLoader:Nj,CubeUVReflectionMapping:_v,CubicBezierCurve:PC,CubicBezierCurve3:L4,CubicInterpolant:J4,CullFaceBack:OM,CullFaceFront:wI,CullFaceFrontBack:rW,CullFaceNone:TI,Curve:wf,CurvePath:U4,CustomBlending:AI,CustomToneMapping:KI,CylinderGeometry:Vx,Cylindrical:mq,Data3DTexture:D1,DataArrayTexture:R1,DataTexture:Th,DataTextureLoader:Uj,DataUtils:bY,DecrementStencilOp:vW,DecrementWrapStencilOp:bW,DefaultLoadingManager:tz,DepthFormat:iv,DepthStencilFormat:rv,DepthTexture:RC,DetachedBindMode:$I,DirectionalLight:az,DirectionalLightHelper:Aq,DiscreteInterpolant:$4,DodecahedronGeometry:F1,DoubleSide:yh,DstAlphaFactor:II,DstColorFactor:kI,DynamicCopyUsage:UW,DynamicDrawUsage:RW,DynamicReadUsage:PW,EdgesGeometry:D4,EllipseCurve:H1,EqualCompare:l4,EqualDepth:fS,EqualStencilFunc:TW,EquirectangularReflectionMapping:nx,EquirectangularRefractionMapping:ix,Euler:Wu,EventDispatcher:Rh,ExternalTexture:DC,ExtrudeGeometry:V1,FileLoader:Rd,Float16BufferAttribute:AY,Float32BufferAttribute:cn,FloatType:eu,Fog:L1,FogExp2:P1,FramebufferTexture:qY,FrontSide:Md,Frustum:Tv,FrustumArray:I1,GLBufferAttribute:hq,GLSL1:zW,GLSL3:IM,GreaterCompare:u4,GreaterDepth:dS,GreaterEqualCompare:f4,GreaterEqualDepth:hS,GreaterEqualStencilFunc:CW,GreaterStencilFunc:MW,GridHelper:wq,Group:Uy,HalfFloatType:Sv,HemisphereLight:nz,HemisphereLightHelper:Tq,IcosahedronGeometry:G1,ImageBitmapLoader:Vj,ImageLoader:vx,ImageUtils:m4,IncrementStencilOp:yW,IncrementWrapStencilOp:xW,InstancedBufferAttribute:uv,InstancedBufferGeometry:cz,InstancedInterleavedBuffer:fq,InstancedMesh:w4,Int16BufferAttribute:wY,Int32BufferAttribute:MY,Int8BufferAttribute:SY,IntType:S1,InterleavedBuffer:N1,InterleavedBufferAttribute:vg,Interpolant:Yx,InterpolateDiscrete:sx,InterpolateLinear:GS,InterpolateSmooth:k_,InterpolationSamplingMode:FW,InterpolationSamplingType:BW,InvertStencilOp:_W,KeepStencilOp:Xm,KeyframeTrack:Oc,LOD:E4,LatheGeometry:X1,Layers:ov,LessCompare:o4,LessDepth:cS,LessEqualCompare:bC,LessEqualDepth:yg,LessEqualStencilFunc:wW,LessStencilFunc:EW,Light:jp,LightProbe:uz,Line:Fp,Line3:xq,LineBasicMaterial:yl,LineCurve:LC,LineCurve3:N4,LineDashedMaterial:Z4,LineLoop:A4,LineSegments:Dh,LinearFilter:xs,LinearInterpolant:HC,LinearMipMapLinearFilter:lW,LinearMipMapNearestFilter:oW,LinearMipmapLinearFilter:xh,LinearMipmapNearestFilter:L0,LinearSRGBColorSpace:Bp,LinearToneMapping:jI,LinearTransfer:lx,Loader:nu,LoaderUtils:HM,LoadingManager:GC,LoopOnce:e4,LoopPingPong:n4,LoopRepeat:t4,MOUSE:nW,Material:Bo,MaterialLoader:Q1,MathUtils:iY,Matrix2:KC,Matrix3:Xn,Matrix4:Ln,MaxEquation:OI,Mesh:as,MeshBasicMaterial:Wp,MeshDepthMaterial:kC,MeshDistanceMaterial:BC,MeshLambertMaterial:j4,MeshMatcapMaterial:q4,MeshNormalMaterial:Y4,MeshPhongMaterial:X4,MeshPhysicalMaterial:G4,MeshStandardMaterial:zC,MeshToonMaterial:W4,MinEquation:DI,MirroredRepeatWrapping:ax,MixOperation:WI,MultiplyBlending:LM,MultiplyOperation:Bx,NearestFilter:so,NearestMipMapLinearFilter:sW,NearestMipMapNearestFilter:aW,NearestMipmapLinearFilter:Ly,NearestMipmapNearestFilter:fC,NeutralToneMapping:JI,NeverCompare:s4,NeverDepth:lS,NeverStencilFunc:SW,NoBlending:xd,NoColorSpace:gd,NoToneMapping:Eh,NormalAnimationBlendMode:C1,NormalBlending:fg,NotEqualCompare:c4,NotEqualDepth:pS,NotEqualStencilFunc:AW,NumberKeyframeTrack:mx,Object3D:Oi,ObjectLoader:Fj,ObjectSpaceNormalMap:a4,OctahedronGeometry:Xx,OneFactor:LI,OneMinusConstantAlphaFactor:XI,OneMinusConstantColorFactor:VI,OneMinusDstAlphaFactor:zI,OneMinusDstColorFactor:BI,OneMinusSrcAlphaFactor:oS,OneMinusSrcColorFactor:UI,OrthographicCamera:qx,PCFShadowMap:b1,PCFSoftShadowMap:P0,PMREMGenerator:XM,Path:jS,PerspectiveCamera:Us,Plane:bp,PlaneGeometry:wv,PlaneHelper:Oq,PointLight:rz,PointLightHelper:Sq,Points:C4,PointsMaterial:CC,PolarGridHelper:Mq,PolyhedronGeometry:Yp,PositionalAudio:qj,PropertyBinding:Ri,PropertyMixer:pz,QuadraticBezierCurve:NC,QuadraticBezierCurve3:UC,Quaternion:tu,QuaternionKeyframeTrack:jx,QuaternionLinearInterpolant:ez,RED_GREEN_RGTC2_Format:HS,RED_RGTC1_Format:BS,REVISION:kx,RGBADepthPacking:r4,RGBAFormat:Io,RGBAIntegerFormat:A1,RGBA_ASTC_10x10_Format:LS,RGBA_ASTC_10x5_Format:DS,RGBA_ASTC_10x6_Format:OS,RGBA_ASTC_10x8_Format:PS,RGBA_ASTC_12x10_Format:NS,RGBA_ASTC_12x12_Format:US,RGBA_ASTC_4x4_Format:SS,RGBA_ASTC_5x4_Format:ES,RGBA_ASTC_5x5_Format:TS,RGBA_ASTC_6x5_Format:wS,RGBA_ASTC_6x6_Format:MS,RGBA_ASTC_8x5_Format:AS,RGBA_ASTC_8x6_Format:CS,RGBA_ASTC_8x8_Format:RS,RGBA_BPTC_Format:IS,RGBA_ETC2_EAC_Format:_S,RGBA_PVRTC_2BPPV1_Format:vS,RGBA_PVRTC_4BPPV1_Format:yS,RGBA_S3TC_DXT1_Format:U0,RGBA_S3TC_DXT3_Format:I0,RGBA_S3TC_DXT5_Format:z0,RGBDepthPacking:dW,RGBFormat:yC,RGBIntegerFormat:uW,RGB_BPTC_SIGNED_Format:zS,RGB_BPTC_UNSIGNED_Format:kS,RGB_ETC1_Format:xS,RGB_ETC2_Format:bS,RGB_PVRTC_2BPPV1_Format:gS,RGB_PVRTC_4BPPV1_Format:mS,RGB_S3TC_DXT1_Format:N0,RGDepthPacking:pW,RGFormat:vC,RGIntegerFormat:M1,RawShaderMaterial:V4,Ray:Ev,Raycaster:gz,RectAreaLight:oz,RedFormat:w1,RedIntegerFormat:Fx,ReinhardToneMapping:qI,RenderTarget:SC,RenderTarget3D:lq,RepeatWrapping:rx,ReplaceStencilOp:gW,ReverseSubtractEquation:RI,RingGeometry:W1,SIGNED_RED_GREEN_RGTC2_Format:VS,SIGNED_RED_RGTC1_Format:FS,SRGBColorSpace:Uo,SRGBTransfer:nr,Scene:wC,ShaderChunk:ti,ShaderLib:xf,ShaderMaterial:Dc,ShadowMaterial:H4,Shape:dg,ShapeGeometry:Y1,ShapePath:Nq,ShapeUtils:bf,ShortType:dC,Skeleton:U1,SkeletonHelper:_q,SkinnedMesh:T4,Source:Lp,Sphere:oo,SphereGeometry:Wx,Spherical:yz,SphericalHarmonics3:lz,SplineCurve:IC,SpotLight:iz,SpotLightHelper:bq,Sprite:S4,SpriteMaterial:MC,SrcAlphaFactor:sS,SrcAlphaSaturateFactor:FI,SrcColorFactor:NI,StaticCopyUsage:NW,StaticDrawUsage:ux,StaticReadUsage:OW,StereoCamera:Xj,StreamCopyUsage:IW,StreamDrawUsage:DW,StreamReadUsage:LW,StringKeyframeTrack:wg,SubtractEquation:CI,SubtractiveBlending:PM,TOUCH:iW,TangentSpaceNormalMap:Xp,TetrahedronGeometry:j1,Texture:Da,TextureLoader:Ij,TextureUtils:Fq,Timer:dq,TimestampQuery:kW,TorusGeometry:q1,TorusKnotGeometry:Z1,Triangle:Jl,TriangleFanDrawMode:hW,TriangleStripDrawMode:fW,TrianglesDrawMode:cW,TubeGeometry:K1,UVMapping:_1,Uint16BufferAttribute:EC,Uint32BufferAttribute:TC,Uint8BufferAttribute:EY,Uint8ClampedBufferAttribute:TY,Uniform:ZC,UniformsGroup:cq,UniformsLib:qt,UniformsUtils:v4,UnsignedByteType:Rc,UnsignedInt101111Type:mC,UnsignedInt248Type:nv,UnsignedInt5999Type:pC,UnsignedIntType:Cd,UnsignedShort4444Type:E1,UnsignedShort5551Type:T1,UnsignedShortType:tv,VSMShadowMap:mf,Vector2:xt,Vector3:de,Vector4:Di,VectorKeyframeTrack:gx,VideoFrameTexture:jY,VideoTexture:R4,WebGL3DRenderTarget:cY,WebGLArrayRenderTarget:uY,WebGLCoordinateSystem:Hu,WebGLCubeRenderTarget:b4,WebGLRenderTarget:wh,WebGLRenderer:wz,WebGLUtils:Tz,WebGPUCoordinateSystem:av,WebXRController:B_,WireframeGeometry:F4,WrapAroundEnding:ox,ZeroCurvatureEnding:Qm,ZeroFactor:PI,ZeroSlopeEnding:Jm,ZeroStencilOp:mW,createCanvasElement:p4},Symbol.toStringTag,{value:"Module"}));var JT={exports:{}},$T={},ew={exports:{}},tw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO;function S$(){if(YO)return tw;YO=1;var n=Mh();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function l(g,y){var v=y(),_=i({inst:{value:v,getSnapshot:y}}),D=_[0].inst,M=_[1];return a(function(){D.value=v,D.getSnapshot=y,c(D)&&M({inst:D})},[g,v,y]),r(function(){return c(D)&&M({inst:D}),g(function(){c(D)&&M({inst:D})})},[g]),s(v),v}function c(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!t(g,v)}catch{return!0}}function f(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return tw.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,tw}var jO;function E$(){return jO||(jO=1,ew.exports=S$()),ew.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO;function T$(){if(qO)return $T;qO=1;var n=Mh(),e=E$();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,s=n.useEffect,l=n.useMemo,c=n.useDebugValue;return $T.useSyncExternalStoreWithSelector=function(f,p,g,y,v){var _=a(null);if(_.current===null){var D={hasValue:!1,value:null};_.current=D}else D=_.current;_=l(function(){function S(H){if(!N){if(N=!0,P=H,H=y(H),v!==void 0&&D.hasValue){var G=D.value;if(v(G,H))return U=G}return U=H}if(G=U,i(P,H))return G;var W=y(H);return v!==void 0&&v(G,W)?(P=H,G):(P=H,U=W)}var N=!1,P,U,X=g===void 0?null:g;return[function(){return S(p())},X===null?void 0:function(){return S(X())}]},[p,g,y,v]);var M=r(f,_[0],_[1]);return s(function(){D.hasValue=!0,D.value=M},[M]),c(M),M},$T}var ZO;function w$(){return ZO||(ZO=1,JT.exports=T$()),JT.exports}var M$=w$();const A$=dv(M$),KO=n=>{let e;const t=new Set,i=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const y=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(v=>v(e,y))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>c,subscribe:f=>(t.add(f),()=>t.delete(f))},c=e=n(i,r,l);return l},C$=(n=>n?KO(n):KO),{useSyncExternalStoreWithSelector:R$}=A$,D$=n=>n;function O$(n,e=D$,t){const i=R$(n.subscribe,n.getState,n.getInitialState,e,t);return Np.useDebugValue(i),i}const QO=(n,e)=>{const t=C$(n),i=(r,a=e)=>O$(t,r,a);return Object.assign(i,t),i},P$=((n,e)=>n?QO(n,e):QO);var nw={exports:{}},iw={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO;function L$(){return JO||(JO=1,(function(n){n.exports=function(e){function t(h,d,b,C){return new If(h,d,b,C)}function i(){}function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)d+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return h===null||typeof h!="object"?null:(h=Vt&&h[Vt]||h["@@iterator"],typeof h=="function"?h:null)}function s(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===en?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case A:return"Fragment";case E:return"Portal";case Y:return"Profiler";case z:return"StrictMode";case Ae:return"Suspense";case Ke:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case _e:return(h.displayName||"Context")+".Provider";case ue:return(h._context.displayName||"Context")+".Consumer";case Ne:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case dt:return d=h.displayName||null,d!==null?d:s(h.type)||"Memo";case nt:d=h._payload,h=h._init;try{return s(h(d))}catch{}}return null}function l(h){if(ki===void 0)try{throw Error()}catch(b){var d=b.stack.trim().match(/\n( *(at )?)/);ki=d&&d[1]||"",ar=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ki+h+ar}function c(h,d){if(!h||Ci)return"";Ci=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(d){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(kn){var Ot=kn}Reflect.construct(h,[],jt)}else{try{jt.call()}catch(kn){Ot=kn}h.call(jt.prototype)}}else{try{throw Error()}catch(kn){Ot=kn}(jt=h())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(kn){if(kn&&Ot&&typeof kn.stack=="string")return[kn.stack,Ot.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var V=C.DetermineComponentFrameRoot(),re=V[0],Ee=V[1];if(re&&Ee){var He=re.split(`
`),st=Ee.split(`
`);for(L=C=0;C<He.length&&!He[C].includes("DetermineComponentFrameRoot");)C++;for(;L<st.length&&!st[L].includes("DetermineComponentFrameRoot");)L++;if(C===He.length||L===st.length)for(C=He.length-1,L=st.length-1;1<=C&&0<=L&&He[C]!==st[L];)L--;for(;1<=C&&0<=L;C--,L--)if(He[C]!==st[L]){if(C!==1||L!==1)do if(C--,L--,0>L||He[C]!==st[L]){var Pt=`
`+He[C].replace(" at new "," at ");return h.displayName&&Pt.includes("<anonymous>")&&(Pt=Pt.replace("<anonymous>",h.displayName)),Pt}while(1<=C&&0<=L);break}}}finally{Ci=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?l(b):""}function f(h){switch(h.tag){case 26:case 27:case 5:return l(h.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return h=c(h.type,!1),h;case 11:return h=c(h.type.render,!1),h;case 1:return h=c(h.type,!0),h;default:return""}}function p(h){try{var d="";do d+=f(h),h=h.return;while(h);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function g(h){var d=h,b=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,(d.flags&4098)!==0&&(b=d.return),h=d.return;while(h)}return d.tag===3?b:null}function y(h){if(g(h)!==h)throw Error(r(188))}function v(h){var d=h.alternate;if(!d){if(d=g(h),d===null)throw Error(r(188));return d!==h?null:h}for(var b=h,C=d;;){var L=b.return;if(L===null)break;var V=L.alternate;if(V===null){if(C=L.return,C!==null){b=C;continue}break}if(L.child===V.child){for(V=L.child;V;){if(V===b)return y(L),h;if(V===C)return y(L),d;V=V.sibling}throw Error(r(188))}if(b.return!==C.return)b=L,C=V;else{for(var re=!1,Ee=L.child;Ee;){if(Ee===b){re=!0,b=L,C=V;break}if(Ee===C){re=!0,C=L,b=V;break}Ee=Ee.sibling}if(!re){for(Ee=V.child;Ee;){if(Ee===b){re=!0,b=V,C=L;break}if(Ee===C){re=!0,C=V,b=L;break}Ee=Ee.sibling}if(!re)throw Error(r(189))}}if(b.alternate!==C)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?h:d}function _(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(d=_(h),d!==null)return d;h=h.sibling}return null}function D(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(d=D(h),d!==null))return d;h=h.sibling}return null}function M(h){return{current:h}}function S(h){0>Qf||(h.current=Rg[Qf],Rg[Qf]=null,Qf--)}function N(h,d){Qf++,Rg[Qf]=h.current,h.current=d}function P(h){return h>>>=0,h===0?32:31-(Dv(h)/aE|0)|0}function U(h){var d=h&42;if(d!==0)return d;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function X(h,d){var b=h.pendingLanes;if(b===0)return 0;var C=0,L=h.suspendedLanes,V=h.pingedLanes,re=h.warmLanes;h=h.finishedLanes!==0;var Ee=b&134217727;return Ee!==0?(b=Ee&~L,b!==0?C=U(b):(V&=Ee,V!==0?C=U(V):h||(re=Ee&~re,re!==0&&(C=U(re))))):(Ee=b&~L,Ee!==0?C=U(Ee):V!==0?C=U(V):h||(re=b&~re,re!==0&&(C=U(re)))),C===0?0:d!==0&&d!==C&&(d&L)===0&&(L=C&-C,re=d&-d,L>=re||L===32&&(re&4194176)!==0)?d:C}function H(h,d){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&d)===0}function G(h,d){switch(h){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W(){var h=hm;return hm<<=1,(hm&4194176)===0&&(hm=128),h}function B(){var h=Wd;return Wd<<=1,(Wd&62914560)===0&&(Wd=4194304),h}function I(h){for(var d=[],b=0;31>b;b++)d.push(h);return d}function Z(h,d){h.pendingLanes|=d,d!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function ae(h,d,b,C,L,V){var re=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var Ee=h.entanglements,He=h.expirationTimes,st=h.hiddenUpdates;for(b=re&~b;0<b;){var Pt=31-ta(b),jt=1<<Pt;Ee[Pt]=0,He[Pt]=-1;var Ot=st[Pt];if(Ot!==null)for(st[Pt]=null,Pt=0;Pt<Ot.length;Pt++){var kn=Ot[Pt];kn!==null&&(kn.lane&=-536870913)}b&=~jt}C!==0&&se(h,C,0),V!==0&&L===0&&h.tag!==0&&(h.suspendedLanes|=V&~(re&~d))}function se(h,d,b){h.pendingLanes|=d,h.suspendedLanes&=~d;var C=31-ta(d);h.entangledLanes|=d,h.entanglements[C]=h.entanglements[C]|1073741824|b&4194218}function ge(h,d){var b=h.entangledLanes|=d;for(h=h.entanglements;b;){var C=31-ta(b),L=1<<C;L&d|h[C]&d&&(h[C]|=d),b&=~L}}function xe(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function ee(h){if(_a&&typeof _a.onCommitFiberRoot=="function")try{_a.onCommitFiberRoot(jd,h,void 0,(h.current.flags&128)===128)}catch{}}function le(h){if(typeof ws=="function"&&Og(h),_a&&typeof _a.setStrictMode=="function")try{_a.setStrictMode(jd,h)}catch{}}function ve(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}function pe(h,d){if(typeof h=="object"&&h!==null){var b=Pg.get(h);return b!==void 0?b:(d={value:h,source:d,stack:p(d)},Pg.set(h,d),d)}return{value:h,source:d,stack:p(d)}}function F(h,d){rl[al++]=qd,rl[al++]=$f,$f=h,qd=d}function J(h,d,b){Co[Ms++]=dc,Co[Ms++]=pc,Co[Ms++]=Ou,Ou=h;var C=dc;h=pc;var L=32-ta(C)-1;C&=~(1<<L),b+=1;var V=32-ta(d)+L;if(30<V){var re=L-L%5;V=(C&(1<<re)-1).toString(32),C>>=re,L-=re,dc=1<<32-ta(d)+L|b<<L|C,pc=V+h}else dc=1<<V|b<<L|C,pc=h}function Le(h){h.return!==null&&(F(h,1),J(h,1,0))}function te(h){for(;h===$f;)$f=rl[--al],rl[al]=null,qd=rl[--al],rl[al]=null;for(;h===Ou;)Ou=Co[--Ms],Co[Ms]=null,pc=Co[--Ms],Co[Ms]=null,dc=Co[--Ms],Co[Ms]=null}function Oe(h,d){N(Jc,d),N(Il,h),N(na,null),h=Ir(d),S(na),N(na,h)}function tt(){S(na),S(Il),S(Jc)}function Te(h){h.memoizedState!==null&&N(pm,h);var d=na.current,b=Ka(d,h.type);d!==b&&(N(Il,h),N(na,b))}function je(h){Il.current===h&&(S(na),S(Il)),pm.current===h&&(S(pm),qs?Ol._currentValue=oc:Ol._currentValue2=oc)}function $e(h){var d=Error(r(418,""));throw ye(pe(d,h)),mm}function St(h,d){if(!Ja)throw Error(r(175));uc(h.stateNode,h.type,h.memoizedProps,d,h)||$e(h)}function ut(h){for(ia=h.return;ia;)switch(ia.tag){case 3:case 27:Pu=!0;return;case 5:case 13:Pu=!1;return;default:ia=ia.return}}function Yt(h){if(!Ja||h!==ia)return!1;if(!mi)return ut(h),mi=!0,!1;var d=!1;if(ea?h.tag!==3&&h.tag!==27&&(h.tag!==5||Vd(h.type)&&!xa(h.type,h.memoizedProps))&&(d=!0):h.tag!==3&&(h.tag!==5||Vd(h.type)&&!xa(h.type,h.memoizedProps))&&(d=!0),d&&Xi&&$e(h),ut(h),h.tag===13){if(!Ja)throw Error(r(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));Xi=jc(h)}else Xi=ia?nl(h.stateNode):null;return!0}function kt(){Ja&&(Xi=ia=null,mi=!1)}function ye(h){zl===null?zl=[h]:zl.push(h)}function ct(){for(var h=$c,d=Lu=$c=0;d<h;){var b=Ro[d];Ro[d++]=null;var C=Ro[d];Ro[d++]=null;var L=Ro[d];Ro[d++]=null;var V=Ro[d];if(Ro[d++]=null,C!==null&&L!==null){var re=C.pending;re===null?L.next=L:(L.next=re.next,re.next=L),C.pending=L}V!==0&&Ct(b,L,V)}}function Qe(h,d,b,C){Ro[$c++]=h,Ro[$c++]=d,Ro[$c++]=b,Ro[$c++]=C,Lu|=C,h.lanes|=C,h=h.alternate,h!==null&&(h.lanes|=C)}function et(h,d,b,C){return Qe(h,d,b,C),yt(h)}function Je(h,d){return Qe(h,null,null,d),yt(h)}function Ct(h,d,b){h.lanes|=b;var C=h.alternate;C!==null&&(C.lanes|=b);for(var L=!1,V=h.return;V!==null;)V.childLanes|=b,C=V.alternate,C!==null&&(C.childLanes|=b),V.tag===22&&(h=V.stateNode,h===null||h._visibility&1||(L=!0)),h=V,V=V.return;L&&d!==null&&h.tag===3&&(V=h.stateNode,L=31-ta(b),V=V.hiddenUpdates,h=V[L],h===null?V[L]=[d]:h.push(d),d.lane=b|536870912)}function yt(h){if(50<$h)throw $h=0,Uv=null,Error(r(185));for(var d=h.return;d!==null;)h=d,d=h.return;return h.tag===3?h.stateNode:null}function mt(h){h!==eh&&h.next===null&&(eh===null?pr=eh=h:eh=eh.next=h),ra=!0,Lg||(Lg=!0,me(on))}function Rt(h,d){if(!Ng&&ra){Ng=!0;do for(var b=!1,C=pr;C!==null;){if(h!==0){var L=C.pendingLanes;if(L===0)var V=0;else{var re=C.suspendedLanes,Ee=C.pingedLanes;V=(1<<31-ta(42|h)+1)-1,V&=L&~(re&~Ee),V=V&201326677?V&201326677|1:V?V|2:0}V!==0&&(b=!0,Ue(C,V))}else V=si,V=X(C,C===Yi?V:0),(V&3)===0||H(C,V)||(b=!0,Ue(C,V));C=C.next}while(b);Ng=!1}}function on(){ra=Lg=!1;var h=0;Zd!==0&&(Qp()&&(h=Zd),Zd=0);for(var d=il(),b=null,C=pr;C!==null;){var L=C.next,V=he(C,d);V===0?(C.next=null,b===null?pr=L:b.next=L,L===null&&(eh=b)):(b=C,(h!==0||(V&3)!==0)&&(ra=!0)),C=L}Rt(h)}function he(h,d){for(var b=h.suspendedLanes,C=h.pingedLanes,L=h.expirationTimes,V=h.pendingLanes&-62914561;0<V;){var re=31-ta(V),Ee=1<<re,He=L[re];He===-1?((Ee&b)===0||(Ee&C)!==0)&&(L[re]=G(Ee,d)):He<=d&&(h.expiredLanes|=Ee),V&=~Ee}if(d=Yi,b=si,b=X(h,h===d?b:0),C=h.callbackNode,b===0||h===d&&Fi===2||h.cancelPendingCommit!==null)return C!==null&&C!==null&&Du(C),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||H(h,b)){if(d=b&-b,d===h.callbackPriority)return d;switch(C!==null&&Du(C),xe(b)){case 2:case 8:b=dm;break;case 32:b=Yd;break;case 268435456:b=jh;break;default:b=Yd}return C=$.bind(null,h),b=hc(b,C),h.callbackPriority=d,h.callbackNode=b,d}return C!==null&&C!==null&&Du(C),h.callbackPriority=2,h.callbackNode=null,2}function $(h,d){var b=h.callbackNode;if(Ws()&&h.callbackNode!==b)return null;var C=si;return C=X(h,h===Yi?C:0),C===0?null:(Wr(h,C,d),he(h,il()),h.callbackNode!=null&&h.callbackNode===b?$.bind(null,h):null)}function Ue(h,d){if(Ws())return null;Wr(h,d,!0)}function me(h){$p?lc(function(){(ai&6)!==0?hc(Dg,h):h()}):hc(Dg,h)}function De(){return Zd===0&&(Zd=W()),Zd}function Ie(h,d){if(Kd===null){var b=Kd=[];Ug=0,mr=De(),es={status:"pending",value:void 0,then:function(C){b.push(C)}}}return Ug++,d.then(bt,bt),d}function bt(){if(--Ug===0&&Kd!==null){es!==null&&(es.status="fulfilled");var h=Kd;Kd=null,mr=0,es=null;for(var d=0;d<h.length;d++)(0,h[d])()}}function it(h,d){var b=[],C={status:"pending",value:null,reason:null,then:function(L){b.push(L)}};return h.then(function(){C.status="fulfilled",C.value=d;for(var L=0;L<b.length;L++)(0,b[L])(d)},function(L){for(C.status="rejected",C.reason=L,L=0;L<b.length;L++)(0,b[L])(void 0)}),C}function zt(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xt(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function lt(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function at(h,d,b){var C=h.updateQueue;if(C===null)return null;if(C=C.shared,(ai&2)!==0){var L=C.pending;return L===null?d.next=d:(d.next=L.next,L.next=d),C.pending=d,d=yt(h),Ct(h,null,b),d}return Qe(h,C,d,b),yt(h)}function sn(h,d,b){if(d=d.updateQueue,d!==null&&(d=d.shared,(b&4194176)!==0)){var C=d.lanes;C&=h.pendingLanes,b|=C,d.lanes=b,ge(h,b)}}function Et(h,d){var b=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,b===C)){var L=null,V=null;if(b=b.firstBaseUpdate,b!==null){do{var re={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};V===null?L=V=re:V=V.next=re,b=b.next}while(b!==null);V===null?L=V=d:V=V.next=d}else L=V=d;b={baseState:C.baseState,firstBaseUpdate:L,lastBaseUpdate:V,shared:C.shared,callbacks:C.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=d:h.next=d,b.lastBaseUpdate=d}function gt(){if(Ig){var h=es;if(h!==null)throw h}}function ln(h,d,b,C){Ig=!1;var L=h.updateQueue;As=!1;var V=L.firstBaseUpdate,re=L.lastBaseUpdate,Ee=L.shared.pending;if(Ee!==null){L.shared.pending=null;var He=Ee,st=He.next;He.next=null,re===null?V=st:re.next=st,re=He;var Pt=h.alternate;Pt!==null&&(Pt=Pt.updateQueue,Ee=Pt.lastBaseUpdate,Ee!==re&&(Ee===null?Pt.firstBaseUpdate=st:Ee.next=st,Pt.lastBaseUpdate=He))}if(V!==null){var jt=L.baseState;re=0,Pt=st=He=null,Ee=V;do{var Ot=Ee.lane&-536870913,kn=Ot!==Ee.lane;if(kn?(si&Ot)===Ot:(C&Ot)===Ot){Ot!==0&&Ot===mr&&(Ig=!0),Pt!==null&&(Pt=Pt.next={lane:0,tag:Ee.tag,payload:Ee.payload,callback:null,next:null});e:{var Wl=h,np=Ee;Ot=d;var ed=b;switch(np.tag){case 1:if(Wl=np.payload,typeof Wl=="function"){jt=Wl.call(ed,jt,Ot);break e}jt=Wl;break e;case 3:Wl.flags=Wl.flags&-65537|128;case 0:if(Wl=np.payload,Ot=typeof Wl=="function"?Wl.call(ed,jt,Ot):Wl,Ot==null)break e;jt=Ji({},jt,Ot);break e;case 2:As=!0}}Ot=Ee.callback,Ot!==null&&(h.flags|=64,kn&&(h.flags|=8192),kn=L.callbacks,kn===null?L.callbacks=[Ot]:kn.push(Ot))}else kn={lane:Ot,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},Pt===null?(st=Pt=kn,He=jt):Pt=Pt.next=kn,re|=Ot;if(Ee=Ee.next,Ee===null){if(Ee=L.shared.pending,Ee===null)break;kn=Ee,Ee=kn.next,kn.next=null,L.lastBaseUpdate=kn,L.shared.pending=null}}while(!0);Pt===null&&(He=jt),L.baseState=He,L.firstBaseUpdate=st,L.lastBaseUpdate=Pt,V===null&&(L.shared.lanes=0),Gl|=re,h.lanes=re,h.memoizedState=jt}}function Me(h,d){if(typeof h!="function")throw Error(r(191,h));h.call(d)}function Dt(h,d){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)Me(b[h],d)}function Lt(h,d){if(Qs(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var b=Object.keys(h),C=Object.keys(d);if(b.length!==C.length)return!1;for(C=0;C<b.length;C++){var L=b[C];if(!eb.call(d,L)||!Qs(h[L],d[L]))return!1}return!0}function Zt(h){return h=h.status,h==="fulfilled"||h==="rejected"}function vt(){}function ft(h,d,b){switch(b=h[b],b===void 0?h.push(d):b!==d&&(d.then(vt,vt),d=b),d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===gm?Error(r(483)):h;default:if(typeof d.status=="string")d.then(vt,vt);else{if(h=Yi,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=d,h.status="pending",h.then(function(C){if(d.status==="pending"){var L=d;L.status="fulfilled",L.value=C}},function(C){if(d.status==="pending"){var L=d;L.status="rejected",L.reason=C}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===gm?Error(r(483)):h}throw Cs=d,gm}}function Wt(){if(Cs===null)throw Error(r(459));var h=Cs;return Cs=null,h}function $t(h){var d=Rs;return Rs+=1,qh===null&&(qh=[]),ft(qh,h,d)}function Sn(h,d){d=d.props.ref,h.ref=d!==void 0?d:null}function bn(h,d){throw d.$$typeof===ps?Error(r(525)):(h=Object.prototype.toString.call(d),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h)))}function ca(h){var d=h._init;return d(h._payload)}function vr(h){function d(Ye,ke){if(h){var Ze=Ye.deletions;Ze===null?(Ye.deletions=[ke],Ye.flags|=16):Ze.push(ke)}}function b(Ye,ke){if(!h)return null;for(;ke!==null;)d(Ye,ke),ke=ke.sibling;return null}function C(Ye){for(var ke=new Map;Ye!==null;)Ye.key!==null?ke.set(Ye.key,Ye):ke.set(Ye.index,Ye),Ye=Ye.sibling;return ke}function L(Ye,ke){return Ye=bo(Ye,ke),Ye.index=0,Ye.sibling=null,Ye}function V(Ye,ke,Ze){return Ye.index=Ze,h?(Ze=Ye.alternate,Ze!==null?(Ze=Ze.index,Ze<ke?(Ye.flags|=33554434,ke):Ze):(Ye.flags|=33554434,ke)):(Ye.flags|=1048576,ke)}function re(Ye){return h&&Ye.alternate===null&&(Ye.flags|=33554434),Ye}function Ee(Ye,ke,Ze,At){return ke===null||ke.tag!==6?(ke=_o(Ze,Ye.mode,At),ke.return=Ye,ke):(ke=L(ke,Ze),ke.return=Ye,ke)}function He(Ye,ke,Ze,At){var hn=Ze.type;return hn===A?Pt(Ye,ke,Ze.props.children,At,Ze.key):ke!==null&&(ke.elementType===hn||typeof hn=="object"&&hn!==null&&hn.$$typeof===nt&&ca(hn)===ke.type)?(ke=L(ke,Ze.props),Sn(ke,Ze),ke.return=Ye,ke):(ke=Ys(Ze.type,Ze.key,Ze.props,null,Ye.mode,At),Sn(ke,Ze),ke.return=Ye,ke)}function st(Ye,ke,Ze,At){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Ze.containerInfo||ke.stateNode.implementation!==Ze.implementation?(ke=Ur(Ze,Ye.mode,At),ke.return=Ye,ke):(ke=L(ke,Ze.children||[]),ke.return=Ye,ke)}function Pt(Ye,ke,Ze,At,hn){return ke===null||ke.tag!==7?(ke=js(Ze,Ye.mode,At,hn),ke.return=Ye,ke):(ke=L(ke,Ze),ke.return=Ye,ke)}function jt(Ye,ke,Ze){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=_o(""+ke,Ye.mode,Ze),ke.return=Ye,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case Eo:return Ze=Ys(ke.type,ke.key,ke.props,null,Ye.mode,Ze),Sn(Ze,ke),Ze.return=Ye,Ze;case E:return ke=Ur(ke,Ye.mode,Ze),ke.return=Ye,ke;case nt:var At=ke._init;return ke=At(ke._payload),jt(Ye,ke,Ze)}if(Bi(ke)||a(ke))return ke=js(ke,Ye.mode,Ze,null),ke.return=Ye,ke;if(typeof ke.then=="function")return jt(Ye,$t(ke),Ze);if(ke.$$typeof===_e)return jt(Ye,tc(Ye,ke),Ze);bn(Ye,ke)}return null}function Ot(Ye,ke,Ze,At){var hn=ke!==null?ke.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return hn!==null?null:Ee(Ye,ke,""+Ze,At);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case Eo:return Ze.key===hn?He(Ye,ke,Ze,At):null;case E:return Ze.key===hn?st(Ye,ke,Ze,At):null;case nt:return hn=Ze._init,Ze=hn(Ze._payload),Ot(Ye,ke,Ze,At)}if(Bi(Ze)||a(Ze))return hn!==null?null:Pt(Ye,ke,Ze,At,null);if(typeof Ze.then=="function")return Ot(Ye,ke,$t(Ze),At);if(Ze.$$typeof===_e)return Ot(Ye,ke,tc(Ye,Ze),At);bn(Ye,Ze)}return null}function kn(Ye,ke,Ze,At,hn){if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return Ye=Ye.get(Ze)||null,Ee(ke,Ye,""+At,hn);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case Eo:return Ye=Ye.get(At.key===null?Ze:At.key)||null,He(ke,Ye,At,hn);case E:return Ye=Ye.get(At.key===null?Ze:At.key)||null,st(ke,Ye,At,hn);case nt:var ji=At._init;return At=ji(At._payload),kn(Ye,ke,Ze,At,hn)}if(Bi(At)||a(At))return Ye=Ye.get(Ze)||null,Pt(ke,Ye,At,hn,null);if(typeof At.then=="function")return kn(Ye,ke,Ze,$t(At),hn);if(At.$$typeof===_e)return kn(Ye,ke,Ze,tc(ke,At),hn);bn(ke,At)}return null}function Wl(Ye,ke,Ze,At){for(var hn=null,ji=null,Tn=ke,ri=ke=0,tr=null;Tn!==null&&ri<Ze.length;ri++){Tn.index>ri?(tr=Tn,Tn=null):tr=Tn.sibling;var li=Ot(Ye,Tn,Ze[ri],At);if(li===null){Tn===null&&(Tn=tr);break}h&&Tn&&li.alternate===null&&d(Ye,Tn),ke=V(li,ke,ri),ji===null?hn=li:ji.sibling=li,ji=li,Tn=tr}if(ri===Ze.length)return b(Ye,Tn),mi&&F(Ye,ri),hn;if(Tn===null){for(;ri<Ze.length;ri++)Tn=jt(Ye,Ze[ri],At),Tn!==null&&(ke=V(Tn,ke,ri),ji===null?hn=Tn:ji.sibling=Tn,ji=Tn);return mi&&F(Ye,ri),hn}for(Tn=C(Tn);ri<Ze.length;ri++)tr=kn(Tn,Ye,ri,Ze[ri],At),tr!==null&&(h&&tr.alternate!==null&&Tn.delete(tr.key===null?ri:tr.key),ke=V(tr,ke,ri),ji===null?hn=tr:ji.sibling=tr,ji=tr);return h&&Tn.forEach(function(uh){return d(Ye,uh)}),mi&&F(Ye,ri),hn}function np(Ye,ke,Ze,At){if(Ze==null)throw Error(r(151));for(var hn=null,ji=null,Tn=ke,ri=ke=0,tr=null,li=Ze.next();Tn!==null&&!li.done;ri++,li=Ze.next()){Tn.index>ri?(tr=Tn,Tn=null):tr=Tn.sibling;var uh=Ot(Ye,Tn,li.value,At);if(uh===null){Tn===null&&(Tn=tr);break}h&&Tn&&uh.alternate===null&&d(Ye,Tn),ke=V(uh,ke,ri),ji===null?hn=uh:ji.sibling=uh,ji=uh,Tn=tr}if(li.done)return b(Ye,Tn),mi&&F(Ye,ri),hn;if(Tn===null){for(;!li.done;ri++,li=Ze.next())li=jt(Ye,li.value,At),li!==null&&(ke=V(li,ke,ri),ji===null?hn=li:ji.sibling=li,ji=li);return mi&&F(Ye,ri),hn}for(Tn=C(Tn);!li.done;ri++,li=Ze.next())li=kn(Tn,Ye,ri,li.value,At),li!==null&&(h&&li.alternate!==null&&Tn.delete(li.key===null?ri:li.key),ke=V(li,ke,ri),ji===null?hn=li:ji.sibling=li,ji=li);return h&&Tn.forEach(function(nb){return d(Ye,nb)}),mi&&F(Ye,ri),hn}function ed(Ye,ke,Ze,At){if(typeof Ze=="object"&&Ze!==null&&Ze.type===A&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case Eo:e:{for(var hn=Ze.key;ke!==null;){if(ke.key===hn){if(hn=Ze.type,hn===A){if(ke.tag===7){b(Ye,ke.sibling),At=L(ke,Ze.props.children),At.return=Ye,Ye=At;break e}}else if(ke.elementType===hn||typeof hn=="object"&&hn!==null&&hn.$$typeof===nt&&ca(hn)===ke.type){b(Ye,ke.sibling),At=L(ke,Ze.props),Sn(At,Ze),At.return=Ye,Ye=At;break e}b(Ye,ke);break}else d(Ye,ke);ke=ke.sibling}Ze.type===A?(At=js(Ze.props.children,Ye.mode,At,Ze.key),At.return=Ye,Ye=At):(At=Ys(Ze.type,Ze.key,Ze.props,null,Ye.mode,At),Sn(At,Ze),At.return=Ye,Ye=At)}return re(Ye);case E:e:{for(hn=Ze.key;ke!==null;){if(ke.key===hn)if(ke.tag===4&&ke.stateNode.containerInfo===Ze.containerInfo&&ke.stateNode.implementation===Ze.implementation){b(Ye,ke.sibling),At=L(ke,Ze.children||[]),At.return=Ye,Ye=At;break e}else{b(Ye,ke);break}else d(Ye,ke);ke=ke.sibling}At=Ur(Ze,Ye.mode,At),At.return=Ye,Ye=At}return re(Ye);case nt:return hn=Ze._init,Ze=hn(Ze._payload),ed(Ye,ke,Ze,At)}if(Bi(Ze))return Wl(Ye,ke,Ze,At);if(a(Ze)){if(hn=a(Ze),typeof hn!="function")throw Error(r(150));return Ze=hn.call(Ze),np(Ye,ke,Ze,At)}if(typeof Ze.then=="function")return ed(Ye,ke,$t(Ze),At);if(Ze.$$typeof===_e)return ed(Ye,ke,tc(Ye,Ze),At);bn(Ye,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint"?(Ze=""+Ze,ke!==null&&ke.tag===6?(b(Ye,ke.sibling),At=L(ke,Ze),At.return=Ye,Ye=At):(b(Ye,ke),At=_o(Ze,Ye.mode,At),At.return=Ye,Ye=At),re(Ye)):b(Ye,ke)}return function(Ye,ke,Ze,At){try{Rs=0;var hn=ed(Ye,ke,Ze,At);return qh=null,hn}catch(Tn){if(Tn===gm)throw Tn;var ji=t(29,Tn,null,Ye.mode);return ji.lanes=At,ji.return=Ye,ji}finally{}}}function hi(h,d){h=zu,N(Uu,h),N(Nu,d),zu=h|d.baseLanes}function xr(){N(Uu,zu),N(Nu,Nu.current)}function Ho(){zu=Uu.current,S(Nu),S(Uu)}function Fa(h){var d=h.alternate;N(sr,sr.current&1),N(Do,h),kl===null&&(d===null||Nu.current!==null||d.memoizedState!==null)&&(kl=h)}function au(h){if(h.tag===22){if(N(sr,sr.current),N(Do,h),kl===null){var d=h.alternate;d!==null&&d.memoizedState!==null&&(kl=h)}}else Ha()}function Ha(){N(sr,sr.current),N(Do,Do.current)}function br(h){S(Do),kl===h&&(kl=null),S(sr)}function mn(h){for(var d=h;d!==null;){if(d.tag===13){var b=d.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Nl(b)||jf(b)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function pn(){throw Error(r(321))}function Oa(h,d){if(d===null)return!1;for(var b=0;b<d.length&&b<h.length;b++)if(!Qs(h[b],d[b]))return!1;return!0}function Br(h,d,b,C,L,V){return ef=V,In=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Kt.H=h===null||h.memoizedState===null?rf:$s,nh=!1,V=b(C,L),nh=!1,Zh&&(V=Yu(d,b,C,L)),Mf(h),V}function Mf(h){Kt.H=aa;var d=Si!==null&&Si.next!==null;if(ef=0,Rr=Si=In=null,tf=!1,Qd=0,nf=null,d)throw Error(r(300));h===null||Sa||(h=h.dependencies,h!==null&&Tl(h)&&(Sa=!0))}function Yu(h,d,b,C){In=h;var L=0;do{if(Zh&&(nf=null),Qd=0,Zh=!1,25<=L)throw Error(r(301));if(L+=1,Rr=Si=null,h.updateQueue!=null){var V=h.updateQueue;V.lastEffect=null,V.events=null,V.stores=null,V.memoCache!=null&&(V.memoCache.index=0)}Kt.H=rh,V=d(b,C)}while(Zh);return V}function Af(){var h=Kt.H,d=h.useState()[0];return d=typeof d.then=="function"?We(d):d,h=h.useState()[0],(Si!==null?Si.memoizedState:null)!==h&&(In.flags|=1024),d}function lo(){var h=ih!==0;return ih=0,h}function su(h,d,b){d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~b}function ne(h){if(tf){for(h=h.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}tf=!1}ef=0,Rr=Si=In=null,Zh=!1,Qd=ih=0,nf=null}function we(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?In.memoizedState=Rr=h:Rr=Rr.next=h,Rr}function Be(){if(Si===null){var h=In.alternate;h=h!==null?h.memoizedState:null}else h=Si.next;var d=Rr===null?In.memoizedState:Rr.next;if(d!==null)Rr=d,Si=h;else{if(h===null)throw In.alternate===null?Error(r(467)):Error(r(310));Si=h,h={memoizedState:Si.memoizedState,baseState:Si.baseState,baseQueue:Si.baseQueue,queue:Si.queue,next:null},Rr===null?In.memoizedState=Rr=h:Rr=Rr.next=h}return Rr}function We(h){var d=Qd;return Qd+=1,nf===null&&(nf=[]),h=ft(nf,h,d),d=In,(Rr===null?d.memoizedState:Rr.next)===null&&(d=d.alternate,Kt.H=d===null||d.memoizedState===null?rf:$s),h}function Ce(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return We(h);if(h.$$typeof===_e)return Mi(h)}throw Error(r(438,String(h)))}function _t(h){var d=null,b=In.updateQueue;if(b!==null&&(d=b.memoCache),d==null){var C=In.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(d={data:C.data.map(function(L){return L.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),b===null&&(b=Ov(),In.updateQueue=b),b.memoCache=d,b=d.data[d.index],b===void 0)for(b=d.data[d.index]=Array(h),C=0;C<h;C++)b[C]=Ut;return d.index++,b}function Nt(h,d){return typeof d=="function"?d(h):d}function Ft(h){var d=Be();return Ht(d,Si,h)}function Ht(h,d,b){var C=h.queue;if(C===null)throw Error(r(311));C.lastRenderedReducer=b;var L=h.baseQueue,V=C.pending;if(V!==null){if(L!==null){var re=L.next;L.next=V.next,V.next=re}d.baseQueue=L=V,C.pending=null}if(V=h.baseState,L===null)h.memoizedState=V;else{d=L.next;var Ee=re=null,He=null,st=d,Pt=!1;do{var jt=st.lane&-536870913;if(jt!==st.lane?(si&jt)===jt:(ef&jt)===jt){var Ot=st.revertLane;if(Ot===0)He!==null&&(He=He.next={lane:0,revertLane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),jt===mr&&(Pt=!0);else if((ef&Ot)===Ot){st=st.next,Ot===mr&&(Pt=!0);continue}else jt={lane:0,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},He===null?(Ee=He=jt,re=V):He=He.next=jt,In.lanes|=Ot,Gl|=Ot;jt=st.action,nh&&b(V,jt),V=st.hasEagerState?st.eagerState:b(V,jt)}else Ot={lane:jt,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},He===null?(Ee=He=Ot,re=V):He=He.next=Ot,In.lanes|=jt,Gl|=jt;st=st.next}while(st!==null&&st!==d);if(He===null?re=V:He.next=Ee,!Qs(V,h.memoizedState)&&(Sa=!0,Pt&&(b=es,b!==null)))throw b;h.memoizedState=V,h.baseState=re,h.baseQueue=He,C.lastRenderedState=V}return L===null&&(C.lanes=0),[h.memoizedState,C.dispatch]}function rn(h){var d=Be(),b=d.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var C=b.dispatch,L=b.pending,V=d.memoizedState;if(L!==null){b.pending=null;var re=L=L.next;do V=h(V,re.action),re=re.next;while(re!==L);Qs(V,d.memoizedState)||(Sa=!0),d.memoizedState=V,d.baseQueue===null&&(d.baseState=V),b.lastRenderedState=V}return[V,C]}function fn(h,d,b){var C=In,L=Be(),V=mi;if(V){if(b===void 0)throw Error(r(407));b=b()}else b=d();var re=!Qs((Si||L).memoizedState,b);if(re&&(L.memoizedState=b,Sa=!0),L=L.queue,Pc(ni.bind(null,C,L,h),[h]),L.getSnapshot!==d||re||Rr!==null&&Rr.memoizedState.tag&1){if(C.flags|=2048,Fr(9,Nn.bind(null,C,L,b,d),{destroy:void 0},null),Yi===null)throw Error(r(349));V||(ef&60)!==0||Gt(C,d,b)}return b}function Gt(h,d,b){h.flags|=16384,h={getSnapshot:d,value:b},d=In.updateQueue,d===null?(d=Ov(),In.updateQueue=d,d.stores=[h]):(b=d.stores,b===null?d.stores=[h]:b.push(h))}function Nn(h,d,b,C){d.value=b,d.getSnapshot=C,di(d)&&Cn(h)}function ni(h,d,b){return b(function(){di(d)&&Cn(h)})}function di(h){var d=h.getSnapshot;h=h.value;try{var b=d();return!Qs(h,b)}catch{return!0}}function Cn(h){var d=Je(h,2);d!==null&&Ai(d,h,2)}function Rn(h){var d=we();if(typeof h=="function"){var b=h;if(h=b(),nh){le(!0);try{b()}finally{le(!1)}}}return d.memoizedState=d.baseState=h,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nt,lastRenderedState:h},d}function Qt(h,d,b,C){return h.baseState=b,Ht(h,Si,typeof C=="function"?C:Nt)}function wi(h,d,b,C,L){if(Vo(h))throw Error(r(485));if(h=d.action,h!==null){var V={payload:L,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(re){V.listeners.push(re)}};Kt.T!==null?b(!0):V.isTransition=!1,C(V),b=d.pending,b===null?(V.next=d.pending=V,Wn(d,V)):(V.next=b.next,d.pending=b.next=V)}}function Wn(h,d){var b=d.action,C=d.payload,L=h.state;if(d.isTransition){var V=Kt.T,re={};Kt.T=re;try{var Ee=b(L,C),He=Kt.S;He!==null&&He(re,Ee),_r(h,d,Ee)}catch(st){ur(h,d,st)}finally{Kt.T=V}}else try{V=b(L,C),_r(h,d,V)}catch(st){ur(h,d,st)}}function _r(h,d,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(C){Zr(h,d,C)},function(C){return ur(h,d,C)}):Zr(h,d,b)}function Zr(h,d,b){d.status="fulfilled",d.value=b,vl(d),h.state=b,d=h.pending,d!==null&&(b=d.next,b===d?h.pending=null:(b=b.next,d.next=b,Wn(h,b)))}function ur(h,d,b){var C=h.pending;if(h.pending=null,C!==null){C=C.next;do d.status="rejected",d.reason=b,vl(d),d=d.next;while(d!==C)}h.action=null}function vl(h){h=h.listeners;for(var d=0;d<h.length;d++)(0,h[d])()}function Bn(h,d){return d}function Sr(h,d){if(mi){var b=Yi.formState;if(b!==null){e:{var C=In;if(mi){if(Xi){var L=om(Xi,Pu);if(L){Xi=nl(L),C=tl(L);break e}}$e(C)}C=!1}C&&(d=b[0])}}b=we(),b.memoizedState=b.baseState=d,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:d},b.queue=C,b=Rf.bind(null,In,C),C.dispatch=b,C=Rn(!1);var V=ks.bind(null,In,!1,C.queue);return C=we(),L={state:d,dispatch:null,action:h,pending:null},C.queue=L,b=wi.bind(null,In,L,V,b),L.dispatch=b,C.memoizedState=h,[d,b,!1]}function fa(h){var d=Be();return Er(d,Si,h)}function Er(h,d,b){d=Ht(h,d,Bn)[0],h=Ft(Nt)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?We(d):d;var C=Be(),L=C.queue,V=L.dispatch;return b!==C.memoizedState&&(In.flags|=2048,Fr(9,ir.bind(null,L,b),{destroy:void 0},null)),[d,V,h]}function ir(h,d){h.action=d}function ss(h){var d=Be(),b=Si;if(b!==null)return Er(d,b,h);Be(),d=d.memoizedState,b=Be();var C=b.queue.dispatch;return b.memoizedState=h,[d,C,!1]}function Fr(h,d,b,C){return h={tag:h,create:d,inst:b,deps:C,next:null},d=In.updateQueue,d===null&&(d=Ov(),In.updateQueue=d),b=d.lastEffect,b===null?d.lastEffect=h.next=h:(C=b.next,b.next=h,h.next=C,d.lastEffect=h),h}function ou(){return Be().memoizedState}function lu(h,d,b,C){var L=we();In.flags|=h,L.memoizedState=Fr(1|d,b,{destroy:void 0},C===void 0?null:C)}function xl(h,d,b,C){var L=Be();C=C===void 0?null:C;var V=L.memoizedState.inst;Si!==null&&C!==null&&Oa(C,Si.memoizedState.deps)?L.memoizedState=Fr(d,b,V,C):(In.flags|=h,L.memoizedState=Fr(1|d,b,V,C))}function Ph(h,d){lu(8390656,8,h,d)}function Pc(h,d){xl(2048,8,h,d)}function uo(h,d){return xl(4,2,h,d)}function Cf(h,d){return xl(4,4,h,d)}function uu(h,d){if(typeof d=="function"){h=h();var b=d(h);return function(){typeof b=="function"?b():d(null)}}if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function ju(h,d,b){b=b!=null?b.concat([h]):null,xl(4,4,uu.bind(null,d,h),b)}function bl(){}function oi(h,d){var b=Be();d=d===void 0?null:d;var C=b.memoizedState;return d!==null&&Oa(d,C[1])?C[0]:(b.memoizedState=[h,d],h)}function Is(h,d){var b=Be();d=d===void 0?null:d;var C=b.memoizedState;if(d!==null&&Oa(d,C[1]))return C[0];if(C=h(),nh){le(!0);try{h()}finally{le(!1)}}return b.memoizedState=[C,d],C}function cu(h,d,b){return b===void 0||(ef&1073741824)!==0?h.memoizedState=d:(h.memoizedState=b,h=Mu(),In.lanes|=h,Gl|=h,b)}function _l(h,d,b,C){return Qs(b,d)?b:Nu.current!==null?(h=cu(h,b,C),Qs(h,d)||(Sa=!0),h):(ef&42)===0?(Sa=!0,h.memoizedState=b):(h=Mu(),In.lanes|=h,Gl|=h,d)}function fu(h,d,b,C,L){var V=wo();$a(V!==0&&8>V?V:8);var re=Kt.T,Ee={};Kt.T=Ee,ks(h,!1,d,b);try{var He=L(),st=Kt.S;if(st!==null&&st(Ee,He),He!==null&&typeof He=="object"&&typeof He.then=="function"){var Pt=it(He,C);fo(h,d,Pt,Xr(h))}else fo(h,d,C,Xr(h))}catch(jt){fo(h,d,{then:function(){},status:"rejected",reason:jt},Xr())}finally{$a(V),Kt.T=re}}function co(h){var d=h.memoizedState;if(d!==null)return d;d={memoizedState:oc,baseState:oc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nt,lastRenderedState:oc},next:null};var b={};return d.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nt,lastRenderedState:b},next:null},h.memoizedState=d,h=h.alternate,h!==null&&(h.memoizedState=d),d}function Sl(){return Mi(Ol)}function zs(){return Be().memoizedState}function ha(){return Be().memoizedState}function qu(h){for(var d=h.return;d!==null;){switch(d.tag){case 24:case 3:var b=Xr();h=lt(b);var C=at(d,h,b);C!==null&&(Ai(C,d,b),sn(C,d,b)),d={cache:Zo()},h.payload=d;return}d=d.return}}function Ss(h,d,b){var C=Xr();b={lane:C,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},Vo(h)?da(d,b):(b=et(h,d,b,C),b!==null&&(Ai(b,h,C),Go(b,d,C)))}function Rf(h,d,b){var C=Xr();fo(h,d,b,C)}function fo(h,d,b,C){var L={lane:C,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(Vo(h))da(d,L);else{var V=h.alternate;if(h.lanes===0&&(V===null||V.lanes===0)&&(V=d.lastRenderedReducer,V!==null))try{var re=d.lastRenderedState,Ee=V(re,b);if(L.hasEagerState=!0,L.eagerState=Ee,Qs(Ee,re))return Qe(h,d,L,0),Yi===null&&ct(),!1}catch{}finally{}if(b=et(h,d,L,C),b!==null)return Ai(b,h,C),Go(b,d,C),!0}return!1}function ks(h,d,b,C){if(C={lane:2,revertLane:De(),action:C,hasEagerState:!1,eagerState:null,next:null},Vo(h)){if(d)throw Error(r(479))}else d=et(h,b,C,2),d!==null&&Ai(d,h,2)}function Vo(h){var d=h.alternate;return h===In||d!==null&&d===In}function da(h,d){Zh=tf=!0;var b=h.pending;b===null?d.next=d:(d.next=b.next,b.next=d),h.pending=d}function Go(h,d,b){if((b&4194176)!==0){var C=d.lanes;C&=h.pendingLanes,b|=C,d.lanes=b,ge(h,b)}}function hu(h,d,b,C){d=h.memoizedState,b=b(C,d),b=b==null?d:Ji({},d,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}function Zu(h,d,b,C,L,V,re){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,V,re):d.prototype&&d.prototype.isPureReactComponent?!Lt(b,C)||!Lt(L,V):!0}function Od(h,d,b,C){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(b,C),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(b,C),d.state!==h&&Jd.enqueueReplaceState(d,d.state,null)}function Xo(h,d){var b=d;if("ref"in d){b={};for(var C in d)C!=="ref"&&(b[C]=d[C])}if(h=h.defaultProps){b===d&&(b=Ji({},b));for(var L in h)b[L]===void 0&&(b[L]=h[L])}return b}function du(h,d){try{var b=h.onUncaughtError;b(d.value,{componentStack:d.stack})}catch(C){setTimeout(function(){throw C})}}function pu(h,d,b){try{var C=h.onCaughtError;C(b.value,{componentStack:b.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function Ku(h,d,b){return b=lt(b),b.tag=3,b.payload={element:null},b.callback=function(){du(h,d)},b}function mu(h){return h=lt(h),h.tag=3,h}function Lc(h,d,b,C){var L=b.type.getDerivedStateFromError;if(typeof L=="function"){var V=C.value;h.payload=function(){return L(V)},h.callback=function(){pu(d,b,C)}}var re=b.stateNode;re!==null&&typeof re.componentDidCatch=="function"&&(h.callback=function(){pu(d,b,C),typeof L!="function"&&(vc===null?vc=new Set([this]):vc.add(this));var Ee=C.stack;this.componentDidCatch(C.value,{componentStack:Ee!==null?Ee:""})})}function Df(h,d,b,C,L){if(b.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(d=b.alternate,d!==null&&jo(d,b,L,!0),b=Do.current,b!==null){switch(b.tag){case 13:return kl===null?Nr():b.alternate===null&&Dr===0&&(Dr=3),b.flags&=-257,b.flags|=65536,b.lanes=L,C===Js?b.flags|=16384:(d=b.updateQueue,d===null?b.updateQueue=new Set([C]):d.add(C),fs(h,C,L)),!1;case 22:return b.flags|=65536,C===Js?b.flags|=16384:(d=b.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([C])},b.updateQueue=d):(b=d.retryQueue,b===null?d.retryQueue=new Set([C]):b.add(C)),fs(h,C,L)),!1}throw Error(r(435,b.tag))}return fs(h,C,L),Nr(),!1}if(mi)return d=Do.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=L,C!==mm&&(h=Error(r(422),{cause:C}),ye(pe(h,b)))):(C!==mm&&(d=Error(r(423),{cause:C}),ye(pe(d,b))),h=h.current.alternate,h.flags|=65536,L&=-L,h.lanes|=L,C=pe(C,b),L=Ku(h.stateNode,C,L),Et(h,L),Dr!==4&&(Dr=2)),!1;var V=Error(r(520),{cause:C});if(V=pe(V,b),ep===null?ep=[V]:ep.push(V),Dr!==4&&(Dr=2),d===null)return!0;C=pe(C,b),b=d;do{switch(b.tag){case 3:return b.flags|=65536,h=L&-L,b.lanes|=h,h=Ku(b.stateNode,C,h),Et(b,h),!1;case 1:if(d=b.type,V=b.stateNode,(b.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(vc===null||!vc.has(V))))return b.flags|=65536,L&=-L,b.lanes|=L,L=mu(L),Lc(L,h,b,C),Et(b,L),!1}b=b.return}while(b!==null);return!1}function Kr(h,d,b,C){d.child=h===null?mc(d,null,b,C):th(d,h.child,b,C)}function Qu(h,d,b,C,L){b=b.render;var V=d.ref;if("ref"in C){var re={};for(var Ee in C)Ee!=="ref"&&(re[Ee]=C[Ee])}else re=C;return qo(d),C=Br(h,d,b,re,V,L),Ee=lo(),h!==null&&!Sa?(su(h,d,L),Xa(h,d,L)):(mi&&Ee&&Le(d),d.flags|=1,Kr(h,d,C,L),d.child)}function Lh(h,d,b,C,L){if(h===null){var V=b.type;return typeof V=="function"&&!dr(V)&&V.defaultProps===void 0&&b.compare===null?(d.tag=15,d.type=V,gu(h,d,V,C,L)):(h=Ys(b.type,null,C,d,d.mode,L),h.ref=d.ref,h.return=d,d.child=h)}if(V=h.child,!Nf(h,L)){var re=V.memoizedProps;if(b=b.compare,b=b!==null?b:Lt,b(re,C)&&h.ref===d.ref)return Xa(h,d,L)}return d.flags|=1,h=bo(V,C),h.ref=d.ref,h.return=d,d.child=h}function gu(h,d,b,C,L){if(h!==null){var V=h.memoizedProps;if(Lt(V,C)&&h.ref===d.ref)if(Sa=!1,d.pendingProps=C=V,Nf(h,L))(h.flags&131072)!==0&&(Sa=!0);else return d.lanes=h.lanes,Xa(h,d,L)}return Pf(h,d,b,C,L)}function Of(h,d,b){var C=d.pendingProps,L=C.children,V=(d.stateNode._pendingVisibility&2)!==0,re=h!==null?h.memoizedState:null;if(Ju(h,d),C.mode==="hidden"||V){if((d.flags&128)!==0){if(C=re!==null?re.baseLanes|b:b,h!==null){for(L=d.child=h.child,V=0;L!==null;)V=V|L.lanes|L.childLanes,L=L.sibling;d.childLanes=V&~C}else d.childLanes=0,d.child=null;return Wo(h,d,C,b)}if((b&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},h!==null&&_u(d,re!==null?re.cachePool:null),re!==null?hi(d,re):xr(),au(d);else return d.lanes=d.childLanes=536870912,Wo(h,d,re!==null?re.baseLanes|b:b,b)}else re!==null?(_u(d,re.cachePool),hi(d,re),Ha(),d.memoizedState=null):(h!==null&&_u(d,null),xr(),Ha());return Kr(h,d,L,b),d.child}function Wo(h,d,b,C){var L=Ic();return L=L===null?null:{parent:qs?jr._currentValue:jr._currentValue2,pool:L},d.memoizedState={baseLanes:b,cachePool:L},h!==null&&_u(d,null),xr(),au(d),h!==null&&jo(h,d,C,!0),null}function Ju(h,d){var b=d.ref;if(b===null)h!==null&&h.ref!==null&&(d.flags|=2097664);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(h===null||h.ref!==b)&&(d.flags|=2097664)}}function Pf(h,d,b,C,L){return qo(d),b=Br(h,d,b,C,void 0,L),C=lo(),h!==null&&!Sa?(su(h,d,L),Xa(h,d,L)):(mi&&C&&Le(d),d.flags|=1,Kr(h,d,b,L),d.child)}function yu(h,d,b,C,L,V){return qo(d),d.updateQueue=null,b=Yu(d,C,b,L),Mf(h),C=lo(),h!==null&&!Sa?(su(h,d,V),Xa(h,d,V)):(mi&&C&&Le(d),d.flags|=1,Kr(h,d,b,V),d.child)}function Pd(h,d,b,C,L){if(qo(d),d.stateNode===null){var V=Yh,re=b.contextType;typeof re=="object"&&re!==null&&(V=Mi(re)),V=new b(C,V),d.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,V.updater=Jd,d.stateNode=V,V._reactInternals=d,V=d.stateNode,V.props=C,V.state=d.memoizedState,V.refs={},zt(d),re=b.contextType,V.context=typeof re=="object"&&re!==null?Mi(re):Yh,V.state=d.memoizedState,re=b.getDerivedStateFromProps,typeof re=="function"&&(hu(d,b,re,C),V.state=d.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(re=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),re!==V.state&&Jd.enqueueReplaceState(V,V.state,null),ln(d,C,V,L),gt(),V.state=d.memoizedState),typeof V.componentDidMount=="function"&&(d.flags|=4194308),C=!0}else if(h===null){V=d.stateNode;var Ee=d.memoizedProps,He=Xo(b,Ee);V.props=He;var st=V.context,Pt=b.contextType;re=Yh,typeof Pt=="object"&&Pt!==null&&(re=Mi(Pt));var jt=b.getDerivedStateFromProps;Pt=typeof jt=="function"||typeof V.getSnapshotBeforeUpdate=="function",Ee=d.pendingProps!==Ee,Pt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Ee||st!==re)&&Od(d,V,C,re),As=!1;var Ot=d.memoizedState;V.state=Ot,ln(d,C,V,L),gt(),st=d.memoizedState,Ee||Ot!==st||As?(typeof jt=="function"&&(hu(d,b,jt,C),st=d.memoizedState),(He=As||Zu(d,b,He,C,Ot,st,re))?(Pt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(d.flags|=4194308)):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=C,d.memoizedState=st),V.props=C,V.state=st,V.context=re,C=He):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),C=!1)}else{V=d.stateNode,Xt(h,d),re=d.memoizedProps,Pt=Xo(b,re),V.props=Pt,jt=d.pendingProps,Ot=V.context,st=b.contextType,He=Yh,typeof st=="object"&&st!==null&&(He=Mi(st)),Ee=b.getDerivedStateFromProps,(st=typeof Ee=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(re!==jt||Ot!==He)&&Od(d,V,C,He),As=!1,Ot=d.memoizedState,V.state=Ot,ln(d,C,V,L),gt();var kn=d.memoizedState;re!==jt||Ot!==kn||As||h!==null&&h.dependencies!==null&&Tl(h.dependencies)?(typeof Ee=="function"&&(hu(d,b,Ee,C),kn=d.memoizedState),(Pt=As||Zu(d,b,Pt,C,Ot,kn,He)||h!==null&&h.dependencies!==null&&Tl(h.dependencies))?(st||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(C,kn,He),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(C,kn,He)),typeof V.componentDidUpdate=="function"&&(d.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof V.componentDidUpdate!="function"||re===h.memoizedProps&&Ot===h.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||re===h.memoizedProps&&Ot===h.memoizedState||(d.flags|=1024),d.memoizedProps=C,d.memoizedState=kn),V.props=C,V.state=kn,V.context=He,C=Pt):(typeof V.componentDidUpdate!="function"||re===h.memoizedProps&&Ot===h.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||re===h.memoizedProps&&Ot===h.memoizedState||(d.flags|=1024),C=!1)}return V=C,Ju(h,d),C=(d.flags&128)!==0,V||C?(V=d.stateNode,b=C&&typeof b.getDerivedStateFromError!="function"?null:V.render(),d.flags|=1,h!==null&&C?(d.child=th(d,h.child,null,L),d.child=th(d,null,b,L)):Kr(h,d,b,L),d.memoizedState=V.state,h=d.child):h=Xa(h,d,L),h}function Nc(h,d,b,C){return kt(),d.flags|=256,Kr(h,d,b,C),d.child}function cr(h){return{baseLanes:h,cachePool:Su()}}function $u(h,d,b){return h=h!==null?h.childLanes&~b:0,d&&(h|=sl),h}function Lf(h,d,b){var C=d.pendingProps,L=!1,V=(d.flags&128)!==0,re;if((re=V)||(re=h!==null&&h.memoizedState===null?!1:(sr.current&2)!==0),re&&(L=!0,d.flags&=-129),re=(d.flags&32)!==0,d.flags&=-33,h===null){if(mi){if(L?Fa(d):Ha(),mi){var Ee=Xi,He;(He=Ee)&&(Ee=qf(Ee,Pu),Ee!==null?(d.memoizedState={dehydrated:Ee,treeContext:Ou!==null?{id:dc,overflow:pc}:null,retryLane:536870912},He=t(18,null,null,0),He.stateNode=Ee,He.return=d,d.child=He,ia=d,Xi=null,He=!0):He=!1),He||$e(d)}if(Ee=d.memoizedState,Ee!==null&&(Ee=Ee.dehydrated,Ee!==null))return jf(Ee)?d.lanes=16:d.lanes=536870912,null;br(d)}return Ee=C.children,C=C.fallback,L?(Ha(),L=d.mode,Ee=Va({mode:"hidden",children:Ee},L),C=js(C,L,b,null),Ee.return=d,C.return=d,Ee.sibling=C,d.child=Ee,L=d.child,L.memoizedState=cr(b),L.childLanes=$u(h,re,b),d.memoizedState=vm,C):(Fa(d),vu(d,Ee))}if(He=h.memoizedState,He!==null&&(Ee=He.dehydrated,Ee!==null)){if(V)d.flags&256?(Fa(d),d.flags&=-257,d=Pa(h,d,b)):d.memoizedState!==null?(Ha(),d.child=h.child,d.flags|=128,d=null):(Ha(),L=C.fallback,Ee=d.mode,C=Va({mode:"visible",children:C.children},Ee),L=js(L,Ee,b,null),L.flags|=2,C.return=d,L.return=d,C.sibling=L,d.child=C,th(d,h.child,null,b),C=d.child,C.memoizedState=cr(b),C.childLanes=$u(h,re,b),d.memoizedState=vm,d=L);else if(Fa(d),jf(Ee))re=Wc(Ee).digest,C=Error(r(419)),C.stack="",C.digest=re,ye({value:C,source:null,stack:null}),d=Pa(h,d,b);else if(Sa||jo(h,d,b,!1),re=(b&h.childLanes)!==0,Sa||re){if(re=Yi,re!==null){if(C=b&-b,(C&42)!==0)C=1;else switch(C){case 2:C=1;break;case 8:C=4;break;case 32:C=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:C=64;break;case 268435456:C=134217728;break;default:C=0}if(C=(C&(re.suspendedLanes|b))!==0?0:C,C!==0&&C!==He.retryLane)throw He.retryLane=C,Je(h,C),Ai(re,h,C),Pv}Nl(Ee)||Nr(),d=Pa(h,d,b)}else Nl(Ee)?(d.flags|=128,d.child=h.child,d=xo.bind(null,h),Bd(Ee,d),d=null):(h=He.treeContext,Ja&&(Xi=Fd(Ee),ia=d,mi=!0,zl=null,Pu=!1,h!==null&&(Co[Ms++]=dc,Co[Ms++]=pc,Co[Ms++]=Ou,dc=h.id,pc=h.overflow,Ou=d)),d=vu(d,C.children),d.flags|=4096);return d}return L?(Ha(),L=C.fallback,Ee=d.mode,He=h.child,V=He.sibling,C=bo(He,{mode:"hidden",children:C.children}),C.subtreeFlags=He.subtreeFlags&31457280,V!==null?L=bo(V,L):(L=js(L,Ee,b,null),L.flags|=2),L.return=d,C.return=d,C.sibling=L,d.child=C,C=L,L=d.child,Ee=h.child.memoizedState,Ee===null?Ee=cr(b):(He=Ee.cachePool,He!==null?(V=qs?jr._currentValue:jr._currentValue2,He=He.parent!==V?{parent:V,pool:V}:He):He=Su(),Ee={baseLanes:Ee.baseLanes|b,cachePool:He}),L.memoizedState=Ee,L.childLanes=$u(h,re,b),d.memoizedState=vm,C):(Fa(d),b=h.child,h=b.sibling,b=bo(b,{mode:"visible",children:C.children}),b.return=d,b.sibling=null,h!==null&&(re=d.deletions,re===null?(d.deletions=[h],d.flags|=16):re.push(h)),d.child=b,d.memoizedState=null,b)}function vu(h,d){return d=Va({mode:"visible",children:d},h.mode),d.return=h,h.child=d}function Va(h,d){return el(h,d,0,null)}function Pa(h,d,b){return th(d,h.child,null,b),h=vu(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function ec(h,d,b){h.lanes|=d;var C=h.alternate;C!==null&&(C.lanes|=d),El(h.return,d,b)}function Yo(h,d,b,C,L){var V=h.memoizedState;V===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:C,tail:b,tailMode:L}:(V.isBackwards=d,V.rendering=null,V.renderingStartTime=0,V.last=C,V.tail=b,V.tailMode=L)}function Ga(h,d,b){var C=d.pendingProps,L=C.revealOrder,V=C.tail;if(Kr(h,d,C.children,b),C=sr.current,(C&2)!==0)C=C&1|2,d.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&ec(h,b,d);else if(h.tag===19)ec(h,b,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}switch(N(sr,C),L){case"forwards":for(b=d.child,L=null;b!==null;)h=b.alternate,h!==null&&mn(h)===null&&(L=b),b=b.sibling;b=L,b===null?(L=d.child,d.child=null):(L=b.sibling,b.sibling=null),Yo(d,!1,L,b,V);break;case"backwards":for(b=null,L=d.child,d.child=null;L!==null;){if(h=L.alternate,h!==null&&mn(h)===null){d.child=L;break}h=L.sibling,L.sibling=b,b=L,L=h}Yo(d,!0,b,null,V);break;case"together":Yo(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Xa(h,d,b){if(h!==null&&(d.dependencies=h.dependencies),Gl|=d.lanes,(b&d.childLanes)===0)if(h!==null){if(jo(h,d,b,!1),(b&d.childLanes)===0)return null}else return null;if(h!==null&&d.child!==h.child)throw Error(r(153));if(d.child!==null){for(h=d.child,b=bo(h,h.pendingProps),d.child=b,b.return=d;h.sibling!==null;)h=h.sibling,b=b.sibling=bo(h,h.pendingProps),b.return=d;b.sibling=null}return d.child}function Nf(h,d){return(h.lanes&d)!==0?!0:(h=h.dependencies,!!(h!==null&&Tl(h)))}function Ld(h,d,b){switch(d.tag){case 3:Oe(d,d.stateNode.containerInfo),ho(d,jr,h.memoizedState.cache),kt();break;case 27:case 5:Te(d);break;case 4:Oe(d,d.stateNode.containerInfo);break;case 10:ho(d,d.type,d.memoizedProps.value);break;case 13:var C=d.memoizedState;if(C!==null)return C.dehydrated!==null?(Fa(d),d.flags|=128,null):(b&d.child.childLanes)!==0?Lf(h,d,b):(Fa(d),h=Xa(h,d,b),h!==null?h.sibling:null);Fa(d);break;case 19:var L=(h.flags&128)!==0;if(C=(b&d.childLanes)!==0,C||(jo(h,d,b,!1),C=(b&d.childLanes)!==0),L){if(C)return Ga(h,d,b);d.flags|=128}if(L=d.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),N(sr,sr.current),C)break;return null;case 22:case 23:return d.lanes=0,Of(h,d,b);case 24:ho(d,jr,h.memoizedState.cache)}return Xa(h,d,b)}function Uc(h,d,b){if(h!==null)if(h.memoizedProps!==d.pendingProps)Sa=!0;else{if(!Nf(h,b)&&(d.flags&128)===0)return Sa=!1,Ld(h,d,b);Sa=(h.flags&131072)!==0}else Sa=!1,mi&&(d.flags&1048576)!==0&&J(d,qd,d.index);switch(d.lanes=0,d.tag){case 16:e:{h=d.pendingProps;var C=d.elementType,L=C._init;if(C=L(C._payload),d.type=C,typeof C=="function")dr(C)?(h=Xo(C,h),d.tag=1,d=Pd(null,d,C,h,b)):(d.tag=0,d=Pf(null,d,C,h,b));else{if(C!=null){if(L=C.$$typeof,L===Ne){d.tag=11,d=Qu(null,d,C,h,b);break e}else if(L===dt){d.tag=14,d=Lh(null,d,C,h,b);break e}}throw d=s(C)||C,Error(r(306,d,""))}}return d;case 0:return Pf(h,d,d.type,d.pendingProps,b);case 1:return C=d.type,L=Xo(C,d.pendingProps),Pd(h,d,C,L,b);case 3:e:{if(Oe(d,d.stateNode.containerInfo),h===null)throw Error(r(387));var V=d.pendingProps;L=d.memoizedState,C=L.element,Xt(h,d),ln(d,V,null,b);var re=d.memoizedState;if(V=re.cache,ho(d,jr,V),V!==L.cache&&po(d,[jr],b,!0),gt(),V=re.element,Ja&&L.isDehydrated)if(L={element:V,isDehydrated:!1,cache:re.cache},d.updateQueue.baseState=L,d.memoizedState=L,d.flags&256){d=Nc(h,d,V,b);break e}else if(V!==C){C=pe(Error(r(424)),d),ye(C),d=Nc(h,d,V,b);break e}else for(Ja&&(Xi=Mo(d.stateNode.containerInfo),ia=d,mi=!0,zl=null,Pu=!0),b=mc(d,null,V,b),d.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(kt(),V===C){d=Xa(h,d,b);break e}Kr(h,d,V,b)}d=d.child}return d;case 26:if(ka)return Ju(h,d),h===null?(b=ba(d.type,null,d.pendingProps,null))?d.memoizedState=b:mi||(d.stateNode=Gh(d.type,d.pendingProps,Jc.current,d)):d.memoizedState=ba(d.type,h.memoizedProps,d.pendingProps,h.memoizedState),null;case 27:if(ea)return Te(d),h===null&&ea&&mi&&(C=d.stateNode=Kf(d.type,d.pendingProps,Jc.current,na.current,!1),ia=d,Pu=!0,Xi=ms(C)),C=d.pendingProps.children,h!==null||mi?Kr(h,d,C,b):d.child=th(d,null,C,b),Ju(h,d),d.child;case 5:return h===null&&mi&&(Zf(d.type,d.pendingProps,na.current),(L=C=Xi)&&(C=Yc(C,d.type,d.pendingProps,Pu),C!==null?(d.stateNode=C,ia=d,Xi=ms(C),Pu=!1,L=!0):L=!1),L||$e(d)),Te(d),L=d.type,V=d.pendingProps,re=h!==null?h.memoizedProps:null,C=V.children,xa(L,V)?C=null:re!==null&&xa(L,re)&&(d.flags|=32),d.memoizedState!==null&&(L=Br(h,d,Af,null,null,b),qs?Ol._currentValue=L:Ol._currentValue2=L),Ju(h,d),Kr(h,d,C,b),d.child;case 6:return h===null&&mi&&(Hh(d.pendingProps,na.current),(h=b=Xi)&&(b=Fh(b,d.pendingProps,Pu),b!==null?(d.stateNode=b,ia=d,Xi=null,h=!0):h=!1),h||$e(d)),null;case 13:return Lf(h,d,b);case 4:return Oe(d,d.stateNode.containerInfo),C=d.pendingProps,h===null?d.child=th(d,null,C,b):Kr(h,d,C,b),d.child;case 11:return Qu(h,d,d.type,d.pendingProps,b);case 7:return Kr(h,d,d.pendingProps,b),d.child;case 8:return Kr(h,d,d.pendingProps.children,b),d.child;case 12:return Kr(h,d,d.pendingProps.children,b),d.child;case 10:return C=d.pendingProps,ho(d,d.type,C.value),Kr(h,d,C.children,b),d.child;case 9:return L=d.type._context,C=d.pendingProps.children,qo(d),L=Mi(L),C=C(L),d.flags|=1,Kr(h,d,C,b),d.child;case 14:return Lh(h,d,d.type,d.pendingProps,b);case 15:return gu(h,d,d.type,d.pendingProps,b);case 19:return Ga(h,d,b);case 22:return Of(h,d,b);case 24:return qo(d),C=Mi(jr),h===null?(L=Ic(),L===null&&(L=Yi,V=Zo(),L.pooledCache=V,V.refCount++,V!==null&&(L.pooledCacheLanes|=b),L=V),d.memoizedState={parent:C,cache:L},zt(d),ho(d,jr,L)):((h.lanes&b)!==0&&(Xt(h,d),ln(d,null,null,b),gt()),L=h.memoizedState,V=d.memoizedState,L.parent!==C?(L={parent:C,cache:C},d.memoizedState=L,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=L),ho(d,jr,C)):(C=V.cache,ho(d,jr,C),C!==L.cache&&po(d,[jr],b,!0))),Kr(h,d,d.pendingProps.children,b),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function ho(h,d,b){qs?(N(Bl,d._currentValue),d._currentValue=b):(N(Bl,d._currentValue2),d._currentValue2=b)}function Tr(h){var d=Bl.current;qs?h._currentValue=d:h._currentValue2=d,S(Bl)}function El(h,d,b){for(;h!==null;){var C=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,C!==null&&(C.childLanes|=d)):C!==null&&(C.childLanes&d)!==d&&(C.childLanes|=d),h===b)break;h=h.return}}function po(h,d,b,C){var L=h.child;for(L!==null&&(L.return=h);L!==null;){var V=L.dependencies;if(V!==null){var re=L.child;V=V.firstContext;e:for(;V!==null;){var Ee=V;V=L;for(var He=0;He<d.length;He++)if(Ee.context===d[He]){V.lanes|=b,Ee=V.alternate,Ee!==null&&(Ee.lanes|=b),El(V.return,b,h),C||(re=null);break e}V=Ee.next}}else if(L.tag===18){if(re=L.return,re===null)throw Error(r(341));re.lanes|=b,V=re.alternate,V!==null&&(V.lanes|=b),El(re,b,h),re=null}else re=L.child;if(re!==null)re.return=L;else for(re=L;re!==null;){if(re===h){re=null;break}if(L=re.sibling,L!==null){L.return=re.return,re=L;break}re=re.return}L=re}}function jo(h,d,b,C){h=null;for(var L=d,V=!1;L!==null;){if(!V){if((L.flags&524288)!==0)V=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var re=L.alternate;if(re===null)throw Error(r(387));if(re=re.memoizedProps,re!==null){var Ee=L.type;Qs(L.pendingProps.value,re.value)||(h!==null?h.push(Ee):h=[Ee])}}else if(L===pm.current){if(re=L.alternate,re===null)throw Error(r(387));re.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(h!==null?h.push(Ol):h=[Ol])}L=L.return}h!==null&&po(d,h,b,C),d.flags|=262144}function Tl(h){for(h=h.firstContext;h!==null;){var d=h.context;if(!Qs(qs?d._currentValue:d._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function qo(h){sh=h,Fl=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Mi(h){return xu(sh,h)}function tc(h,d){return sh===null&&qo(h),xu(h,d)}function xu(h,d){var b=qs?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:b,next:null},Fl===null){if(h===null)throw Error(r(308));Fl=d,h.dependencies={lanes:0,firstContext:d},h.flags|=524288}else Fl=Fl.next=d;return b}function Zo(){return{controller:new xm,data:new Map,refCount:0}}function bu(h){h.refCount--,h.refCount===0&&zr(sE,function(){h.controller.abort()})}function Ic(){var h=Kh.current;return h!==null?h:Yi.pooledCache}function _u(h,d){d===null?N(Kh,Kh.current):N(Kh,d.pool)}function Su(){var h=Ic();return h===null?null:{parent:qs?jr._currentValue:jr._currentValue2,pool:h}}function pa(h){h.flags|=4}function Bs(h,d){if(h!==null&&h.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(h=d.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function os(h,d,b,C){if(Gi)for(b=d.child;b!==null;){if(b.tag===5||b.tag===6)Cu(h,b.stateNode);else if(!(b.tag===4||ea&&b.tag===27)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else if(Zs)for(var L=d.child;L!==null;){if(L.tag===5){var V=L.stateNode;b&&C&&(V=sm(V,L.type,L.memoizedProps)),Cu(h,V)}else if(L.tag===6)V=L.stateNode,b&&C&&(V=Yf(V,L.memoizedProps)),Cu(h,V);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)V=L.child,V!==null&&(V.return=L),os(h,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===d)break;for(;L.sibling===null;){if(L.return===null||L.return===d)return;L=L.return}L.sibling.return=L.return,L=L.sibling}}function Eu(h,d,b,C){if(Zs)for(var L=d.child;L!==null;){if(L.tag===5){var V=L.stateNode;b&&C&&(V=sm(V,L.type,L.memoizedProps)),Bh(h,V)}else if(L.tag===6)V=L.stateNode,b&&C&&(V=Yf(V,L.memoizedProps)),Bh(h,V);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)V=L.child,V!==null&&(V.return=L),Eu(h,L,!(L.memoizedProps!==null&&L.memoizedProps.mode==="manual"),!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===d)break;for(;L.sibling===null;){if(L.return===null||L.return===d)return;L=L.return}L.sibling.return=L.return,L=L.sibling}}function Ko(h,d){if(Zs&&Bs(h,d)){h=d.stateNode;var b=h.containerInfo,C=Xc();Eu(C,d,!1,!1),h.pendingChildren=C,pa(d),am(b,C)}}function Tu(h,d,b,C){if(Gi)h.memoizedProps!==C&&pa(d);else if(Zs){var L=h.stateNode,V=h.memoizedProps;if((h=Bs(h,d))||V!==C){var re=na.current;V=kh(L,b,V,C,!h,null),V===L?d.stateNode=L:(ac(V,b,C,re)&&pa(d),d.stateNode=V,h?os(V,d,!1,!1):pa(d))}else d.stateNode=L}}function wu(h,d,b){if(Nd(d,b)){if(h.flags|=16777216,!Ud(d,b))if(Qi())h.flags|=8192;else throw Cs=Js,ym}else h.flags&=-16777217}function wl(h,d){if(cc(d)){if(h.flags|=16777216,!Xh(d))if(Qi())h.flags|=8192;else throw Cs=Js,ym}else h.flags&=-16777217}function ls(h,d){d!==null&&(h.flags|=4),h.flags&16384&&(d=h.tag!==22?B():536870912,h.lanes|=d,Ta|=d)}function nc(h,d){if(!mi)switch(h.tailMode){case"hidden":d=h.tail;for(var b=null;d!==null;)d.alternate!==null&&(b=d),d=d.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var C=null;b!==null;)b.alternate!==null&&(C=b),b=b.sibling;C===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function Hi(h){var d=h.alternate!==null&&h.alternate.child===h.child,b=0,C=0;if(d)for(var L=h.child;L!==null;)b|=L.lanes|L.childLanes,C|=L.subtreeFlags&31457280,C|=L.flags&31457280,L.return=h,L=L.sibling;else for(L=h.child;L!==null;)b|=L.lanes|L.childLanes,C|=L.subtreeFlags,C|=L.flags,L.return=h,L=L.sibling;return h.subtreeFlags|=C,h.childLanes=b,d}function zc(h,d,b){var C=d.pendingProps;switch(te(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(d),null;case 1:return Hi(d),null;case 3:return b=d.stateNode,C=null,h!==null&&(C=h.memoizedState.cache),d.memoizedState.cache!==C&&(d.flags|=2048),Tr(jr),tt(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(Yt(d)?pa(d):h===null||h.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,zl!==null&&(ya(zl),zl=null))),Ko(h,d),Hi(d),null;case 26:if(ka){b=d.type;var L=d.memoizedState;return h===null?(pa(d),L!==null?(Hi(d),wl(d,L)):(Hi(d),wu(d,b,C))):L?L!==h.memoizedState?(pa(d),Hi(d),wl(d,L)):(Hi(d),d.flags&=-16777217):(Gi?h.memoizedProps!==C&&pa(d):Tu(h,d,b,C),Hi(d),wu(d,b,C)),null}case 27:if(ea){if(je(d),b=Jc.current,L=d.type,h!==null&&d.stateNode!=null)Gi?h.memoizedProps!==C&&pa(d):Tu(h,d,L,C);else{if(!C){if(d.stateNode===null)throw Error(r(166));return Hi(d),null}h=na.current,Yt(d)?St(d,h):(h=Kf(L,C,b,h,!0),d.stateNode=h,pa(d))}return Hi(d),null}case 5:if(je(d),b=d.type,h!==null&&d.stateNode!=null)Tu(h,d,b,C);else{if(!C){if(d.stateNode===null)throw Error(r(166));return Hi(d),null}h=na.current,Yt(d)?St(d,h):(L=rc(b,C,Jc.current,h,d),os(L,d,!1,!1),d.stateNode=L,ac(L,b,C,h)&&pa(d))}return Hi(d),wu(d,d.type,d.pendingProps),null;case 6:if(h&&d.stateNode!=null)b=h.memoizedProps,Gi?b!==C&&pa(d):Zs&&(b!==C?(d.stateNode=Ar(C,Jc.current,na.current,d),pa(d)):d.stateNode=h.stateNode);else{if(typeof C!="string"&&d.stateNode===null)throw Error(r(166));if(h=Jc.current,b=na.current,Yt(d)){if(!Ja)throw Error(r(176));if(h=d.stateNode,b=d.memoizedProps,C=null,L=ia,L!==null)switch(L.tag){case 27:case 5:C=L.memoizedProps}Ul(h,b,d,C)||$e(d)}else d.stateNode=Ar(C,h,b,d)}return Hi(d),null;case 13:if(C=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(L=Yt(d),C!==null&&C.dehydrated!==null){if(h===null){if(!L)throw Error(r(318));if(!Ja)throw Error(r(344));if(L=d.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));lm(L,d)}else kt(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Hi(d),L=!1}else zl!==null&&(ya(zl),zl=null),L=!0;if(!L)return d.flags&256?(br(d),d):(br(d),null)}if(br(d),(d.flags&128)!==0)return d.lanes=b,d;if(b=C!==null,h=h!==null&&h.memoizedState!==null,b){C=d.child,L=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(L=C.alternate.memoizedState.cachePool.pool);var V=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(V=C.memoizedState.cachePool.pool),V!==L&&(C.flags|=2048)}return b!==h&&b&&(d.child.flags|=8192),ls(d,d.updateQueue),Hi(d),null;case 4:return tt(),Ko(h,d),h===null&&To(d.stateNode.containerInfo),Hi(d),null;case 10:return Tr(d.type),Hi(d),null;case 19:if(S(sr),L=d.memoizedState,L===null)return Hi(d),null;if(C=(d.flags&128)!==0,V=L.rendering,V===null)if(C)nc(L,!1);else{if(Dr!==0||h!==null&&(h.flags&128)!==0)for(h=d.child;h!==null;){if(V=mn(h),V!==null){for(d.flags|=128,nc(L,!1),h=V.updateQueue,d.updateQueue=h,ls(d,h),d.subtreeFlags=0,h=b,b=d.child;b!==null;)qa(b,h),b=b.sibling;return N(sr,sr.current&1|2),d.child}h=h.sibling}L.tail!==null&&il()>ol&&(d.flags|=128,C=!0,nc(L,!1),d.lanes=4194304)}else{if(!C)if(h=mn(V),h!==null){if(d.flags|=128,C=!0,h=h.updateQueue,d.updateQueue=h,ls(d,h),nc(L,!0),L.tail===null&&L.tailMode==="hidden"&&!V.alternate&&!mi)return Hi(d),null}else 2*il()-L.renderingStartTime>ol&&b!==536870912&&(d.flags|=128,C=!0,nc(L,!1),d.lanes=4194304);L.isBackwards?(V.sibling=d.child,d.child=V):(h=L.last,h!==null?h.sibling=V:d.child=V,L.last=V)}return L.tail!==null?(d=L.tail,L.rendering=d,L.tail=d.sibling,L.renderingStartTime=il(),d.sibling=null,h=sr.current,N(sr,C?h&1|2:h&1),d):(Hi(d),null);case 22:case 23:return br(d),Ho(),C=d.memoizedState!==null,h!==null?h.memoizedState!==null!==C&&(d.flags|=8192):C&&(d.flags|=8192),C?(b&536870912)!==0&&(d.flags&128)===0&&(Hi(d),d.subtreeFlags&6&&(d.flags|=8192)):Hi(d),b=d.updateQueue,b!==null&&ls(d,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),C=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(C=d.memoizedState.cachePool.pool),C!==b&&(d.flags|=2048),h!==null&&S(Kh),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),Tr(jr),Hi(d),null;case 25:return null}throw Error(r(156,d.tag))}function Nh(h,d){switch(te(d),d.tag){case 1:return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return Tr(jr),tt(),h=d.flags,(h&65536)!==0&&(h&128)===0?(d.flags=h&-65537|128,d):null;case 26:case 27:case 5:return je(d),null;case 13:if(br(d),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(r(340));kt()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return S(sr),null;case 4:return tt(),null;case 10:return Tr(d.type),null;case 22:case 23:return br(d),Ho(),h!==null&&S(Kh),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 24:return Tr(jr),null;case 25:return null;default:return null}}function T(h,d){switch(te(d),d.tag){case 3:Tr(jr),tt();break;case 26:case 27:case 5:je(d);break;case 4:tt();break;case 13:br(d);break;case 19:S(sr);break;case 10:Tr(d.type);break;case 22:case 23:br(d),Ho(),h!==null&&S(Kh);break;case 24:Tr(jr)}}function R(h,d){try{var b=d.updateQueue,C=b!==null?b.lastEffect:null;if(C!==null){var L=C.next;b=L;do{if((b.tag&h)===h){C=void 0;var V=b.create,re=b.inst;C=V(),re.destroy=C}b=b.next}while(b!==L)}}catch(Ee){Un(d,d.return,Ee)}}function k(h,d,b){try{var C=d.updateQueue,L=C!==null?C.lastEffect:null;if(L!==null){var V=L.next;C=V;do{if((C.tag&h)===h){var re=C.inst,Ee=re.destroy;if(Ee!==void 0){re.destroy=void 0,L=d;var He=b;try{Ee()}catch(st){Un(L,He,st)}}}C=C.next}while(C!==V)}}catch(st){Un(d,d.return,st)}}function j(h){var d=h.updateQueue;if(d!==null){var b=h.stateNode;try{Dt(d,b)}catch(C){Un(h,h.return,C)}}}function K(h,d,b){b.props=Xo(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(C){Un(h,d,C)}}function ce(h,d){try{var b=h.ref;if(b!==null){var C=h.stateNode;switch(h.tag){case 26:case 27:case 5:var L=_i(C);break;default:L=C}typeof b=="function"?h.refCleanup=b(L):b.current=L}}catch(V){Un(h,d,V)}}function Se(h,d){var b=h.ref,C=h.refCleanup;if(b!==null)if(typeof C=="function")try{C()}catch(L){Un(h,d,L)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(L){Un(h,d,L)}else b.current=null}function Ve(h){var d=h.type,b=h.memoizedProps,C=h.stateNode;try{Gf(C,d,b,h)}catch(L){Un(h,h.return,L)}}function Ge(h,d,b){try{nm(h.stateNode,h.type,b,d,h)}catch(C){Un(h,h.return,C)}}function ht(h){return h.tag===5||h.tag===3||(ka?h.tag===26:!1)||(ea?h.tag===27:!1)||h.tag===4}function Bt(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||ht(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&(!ea||h.tag!==27)&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Mt(h,d,b){var C=h.tag;if(C===5||C===6)h=h.stateNode,d?Hc(b,h,d):Vf(b,h);else if(!(C===4||ea&&C===27)&&(h=h.child,h!==null))for(Mt(h,d,b),h=h.sibling;h!==null;)Mt(h,d,b),h=h.sibling}function nn(h,d,b){var C=h.tag;if(C===5||C===6)h=h.stateNode,d?Xf(b,h,d):em(b,h);else if(!(C===4||ea&&C===27)&&(h=h.child,h!==null))for(nn(h,d,b),h=h.sibling;h!==null;)nn(h,d,b),h=h.sibling}function Dn(h,d,b){h=h.containerInfo;try{kd(h,b)}catch(C){Un(d,d.return,C)}}function Jt(h,d){for(Qa(h.containerInfo),_n=d;_n!==null;)if(h=_n,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,_n=d;else for(;_n!==null;){h=_n;var b=h.alternate;switch(d=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&b!==null){d=void 0;var C=h,L=b.memoizedProps;b=b.memoizedState;var V=C.stateNode;try{var re=Xo(C.type,L,C.elementType===C.type);d=V.getSnapshotBeforeUpdate(re,b),V.__reactInternalSnapshotBeforeUpdate=d}catch(Ee){Un(C,C.return,Ee)}}break;case 3:(d&1024)!==0&&Gi&&Gc(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=h.sibling,d!==null){d.return=h.return,_n=d;break}_n=h.return}return re=er,er=!1,re}function gn(h,d,b){var C=b.flags;switch(b.tag){case 0:case 11:case 15:yn(h,b),C&4&&R(5,b);break;case 1:if(yn(h,b),C&4)if(h=b.stateNode,d===null)try{h.componentDidMount()}catch(Ee){Un(b,b.return,Ee)}else{var L=Xo(b.type,d.memoizedProps);d=d.memoizedState;try{h.componentDidUpdate(L,d,h.__reactInternalSnapshotBeforeUpdate)}catch(Ee){Un(b,b.return,Ee)}}C&64&&j(b),C&512&&ce(b,b.return);break;case 3:if(yn(h,b),C&64&&(C=b.updateQueue,C!==null)){if(h=null,b.child!==null)switch(b.child.tag){case 27:case 5:h=_i(b.child.stateNode);break;case 1:h=b.child.stateNode}try{Dt(C,h)}catch(Ee){Un(b,b.return,Ee)}}break;case 26:if(ka){yn(h,b),C&512&&ce(b,b.return);break}case 27:case 5:yn(h,b),d===null&&C&4&&Ve(b),C&512&&ce(b,b.return);break;case 12:yn(h,b);break;case 13:yn(h,b),C&4&&jn(h,b);break;case 22:if(L=b.memoizedState!==null||af,!L){d=d!==null&&d.memoizedState!==null||zn;var V=af,re=zn;af=L,(zn=d)&&!re?Qr(h,b,(b.subtreeFlags&8772)!==0):yn(h,b),af=V,zn=re}C&512&&(b.memoizedProps.mode==="manual"?ce(b,b.return):Se(b,b.return));break;default:yn(h,b)}}function bi(h){var d=h.alternate;d!==null&&(h.alternate=null,bi(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&Jp(d)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function xn(h,d,b){for(b=b.child;b!==null;)Yn(h,d,b),b=b.sibling}function Yn(h,d,b){if(_a&&typeof _a.onCommitFiberUnmount=="function")try{_a.onCommitFiberUnmount(jd,b)}catch{}switch(b.tag){case 26:if(ka){zn||Se(b,d),xn(h,d,b),b.memoizedState?Gd(b.memoizedState):b.stateNode&&Ao(b.stateNode);break}case 27:if(ea){zn||Se(b,d);var C=Ei,L=sa;Ei=b.stateNode,xn(h,d,b),Ks(b.stateNode),Ei=C,sa=L;break}case 5:zn||Se(b,d);case 6:if(Gi){if(C=Ei,L=sa,Ei=null,xn(h,d,b),Ei=C,sa=L,Ei!==null)if(sa)try{rm(Ei,b.stateNode)}catch(V){Un(b,d,V)}else try{im(Ei,b.stateNode)}catch(V){Un(b,d,V)}}else xn(h,d,b);break;case 18:Gi&&Ei!==null&&(sa?Zc(Ei,b.stateNode):Hd(Ei,b.stateNode));break;case 4:Gi?(C=Ei,L=sa,Ei=b.stateNode.containerInfo,sa=!0,xn(h,d,b),Ei=C,sa=L):(Zs&&Dn(b.stateNode,b,Xc()),xn(h,d,b));break;case 0:case 11:case 14:case 15:zn||k(2,b,d),zn||k(4,b,d),xn(h,d,b);break;case 1:zn||(Se(b,d),C=b.stateNode,typeof C.componentWillUnmount=="function"&&K(b,d,C)),xn(h,d,b);break;case 21:xn(h,d,b);break;case 22:zn||Se(b,d),zn=(C=zn)||b.memoizedState!==null,xn(h,d,b),zn=C;break;default:xn(h,d,b)}}function jn(h,d){if(Ja&&d.memoizedState===null&&(h=d.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{qc(h)}catch(b){Un(d,d.return,b)}}function pi(h){switch(h.tag){case 13:case 19:var d=h.stateNode;return d===null&&(d=h.stateNode=new ii),d;case 22:return h=h.stateNode,d=h._retryCache,d===null&&(d=h._retryCache=new ii),d;default:throw Error(r(435,h.tag))}}function Hn(h,d){var b=pi(h);d.forEach(function(C){var L=$o.bind(null,h,C);b.has(C)||(b.add(C),C.then(L,L))})}function qn(h,d){var b=d.deletions;if(b!==null)for(var C=0;C<b.length;C++){var L=b[C],V=h,re=d;if(Gi){var Ee=re;e:for(;Ee!==null;){switch(Ee.tag){case 27:case 5:Ei=Ee.stateNode,sa=!1;break e;case 3:Ei=Ee.stateNode.containerInfo,sa=!0;break e;case 4:Ei=Ee.stateNode.containerInfo,sa=!0;break e}Ee=Ee.return}if(Ei===null)throw Error(r(160));Yn(V,re,L),Ei=null,sa=!1}else Yn(V,re,L);V=L.alternate,V!==null&&(V.return=null),L.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Wa(d,h),d=d.sibling}function Wa(h,d){var b=h.alternate,C=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:qn(d,h),Ni(h),C&4&&(k(3,h,h.return),R(3,h),k(5,h,h.return));break;case 1:qn(d,h),Ni(h),C&512&&(zn||b===null||Se(b,b.return)),C&64&&af&&(h=h.updateQueue,h!==null&&(C=h.callbacks,C!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?C:b.concat(C))));break;case 26:if(ka){var L=Ds;qn(d,h),Ni(h),C&512&&(zn||b===null||Se(b,b.return)),C&4&&(C=b!==null?b.memoizedState:null,d=h.memoizedState,b===null?d===null?h.stateNode===null?h.stateNode=Kc(L,h.type,h.memoizedProps,h):Vh(L,h.type,h.stateNode):h.stateNode=$r(L,d,h.memoizedProps):C!==d?(C===null?b.stateNode!==null&&Ao(b.stateNode):Gd(C),d===null?Vh(L,h.type,h.stateNode):$r(L,d,h.memoizedProps)):d===null&&h.stateNode!==null&&Ge(h,h.memoizedProps,b.memoizedProps));break}case 27:if(ea&&C&4&&h.alternate===null){L=h.stateNode;var V=h.memoizedProps;try{fm(L),fc(h.type,V,L,h)}catch(Pt){Un(h,h.return,Pt)}}case 5:if(qn(d,h),Ni(h),C&512&&(zn||b===null||Se(b,b.return)),Gi){if(h.flags&32){d=h.stateNode;try{Wf(d)}catch(Pt){Un(h,h.return,Pt)}}C&4&&h.stateNode!=null&&(d=h.memoizedProps,Ge(h,d,b!==null?b.memoizedProps:d)),C&1024&&(Wi=!0)}break;case 6:if(qn(d,h),Ni(h),C&4&&Gi){if(h.stateNode===null)throw Error(r(162));C=h.memoizedProps,b=b!==null?b.memoizedProps:C,d=h.stateNode;try{tm(d,b,C)}catch(Pt){Un(h,h.return,Pt)}}break;case 3:if(ka?(cm(),L=Ds,Ds=$i(d.containerInfo),qn(d,h),Ds=L):qn(d,h),Ni(h),C&4){if(Gi&&Ja&&b!==null&&b.memoizedState.isDehydrated)try{um(d.containerInfo)}catch(Pt){Un(h,h.return,Pt)}if(Zs){C=d.containerInfo,b=d.pendingChildren;try{kd(C,b)}catch(Pt){Un(h,h.return,Pt)}}}Wi&&(Wi=!1,Ui(h));break;case 4:ka?(b=Ds,Ds=$i(h.stateNode.containerInfo),qn(d,h),Ni(h),Ds=b):(qn(d,h),Ni(h)),C&4&&Zs&&Dn(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:qn(d,h),Ni(h);break;case 13:qn(d,h),Ni(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(Nv=il()),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,Hn(h,C)));break;case 22:C&512&&(zn||b===null||Se(b,b.return)),L=h.memoizedState!==null;var re=b!==null&&b.memoizedState!==null,Ee=af,He=zn;if(af=Ee||L,zn=He||re,qn(d,h),zn=He,af=Ee,Ni(h),d=h.stateNode,d._current=h,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,C&8192&&(d._visibility=L?d._visibility&-2:d._visibility|1,L&&(d=af||zn,b===null||re||d||Pi(h)),Gi&&(h.memoizedProps===null||h.memoizedProps.mode!=="manual"))){e:if(b=null,Gi)for(d=h;;){if(d.tag===5||ka&&d.tag===26||ea&&d.tag===27){if(b===null){re=b=d;try{V=re.stateNode,L?Cg(V):zd(re.stateNode,re.memoizedProps)}catch(Pt){Un(re,re.return,Pt)}}}else if(d.tag===6){if(b===null){re=d;try{var st=re.stateNode;L?Ru(st):Vc(st,re.memoizedProps)}catch(Pt){Un(re,re.return,Pt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===h)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;b===d&&(b=null),d=d.return}b===d&&(b=null),d.sibling.return=d.return,d=d.sibling}}C&4&&(C=h.updateQueue,C!==null&&(b=C.retryQueue,b!==null&&(C.retryQueue=null,Hn(h,b))));break;case 19:qn(d,h),Ni(h),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,Hn(h,C)));break;case 21:break;default:qn(d,h),Ni(h)}}function Ni(h){var d=h.flags;if(d&2){try{if(Gi&&(!ea||h.tag!==27)){e:{for(var b=h.return;b!==null;){if(ht(b)){var C=b;break e}b=b.return}throw Error(r(160))}switch(C.tag){case 27:if(ea){var L=C.stateNode,V=Bt(h);nn(h,V,L);break}case 5:var re=C.stateNode;C.flags&32&&(Wf(re),C.flags&=-33);var Ee=Bt(h);nn(h,Ee,re);break;case 3:case 4:var He=C.stateNode.containerInfo,st=Bt(h);Mt(h,st,He);break;default:throw Error(r(161))}}}catch(Pt){Un(h,h.return,Pt)}h.flags&=-3}d&4096&&(h.flags&=-4097)}function Ui(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var d=h;Ui(d),d.tag===5&&d.flags&1024&&kf(d.stateNode),h=h.sibling}}function yn(h,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)gn(h,d.alternate,d),d=d.sibling}function Pi(h){for(h=h.child;h!==null;){var d=h;switch(d.tag){case 0:case 11:case 14:case 15:k(4,d,d.return),Pi(d);break;case 1:Se(d,d.return);var b=d.stateNode;typeof b.componentWillUnmount=="function"&&K(d,d.return,b),Pi(d);break;case 26:case 27:case 5:Se(d,d.return),Pi(d);break;case 22:Se(d,d.return),d.memoizedState===null&&Pi(d);break;default:Pi(d)}h=h.sibling}}function Qr(h,d,b){for(b=b&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var C=d.alternate,L=h,V=d,re=V.flags;switch(V.tag){case 0:case 11:case 15:Qr(L,V,b),R(4,V);break;case 1:if(Qr(L,V,b),C=V,L=C.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(st){Un(C,C.return,st)}if(C=V,L=C.updateQueue,L!==null){var Ee=C.stateNode;try{var He=L.shared.hiddenCallbacks;if(He!==null)for(L.shared.hiddenCallbacks=null,L=0;L<He.length;L++)Me(He[L],Ee)}catch(st){Un(C,C.return,st)}}b&&re&64&&j(V),ce(V,V.return);break;case 26:case 27:case 5:Qr(L,V,b),b&&C===null&&re&4&&Ve(V),ce(V,V.return);break;case 12:Qr(L,V,b);break;case 13:Qr(L,V,b),b&&re&4&&jn(L,V);break;case 22:V.memoizedState===null&&Qr(L,V,b),ce(V,V.return);break;default:Qr(L,V,b)}d=d.sibling}}function Hr(h,d){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(h=d.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&bu(b))}function La(h,d){h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&bu(h))}function rr(h,d,b,C){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)ma(h,d,b,C),d=d.sibling}function ma(h,d,b,C){var L=d.flags;switch(d.tag){case 0:case 11:case 15:rr(h,d,b,C),L&2048&&R(9,d);break;case 3:rr(h,d,b,C),L&2048&&(h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&bu(h)));break;case 12:if(L&2048){rr(h,d,b,C),h=d.stateNode;try{var V=d.memoizedProps,re=V.id,Ee=V.onPostCommit;typeof Ee=="function"&&Ee(re,d.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(He){Un(d,d.return,He)}}else rr(h,d,b,C);break;case 23:break;case 22:V=d.stateNode,d.memoizedState!==null?V._visibility&4?rr(h,d,b,C):Vr(h,d):V._visibility&4?rr(h,d,b,C):(V._visibility|=4,Zi(h,d,b,C,(d.subtreeFlags&10256)!==0)),L&2048&&Hr(d.alternate,d);break;case 24:rr(h,d,b,C),L&2048&&La(d.alternate,d);break;default:rr(h,d,b,C)}}function Zi(h,d,b,C,L){for(L=L&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var V=h,re=d,Ee=b,He=C,st=re.flags;switch(re.tag){case 0:case 11:case 15:Zi(V,re,Ee,He,L),R(8,re);break;case 23:break;case 22:var Pt=re.stateNode;re.memoizedState!==null?Pt._visibility&4?Zi(V,re,Ee,He,L):Vr(V,re):(Pt._visibility|=4,Zi(V,re,Ee,He,L)),L&&st&2048&&Hr(re.alternate,re);break;case 24:Zi(V,re,Ee,He,L),L&&st&2048&&La(re.alternate,re);break;default:Zi(V,re,Ee,He,L)}d=d.sibling}}function Vr(h,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var b=h,C=d,L=C.flags;switch(C.tag){case 22:Vr(b,C),L&2048&&Hr(C.alternate,C);break;case 24:Vr(b,C),L&2048&&La(C.alternate,C);break;default:Vr(b,C)}d=d.sibling}}function us(h){if(h.subtreeFlags&oh)for(h=h.child;h!==null;)Ya(h),h=h.sibling}function Ya(h){switch(h.tag){case 26:us(h),h.flags&oh&&(h.memoizedState!==null?Xd(Ds,h.memoizedState,h.memoizedProps):Fc(h.type,h.memoizedProps));break;case 5:us(h),h.flags&oh&&Fc(h.type,h.memoizedProps);break;case 3:case 4:if(ka){var d=Ds;Ds=$i(h.stateNode.containerInfo),us(h),Ds=d}else us(h);break;case 22:h.memoizedState===null&&(d=h.alternate,d!==null&&d.memoizedState!==null?(d=oh,oh=16777216,us(h),oh=d):us(h));break;default:us(h)}}function Ml(h){var d=h.alternate;if(d!==null&&(h=d.child,h!==null)){d.child=null;do d=h.sibling,h.sibling=null,h=d;while(h!==null)}}function Fs(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var b=0;b<d.length;b++){var C=d[b];_n=C,mo(C,h)}Ml(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)ga(h),h=h.sibling}function ga(h){switch(h.tag){case 0:case 11:case 15:Fs(h),h.flags&2048&&k(9,h,h.return);break;case 3:Fs(h);break;case 12:Fs(h);break;case 22:var d=h.stateNode;h.memoizedState!==null&&d._visibility&4&&(h.return===null||h.return.tag!==13)?(d._visibility&=-5,Hs(h)):Fs(h);break;default:Fs(h)}}function Hs(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var b=0;b<d.length;b++){var C=d[b];_n=C,mo(C,h)}Ml(h)}for(h=h.child;h!==null;){switch(d=h,d.tag){case 0:case 11:case 15:k(8,d,d.return),Hs(d);break;case 22:b=d.stateNode,b._visibility&4&&(b._visibility&=-5,Hs(d));break;default:Hs(d)}h=h.sibling}}function mo(h,d){for(;_n!==null;){var b=_n;switch(b.tag){case 0:case 11:case 15:k(8,b,d);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var C=b.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:bu(b.memoizedState.cache)}if(C=b.child,C!==null)C.return=b,_n=C;else e:for(b=h;_n!==null;){C=_n;var L=C.sibling,V=C.return;if(bi(C),C===b){_n=null;break e}if(L!==null){L.return=V,_n=L;break e}_n=V}}}function Lr(h){var d=sc(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(h=Bf(h),h===null)throw Error(r(362));return h.stateNode.current}function ic(h,d){var b=h.tag;switch(d.$$typeof){case gr:if(h.type===d.value)return!0;break;case Iu:e:{for(d=d.value,h=[h,0],b=0;b<h.length;){var C=h[b++],L=C.tag,V=h[b++],re=d[V];if(L!==5&&L!==26&&L!==27||!za(C)){for(;re!=null&&ic(C,re);)V++,re=d[V];if(V===d.length){d=!0;break e}else for(C=C.child;C!==null;)h.push(C,V),C=C.sibling}}d=!1}return d;case gc:if((b===5||b===26||b===27)&&Id(h.stateNode,d.value))return!0;break;case eo:if((b===5||b===6||b===26||b===27)&&(h=Ff(h),h!==null&&0<=h.indexOf(d.value)))return!0;break;case $d:if((b===5||b===26||b===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Gr(h){switch(h.$$typeof){case gr:return"<"+(s(h.value)||"Unknown")+">";case Iu:return":has("+(Gr(h)||"")+")";case gc:return'[role="'+h.value+'"]';case eo:return'"'+h.value+'"';case $d:return'[data-testname="'+h.value+'"]';default:throw Error(r(365))}}function Al(h,d){var b=[];h=[h,0];for(var C=0;C<h.length;){var L=h[C++],V=L.tag,re=h[C++],Ee=d[re];if(V!==5&&V!==26&&V!==27||!za(L)){for(;Ee!=null&&ic(L,Ee);)re++,Ee=d[re];if(re===d.length)b.push(L);else for(L=L.child;L!==null;)h.push(L,re),L=L.sibling}}return b}function Qo(h,d){if(!Pl)throw Error(r(363));h=Lr(h),h=Al(h,d),d=[],h=Array.from(h);for(var b=0;b<h.length;){var C=h[b++],L=C.tag;if(L===5||L===26||L===27)za(C)||d.push(C.stateNode);else for(C=C.child;C!==null;)h.push(C),C=C.sibling}return d}function Xr(){if((ai&2)!==0&&si!==0)return si&-si;if(Kt.T!==null){var h=mr;return h!==0?h:De()}return Kp()}function Mu(){sl===0&&(sl=(si&536870912)===0||mi?W():536870912);var h=Do.current;return h!==null&&(h.flags|=32),sl}function Ai(h,d,b){(h===Yi&&Fi===2||h.cancelPendingCommit!==null)&&(va(h,0),Yr(h,si,sl,!1)),Z(h,b),((ai&2)===0||h!==Yi)&&(h===Yi&&((ai&2)===0&&(of|=b),Dr===4&&Yr(h,si,sl,!1)),mt(h))}function Wr(h,d,b){if((ai&6)!==0)throw Error(r(327));var C=!b&&(d&60)===0&&(d&h.expiredLanes)===0||H(h,d),L=C?Vi(h,d):Rl(h,d,!0),V=C;do{if(L===0){Vl&&!C&&Yr(h,d,0,!1);break}else if(L===6)Yr(h,d,0,!Hl);else{if(b=h.current.alternate,V&&!go(b)){L=Rl(h,d,!1),V=!1;continue}if(L===2){if(V=d,h.errorRecoveryDisabledLanes&V)var re=0;else re=h.pendingLanes&-536870913,re=re!==0?re:re&536870912?536870912:0;if(re!==0){d=re;e:{var Ee=h;L=ep;var He=Ja&&Ee.current.memoizedState.isDehydrated;if(He&&(va(Ee,re).flags|=256),re=Rl(Ee,re,!1),re!==2){if(Qh&&!He){Ee.errorRecoveryDisabledLanes|=V,of|=V,L=4;break e}V=Xl,Xl=L,V!==null&&ya(V)}L=re}if(V=!1,L!==2)continue}}if(L===1){va(h,0),Yr(h,d,0,!0);break}e:{switch(C=h,L){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Yr(C,d,sl,!Hl);break e}break;case 2:Xl=null;break;case 3:case 5:break;default:throw Error(r(329))}if(C.finishedWork=b,C.finishedLanes=d,(d&62914560)===d&&(V=Nv+300-il(),10<V)){if(Yr(C,d,sl,!Hl),X(C,0)!==0)break e;C.timeoutHandle=Ih(fr.bind(null,C,b,Xl,Jh,zg,d,sl,of,Ta,Hl,2,-0,0),V);break e}fr(C,b,Xl,Jh,zg,d,sl,of,Ta,Hl,0,-0,0)}}break}while(!0);mt(h)}function ya(h){Xl===null?Xl=h:Xl.push.apply(Xl,h)}function fr(h,d,b,C,L,V,re,Ee,He,st,Pt,jt,Ot){var kn=d.subtreeFlags;if((kn&8192||(kn&16785408)===16785408)&&(Ag(),Ya(d),d=Dl(),d!==null)){h.cancelPendingCommit=d(ja.bind(null,h,b,C,L,re,Ee,He,1,jt,Ot)),Yr(h,V,re,!st);return}ja(h,b,C,L,re,Ee,He,Pt,jt,Ot)}function go(h){for(var d=h;;){var b=d.tag;if((b===0||b===11||b===15)&&d.flags&16384&&(b=d.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var C=0;C<b.length;C++){var L=b[C],V=L.getSnapshot;L=L.value;try{if(!Qs(V(),L))return!1}catch{return!1}}if(b=d.child,d.subtreeFlags&16384&&b!==null)b.return=d,d=b;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Yr(h,d,b,C){d&=~to,d&=~of,h.suspendedLanes|=d,h.pingedLanes&=~d,C&&(h.warmLanes|=d),C=h.expirationTimes;for(var L=d;0<L;){var V=31-ta(L),re=1<<V;C[V]=-1,L&=~re}b!==0&&se(h,b,d)}function Cl(){return(ai&6)===0?(Rt(0),!1):!0}function Vs(){if(Jn!==null){if(Fi===0)var h=Jn.return;else h=Jn,Fl=sh=null,ne(h),qh=null,Rs=0,h=Jn;for(;h!==null;)T(h.alternate,h),h=h.return;Jn=null}}function va(h,d){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;b!==Bc&&(h.timeoutHandle=Bc,zf(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),Vs(),Yi=h,Jn=b=bo(h.current,null),si=d,Fi=0,Ea=null,Hl=!1,Vl=H(h,d),Qh=!1,Ta=sl=to=of=Gl=Dr=0,Xl=ep=null,zg=!1,(d&8)!==0&&(d|=d&32);var C=h.entangledLanes;if(C!==0)for(h=h.entanglements,C&=d;0<C;){var L=31-ta(C),V=1<<L;d|=h[L],C&=~V}return zu=d,ct(),b}function Ki(h,d){In=null,Kt.H=aa,d===gm?(d=Wt(),Fi=3):d===ym?(d=Wt(),Fi=4):Fi=d===Pv?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ea=d,Jn===null&&(Dr=1,du(h,pe(d,h.current)))}function Qi(){var h=Do.current;return h===null?!0:(si&4194176)===si?kl===null:(si&62914560)===si||(si&536870912)!==0?h===kl:!1}function Gn(){var h=Kt.H;return Kt.H=aa,h===null?aa:h}function hr(){var h=Kt.A;return Kt.A=sf,h}function Nr(){Dr=4,Hl||(si&4194176)!==si&&Do.current!==null||(Vl=!0),(Gl&134217727)===0&&(of&134217727)===0||Yi===null||Yr(Yi,si,sl,!1)}function Rl(h,d,b){var C=ai;ai|=2;var L=Gn(),V=hr();(Yi!==h||si!==d)&&(Jh=null,va(h,d)),d=!1;var re=Dr;e:do try{if(Fi!==0&&Jn!==null){var Ee=Jn,He=Ea;switch(Fi){case 8:Vs(),re=6;break e;case 3:case 2:case 6:Do.current===null&&(d=!0);var st=Fi;if(Fi=0,Ea=null,Na(h,Ee,He,st),b&&Vl){re=0;break e}break;default:st=Fi,Fi=0,Ea=null,Na(h,Ee,He,st)}}Jo(),re=Dr;break}catch(Pt){Ki(h,Pt)}while(!0);return d&&h.shellSuspendCounter++,Fl=sh=null,ai=C,Kt.H=L,Kt.A=V,Jn===null&&(Yi=null,si=0,ct()),re}function Jo(){for(;Jn!==null;)Gs(Jn)}function Vi(h,d){var b=ai;ai|=2;var C=Gn(),L=hr();Yi!==h||si!==d?(Jh=null,ol=il()+500,va(h,d)):Vl=H(h,d);e:do try{if(Fi!==0&&Jn!==null){d=Jn;var V=Ea;t:switch(Fi){case 1:Fi=0,Ea=null,Na(h,d,V,1);break;case 2:if(Zt(V)){Fi=0,Ea=null,yo(d);break}d=function(){Fi===2&&Yi===h&&(Fi=7),mt(h)},V.then(d,d);break e;case 3:Fi=7;break e;case 4:Fi=5;break e;case 7:Zt(V)?(Fi=0,Ea=null,yo(d)):(Fi=0,Ea=null,Na(h,d,V,7));break;case 5:var re=null;switch(Jn.tag){case 26:re=Jn.memoizedState;case 5:case 27:var Ee=Jn,He=Ee.type,st=Ee.pendingProps;if(re?Xh(re):Ud(He,st)){Fi=0,Ea=null;var Pt=Ee.sibling;if(Pt!==null)Jn=Pt;else{var jt=Ee.return;jt!==null?(Jn=jt,cs(jt)):Jn=null}break t}}Fi=0,Ea=null,Na(h,d,V,5);break;case 6:Fi=0,Ea=null,Na(h,d,V,6);break;case 8:Vs(),Dr=6;break e;default:throw Error(r(462))}}Uf();break}catch(Ot){Ki(h,Ot)}while(!0);return Fl=sh=null,Kt.H=C,Kt.A=L,ai=b,Jn!==null?0:(Yi=null,si=0,ct(),Dr)}function Uf(){for(;Jn!==null&&!Jf();)Gs(Jn)}function Gs(h){var d=Uc(h.alternate,h,zu);h.memoizedProps=h.pendingProps,d===null?cs(h):Jn=d}function yo(h){var d=h,b=d.alternate;switch(d.tag){case 15:case 0:d=yu(b,d,d.pendingProps,d.type,void 0,si);break;case 11:d=yu(b,d,d.pendingProps,d.type.render,d.ref,si);break;case 5:ne(d);default:T(b,d),d=Jn=qa(d,zu),d=Uc(b,d,zu)}h.memoizedProps=h.pendingProps,d===null?cs(h):Jn=d}function Na(h,d,b,C){Fl=sh=null,ne(d),qh=null,Rs=0;var L=d.return;try{if(Df(h,L,d,b,si)){Dr=1,du(h,pe(b,h.current)),Jn=null;return}}catch(V){if(L!==null)throw Jn=L,V;Dr=1,du(h,pe(b,h.current)),Jn=null;return}d.flags&32768?(mi||C===1?h=!0:Vl||(si&536870912)!==0?h=!1:(Hl=h=!0,(C===2||C===3||C===6)&&(C=Do.current,C!==null&&C.tag===13&&(C.flags|=16384))),Xs(d,h)):cs(d)}function cs(h){var d=h;do{if((d.flags&32768)!==0){Xs(d,Hl);return}h=d.return;var b=zc(d.alternate,d,zu);if(b!==null){Jn=b;return}if(d=d.sibling,d!==null){Jn=d;return}Jn=d=h}while(d!==null);Dr===0&&(Dr=5)}function Xs(h,d){do{var b=Nh(h.alternate,h);if(b!==null){b.flags&=32767,Jn=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!d&&(h=h.sibling,h!==null)){Jn=h;return}Jn=h=b}while(h!==null);Dr=6,Jn=null}function ja(h,d,b,C,L,V,re,Ee,He,st){var Pt=Kt.T,jt=wo();try{$a(2),Kt.T=null,Ua(h,d,b,C,jt,L,V,re,Ee,He,st)}finally{Kt.T=Pt,$a(jt)}}function Ua(h,d,b,C,L,V,re,Ee){do Ws();while(lh!==null);if((ai&6)!==0)throw Error(r(327));var He=h.finishedWork;if(C=h.finishedLanes,He===null)return null;if(h.finishedWork=null,h.finishedLanes=0,He===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var st=He.lanes|He.childLanes;if(st|=Lu,ae(h,C,st,V,re,Ee),h===Yi&&(Jn=Yi=null,si=0),(He.subtreeFlags&10256)===0&&(He.flags&10256)===0||lf||(lf=!0,kg=st,_m=b,kc(Yd,function(){return Ws(),null})),b=(He.flags&15990)!==0,(He.subtreeFlags&15990)!==0||b?(b=Kt.T,Kt.T=null,V=wo(),$a(2),re=ai,ai|=4,Jt(h,He),Wa(He,h),Zp(h.containerInfo),h.current=He,gn(h,He.alternate,He),Qc(),ai=re,$a(V),Kt.T=b):h.current=He,lf?(lf=!1,lh=h,tp=C):vo(h,st),st=h.pendingLanes,st===0&&(vc=null),ee(He.stateNode),mt(h),d!==null)for(L=h.onRecoverableError,He=0;He<d.length;He++)st=d[He],L(st.value,{componentStack:st.stack});return(tp&3)!==0&&Ws(),st=h.pendingLanes,(C&4194218)!==0&&(st&42)!==0?h===Uv?$h++:($h=0,Uv=h):$h=0,Rt(0),null}function vo(h,d){(h.pooledCacheLanes&=d)===0&&(d=h.pooledCache,d!=null&&(h.pooledCache=null,bu(d)))}function Ws(){if(lh!==null){var h=lh,d=kg;kg=0;var b=xe(tp),C=32>b?32:b;b=Kt.T;var L=wo();try{if($a(C),Kt.T=null,lh===null)var V=!1;else{C=_m,_m=null;var re=lh,Ee=tp;if(lh=null,tp=0,(ai&6)!==0)throw Error(r(331));var He=ai;if(ai|=4,ga(re.current),ma(re,re.current,Ee,C),ai=He,Rt(0,!1),_a&&typeof _a.onPostCommitFiberRoot=="function")try{_a.onPostCommitFiberRoot(jd,re)}catch{}V=!0}return V}finally{$a(L),Kt.T=b,vo(h,d)}}return!1}function Au(h,d,b){d=pe(b,d),d=Ku(h.stateNode,d,2),h=at(h,d,2),h!==null&&(Z(h,2),mt(h))}function Un(h,d,b){if(h.tag===3)Au(h,h,b);else for(;d!==null;){if(d.tag===3){Au(d,h,b);break}else if(d.tag===1){var C=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(vc===null||!vc.has(C))){h=pe(b,h),b=mu(2),C=at(d,b,2),C!==null&&(Lc(b,C,d,h),Z(C,2),mt(C));break}}d=d.return}}function fs(h,d,b){var C=h.pingCache;if(C===null){C=h.pingCache=new bm;var L=new Set;C.set(d,L)}else L=C.get(d),L===void 0&&(L=new Set,C.set(d,L));L.has(b)||(Qh=!0,L.add(b),h=wr.bind(null,h,d,b),d.then(h,h))}function wr(h,d,b){var C=h.pingCache;C!==null&&C.delete(d),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,Yi===h&&(si&b)===b&&(Dr===4||Dr===3&&(si&62914560)===si&&300>il()-Nv?(ai&2)===0&&va(h,0):to|=b,Ta===si&&(Ta=0)),mt(h)}function Es(h,d){d===0&&(d=B()),h=Je(h,d),h!==null&&(Z(h,d),mt(h))}function xo(h){var d=h.memoizedState,b=0;d!==null&&(b=d.retryLane),Es(h,b)}function $o(h,d){var b=0;switch(h.tag){case 13:var C=h.stateNode,L=h.memoizedState;L!==null&&(b=L.retryLane);break;case 19:C=h.stateNode;break;case 22:C=h.stateNode._retryCache;break;default:throw Error(r(314))}C!==null&&C.delete(d),Es(h,b)}function kc(h,d){return hc(h,d)}function If(h,d,b,C){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(h){return h=h.prototype,!(!h||!h.isReactComponent)}function bo(h,d){var b=h.alternate;return b===null?(b=t(h.tag,d,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=d,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&31457280,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,d=h.dependencies,b.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function qa(h,d){h.flags&=31457282;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=d,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,d=b.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),h}function Ys(h,d,b,C,L,V){var re=0;if(C=h,typeof h=="function")dr(h)&&(re=1);else if(typeof h=="string")re=ka&&ea?Cr(h,b,na.current)?26:Wh(h)?27:5:ka?Cr(h,b,na.current)?26:5:ea&&Wh(h)?27:5;else e:switch(h){case A:return js(b.children,L,V,d);case z:re=8,L|=24;break;case Y:return h=t(12,b,d,L|2),h.elementType=Y,h.lanes=V,h;case Ae:return h=t(13,b,d,L),h.elementType=Ae,h.lanes=V,h;case Ke:return h=t(19,b,d,L),h.elementType=Ke,h.lanes=V,h;case wt:return el(b,L,V,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case Q:case _e:re=10;break e;case ue:re=9;break e;case Ne:re=11;break e;case dt:re=14;break e;case nt:re=16,C=null;break e}re=29,b=Error(r(130,h===null?"null":typeof h,"")),C=null}return d=t(re,b,d,L),d.elementType=h,d.type=C,d.lanes=V,d}function js(h,d,b,C){return h=t(7,h,C,d),h.lanes=b,h}function el(h,d,b,C){h=t(22,h,C,d),h.elementType=wt,h.lanes=b;var L={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var V=L._current;if(V===null)throw Error(r(456));if((L._pendingVisibility&2)===0){var re=Je(V,2);re!==null&&(L._pendingVisibility|=2,Ai(re,V,2))}},attach:function(){var V=L._current;if(V===null)throw Error(r(456));if((L._pendingVisibility&2)!==0){var re=Je(V,2);re!==null&&(L._pendingVisibility&=-3,Ai(re,V,2))}}};return h.stateNode=L,h}function _o(h,d,b){return h=t(6,h,null,d),h.lanes=b,h}function Ur(h,d,b){return d=t(4,h.children!==null?h.children:[],h.key,d),d.lanes=b,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function hs(h,d,b,C,L,V,re,Ee){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Bc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=I(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I(0),this.hiddenUpdates=I(null),this.identifierPrefix=C,this.onUncaughtError=L,this.onCaughtError=V,this.onRecoverableError=re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function Za(h,d,b,C,L,V,re,Ee,He,st,Pt,jt){return h=new hs(h,d,b,re,Ee,He,st,jt),d=1,V===!0&&(d|=24),V=t(3,null,null,d),h.current=V,V.stateNode=h,d=Zo(),d.refCount++,h.pooledCache=d,d.refCount++,V.memoizedState={element:C,isDehydrated:b,cache:d},zt(V),h}function Ts(h){return h?(h=Yh,h):Yh}function Jr(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=v(d),h=h!==null?_(h):null,h===null?null:_i(h.stateNode)}function ds(h,d,b,C,L,V){L=Ts(L),C.context===null?C.context=L:C.pendingContext=L,C=lt(d),C.payload={element:b},V=V===void 0?null:V,V!==null&&(C.callback=V),b=at(h,C,d),b!==null&&(Ai(b,h,d),sn(b,h,d))}function Ii(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<d?b:d}}function So(h,d){Ii(h,d),(h=h.alternate)&&Ii(h,d)}var Mn={},Uh=Mh(),zi=cA(),Ji=Object.assign,ps=Symbol.for("react.element"),Eo=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),wt=Symbol.for("react.offscreen"),Ut=Symbol.for("react.memo_cache_sentinel"),Vt=Symbol.iterator,en=Symbol.for("react.client.reference"),Kt=Uh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ki,ar,Ci=!1,Bi=Array.isArray,Mr=e.rendererVersion,Ia=e.rendererPackageName,Fn=e.extraDevToolsConfig,_i=e.getPublicInstance,Ir=e.getRootHostContext,Ka=e.getChildHostContext,Qa=e.prepareForCommit,Zp=e.resetAfterCommit,rc=e.createInstance,Cu=e.appendInitialChild,ac=e.finalizeInitialChildren,xa=e.shouldSetTextContent,Ar=e.createTextInstance,Ih=e.scheduleTimeout,zf=e.cancelTimeout,Bc=e.noTimeout,qs=e.isPrimaryRenderer;e.warnsIfNotActing;var Gi=e.supportsMutation,Zs=e.supportsPersistence,Ja=e.supportsHydration,sc=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var To=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var $a=e.setCurrentUpdatePriority,wo=e.getCurrentUpdatePriority,Kp=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Qp=e.shouldAttemptEagerTransition,Jp=e.detachDeletedInstance;e.requestPostPaintCallback;var Nd=e.maySuspendCommit,Ud=e.preloadInstance,Ag=e.startSuspendingCommit,Fc=e.suspendInstance,Dl=e.waitForCommitToBeReady,oc=e.NotPendingTransition,Ol=e.HostTransitionContext,kf=e.resetFormInstance;e.bindToConsole;var $p=e.supportsMicrotasks,lc=e.scheduleMicrotask,Pl=e.supportsTestSelectors,Bf=e.findFiberRoot,zh=e.getBoundingRect,Ff=e.getTextContent,za=e.isHiddenSubtree,Id=e.matchAccessibilityRole,Hf=e.setFocusIfFocusable,Ll=e.setupIntersectionObserver,em=e.appendChild,Vf=e.appendChildToContainer,tm=e.commitTextUpdate,Gf=e.commitMount,nm=e.commitUpdate,Xf=e.insertBefore,Hc=e.insertInContainerBefore,im=e.removeChild,rm=e.removeChildFromContainer,Wf=e.resetTextContent,Cg=e.hideInstance,Ru=e.hideTextInstance,zd=e.unhideInstance,Vc=e.unhideTextInstance,Gc=e.clearContainer,kh=e.cloneInstance,Xc=e.createContainerChildSet,Bh=e.appendChildToContainerChildSet,am=e.finalizeContainerChildren,kd=e.replaceContainerChildren,sm=e.cloneHiddenInstance,Yf=e.cloneHiddenTextInstance,Nl=e.isSuspenseInstancePending,jf=e.isSuspenseInstanceFallback,Wc=e.getSuspenseInstanceFallbackErrorDetails,Bd=e.registerSuspenseInstanceRetry,om=e.canHydrateFormStateMarker,tl=e.isFormStateMarkerMatching,nl=e.getNextHydratableSibling,ms=e.getFirstHydratableChild,Mo=e.getFirstHydratableChildWithinContainer,Fd=e.getFirstHydratableChildWithinSuspenseInstance,Yc=e.canHydrateInstance,Fh=e.canHydrateTextInstance,qf=e.canHydrateSuspenseInstance,uc=e.hydrateInstance,Ul=e.hydrateTextInstance,lm=e.hydrateSuspenseInstance,jc=e.getNextHydratableInstanceAfterSuspenseInstance,um=e.commitHydratedContainer,qc=e.commitHydratedSuspenseInstance,Hd=e.clearSuspenseBoundary,Zc=e.clearSuspenseBoundaryFromContainer,Vd=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Zf=e.validateHydratableInstance,Hh=e.validateHydratableTextInstance,ka=e.supportsResources,Cr=e.isHostHoistableType,$i=e.getHoistableRoot,ba=e.getResource,$r=e.acquireResource,Gd=e.releaseResource,Kc=e.hydrateHoistable,Vh=e.mountHoistable,Ao=e.unmountHoistable,Gh=e.createHoistableInstance,cm=e.prepareToCommitHoistables,cc=e.mayResourceSuspendCommit,Xh=e.preloadResource,Xd=e.suspendResource,ea=e.supportsSingletons,Kf=e.resolveSingletonInstance,fm=e.clearSingleton,fc=e.acquireSingletonInstance,Ks=e.releaseSingletonInstance,Wh=e.isHostSingletonType,Rg=[],Qf=-1,Yh={},ta=Math.clz32?Math.clz32:P,Dv=Math.log,aE=Math.LN2,hm=128,Wd=4194304,hc=zi.unstable_scheduleCallback,Du=zi.unstable_cancelCallback,Jf=zi.unstable_shouldYield,Qc=zi.unstable_requestPaint,il=zi.unstable_now,Dg=zi.unstable_ImmediatePriority,dm=zi.unstable_UserBlockingPriority,Yd=zi.unstable_NormalPriority,jh=zi.unstable_IdlePriority,ws=zi.log,Og=zi.unstable_setDisableYieldValue,jd=null,_a=null,Qs=typeof Object.is=="function"?Object.is:ve,Pg=new WeakMap,rl=[],al=0,$f=null,qd=0,Co=[],Ms=0,Ou=null,dc=1,pc="",na=M(null),Il=M(null),Jc=M(null),pm=M(null),ia=null,Xi=null,mi=!1,zl=null,Pu=!1,mm=Error(r(519)),Ro=[],$c=0,Lu=0,pr=null,eh=null,Lg=!1,ra=!1,Ng=!1,Zd=0,Kd=null,Ug=0,mr=0,es=null,As=!1,Ig=!1,eb=Object.prototype.hasOwnProperty,gm=Error(r(460)),ym=Error(r(474)),Js={then:function(){}},Cs=null,qh=null,Rs=0,th=vr(!0),mc=vr(!1),Nu=M(null),Uu=M(0),Do=M(null),kl=null,sr=M(0),ef=0,In=null,Si=null,Rr=null,tf=!1,Zh=!1,nh=!1,ih=0,Qd=0,nf=null,tb=0,Ov=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},aa={readContext:Mi,use:Ce,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn};aa.useCacheRefresh=pn,aa.useMemoCache=pn,aa.useHostTransitionStatus=pn,aa.useFormState=pn,aa.useActionState=pn,aa.useOptimistic=pn;var rf={readContext:Mi,use:Ce,useCallback:function(h,d){return we().memoizedState=[h,d===void 0?null:d],h},useContext:Mi,useEffect:Ph,useImperativeHandle:function(h,d,b){b=b!=null?b.concat([h]):null,lu(4194308,4,uu.bind(null,d,h),b)},useLayoutEffect:function(h,d){return lu(4194308,4,h,d)},useInsertionEffect:function(h,d){lu(4,2,h,d)},useMemo:function(h,d){var b=we();d=d===void 0?null:d;var C=h();if(nh){le(!0);try{h()}finally{le(!1)}}return b.memoizedState=[C,d],C},useReducer:function(h,d,b){var C=we();if(b!==void 0){var L=b(d);if(nh){le(!0);try{b(d)}finally{le(!1)}}}else L=d;return C.memoizedState=C.baseState=L,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:L},C.queue=h,h=h.dispatch=Ss.bind(null,In,h),[C.memoizedState,h]},useRef:function(h){var d=we();return h={current:h},d.memoizedState=h},useState:function(h){h=Rn(h);var d=h.queue,b=Rf.bind(null,In,d);return d.dispatch=b,[h.memoizedState,b]},useDebugValue:bl,useDeferredValue:function(h,d){var b=we();return cu(b,h,d)},useTransition:function(){var h=Rn(!1);return h=fu.bind(null,In,h.queue,!0,!1),we().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,d,b){var C=In,L=we();if(mi){if(b===void 0)throw Error(r(407));b=b()}else{if(b=d(),Yi===null)throw Error(r(349));(si&60)!==0||Gt(C,d,b)}L.memoizedState=b;var V={value:b,getSnapshot:d};return L.queue=V,Ph(ni.bind(null,C,V,h),[h]),C.flags|=2048,Fr(9,Nn.bind(null,C,V,b,d),{destroy:void 0},null),b},useId:function(){var h=we(),d=Yi.identifierPrefix;if(mi){var b=pc,C=dc;b=(C&~(1<<32-ta(C)-1)).toString(32)+b,d=":"+d+"R"+b,b=ih++,0<b&&(d+="H"+b.toString(32)),d+=":"}else b=tb++,d=":"+d+"r"+b.toString(32)+":";return h.memoizedState=d},useCacheRefresh:function(){return we().memoizedState=qu.bind(null,In)}};rf.useMemoCache=_t,rf.useHostTransitionStatus=Sl,rf.useFormState=Sr,rf.useActionState=Sr,rf.useOptimistic=function(h){var d=we();d.memoizedState=d.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=b,d=ks.bind(null,In,!0,b),b.dispatch=d,[h,d]};var $s={readContext:Mi,use:Ce,useCallback:oi,useContext:Mi,useEffect:Pc,useImperativeHandle:ju,useInsertionEffect:uo,useLayoutEffect:Cf,useMemo:Is,useReducer:Ft,useRef:ou,useState:function(){return Ft(Nt)},useDebugValue:bl,useDeferredValue:function(h,d){var b=Be();return _l(b,Si.memoizedState,h,d)},useTransition:function(){var h=Ft(Nt)[0],d=Be().memoizedState;return[typeof h=="boolean"?h:We(h),d]},useSyncExternalStore:fn,useId:zs};$s.useCacheRefresh=ha,$s.useMemoCache=_t,$s.useHostTransitionStatus=Sl,$s.useFormState=fa,$s.useActionState=fa,$s.useOptimistic=function(h,d){var b=Be();return Qt(b,Si,h,d)};var rh={readContext:Mi,use:Ce,useCallback:oi,useContext:Mi,useEffect:Pc,useImperativeHandle:ju,useInsertionEffect:uo,useLayoutEffect:Cf,useMemo:Is,useReducer:rn,useRef:ou,useState:function(){return rn(Nt)},useDebugValue:bl,useDeferredValue:function(h,d){var b=Be();return Si===null?cu(b,h,d):_l(b,Si.memoizedState,h,d)},useTransition:function(){var h=rn(Nt)[0],d=Be().memoizedState;return[typeof h=="boolean"?h:We(h),d]},useSyncExternalStore:fn,useId:zs};rh.useCacheRefresh=ha,rh.useMemoCache=_t,rh.useHostTransitionStatus=Sl,rh.useFormState=ss,rh.useActionState=ss,rh.useOptimistic=function(h,d){var b=Be();return Si!==null?Qt(b,Si,h,d):(b.baseState=h,[h,b.queue.dispatch])};var Jd={isMounted:function(h){return(h=h._reactInternals)?g(h)===h:!1},enqueueSetState:function(h,d,b){h=h._reactInternals;var C=Xr(),L=lt(C);L.payload=d,b!=null&&(L.callback=b),d=at(h,L,C),d!==null&&(Ai(d,h,C),sn(d,h,C))},enqueueReplaceState:function(h,d,b){h=h._reactInternals;var C=Xr(),L=lt(C);L.tag=1,L.payload=d,b!=null&&(L.callback=b),d=at(h,L,C),d!==null&&(Ai(d,h,C),sn(d,h,C))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var b=Xr(),C=lt(b);C.tag=2,d!=null&&(C.callback=d),d=at(h,C,b),d!==null&&(Ai(d,h,b),sn(d,h,b))}},ah=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Pv=Error(r(461)),Sa=!1,vm={dehydrated:null,treeContext:null,retryLane:0},Bl=M(null),sh=null,Fl=null,xm=typeof AbortController<"u"?AbortController:function(){var h=[],d=this.signal={aborted:!1,addEventListener:function(b,C){h.push(C)}};this.abort=function(){d.aborted=!0,h.forEach(function(b){return b()})}},zr=zi.unstable_scheduleCallback,sE=zi.unstable_NormalPriority,jr={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Lv=Kt.S;Kt.S=function(h,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Ie(h,d),Lv!==null&&Lv(h,d)};var Kh=M(null),af=!1,zn=!1,Wi=!1,ii=typeof WeakSet=="function"?WeakSet:Set,_n=null,er=!1,Ei=null,sa=!1,Ds=null,oh=8192,sf={getCacheForType:function(h){var d=Mi(jr),b=d.data.get(h);return b===void 0&&(b=h(),d.data.set(h,b)),b}},gr=0,Iu=1,gc=2,$d=3,eo=4;if(typeof Symbol=="function"&&Symbol.for){var yc=Symbol.for;gr=yc("selector.component"),Iu=yc("selector.has_pseudo_class"),gc=yc("selector.role"),$d=yc("selector.test_id"),eo=yc("selector.text")}var bm=typeof WeakMap=="function"?WeakMap:Map,ai=0,Yi=null,Jn=null,si=0,Fi=0,Ea=null,Hl=!1,Vl=!1,Qh=!1,zu=0,Dr=0,Gl=0,of=0,to=0,sl=0,Ta=0,ep=null,Xl=null,zg=!1,Nv=0,ol=1/0,Jh=null,vc=null,lf=!1,lh=null,tp=0,kg=0,_m=null,$h=0,Uv=null;return Mn.attemptContinuousHydration=function(h){if(h.tag===13){var d=Je(h,67108864);d!==null&&Ai(d,h,67108864),So(h,67108864)}},Mn.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=Xr(),b=Je(h,d);b!==null&&Ai(b,h,d),So(h,d)}},Mn.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var d=U(h.pendingLanes);if(d!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;d;){var b=1<<31-ta(d);h.entanglements[1]|=b,d&=~b}mt(h),(ai&6)===0&&(ol=il()+500,Rt(0))}}break;case 13:d=Je(h,2),d!==null&&Ai(d,h,2),Cl(),So(h,2)}},Mn.batchedUpdates=function(h,d){return h(d)},Mn.createComponentSelector=function(h){return{$$typeof:gr,value:h}},Mn.createContainer=function(h,d,b,C,L,V,re,Ee,He,st){return Za(h,d,!1,null,b,C,V,re,Ee,He,st,null)},Mn.createHasPseudoClassSelector=function(h){return{$$typeof:Iu,value:h}},Mn.createHydrationContainer=function(h,d,b,C,L,V,re,Ee,He,st,Pt,jt,Ot){return h=Za(b,C,!0,h,L,V,Ee,He,st,Pt,jt,Ot),h.context=Ts(null),b=h.current,C=Xr(),L=lt(C),L.callback=d??null,at(b,L,C),h.current.lanes=C,Z(h,C),mt(h),h},Mn.createPortal=function(h,d,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:C==null?null:""+C,children:h,containerInfo:d,implementation:b}},Mn.createRoleSelector=function(h){return{$$typeof:gc,value:h}},Mn.createTestNameSelector=function(h){return{$$typeof:$d,value:h}},Mn.createTextSelector=function(h){return{$$typeof:eo,value:h}},Mn.defaultOnCaughtError=function(h){console.error(h)},Mn.defaultOnRecoverableError=function(h){ah(h)},Mn.defaultOnUncaughtError=function(h){ah(h)},Mn.deferredUpdates=function(h){var d=Kt.T,b=wo();try{return $a(32),Kt.T=null,h()}finally{$a(b),Kt.T=d}},Mn.discreteUpdates=function(h,d,b,C,L){var V=Kt.T,re=wo();try{return $a(2),Kt.T=null,h(d,b,C,L)}finally{$a(re),Kt.T=V,ai===0&&(ol=il()+500)}},Mn.findAllNodes=Qo,Mn.findBoundingRects=function(h,d){if(!Pl)throw Error(r(363));d=Qo(h,d),h=[];for(var b=0;b<d.length;b++)h.push(zh(d[b]));for(d=h.length-1;0<d;d--){b=h[d];for(var C=b.x,L=C+b.width,V=b.y,re=V+b.height,Ee=d-1;0<=Ee;Ee--)if(d!==Ee){var He=h[Ee],st=He.x,Pt=st+He.width,jt=He.y,Ot=jt+He.height;if(C>=st&&V>=jt&&L<=Pt&&re<=Ot){h.splice(d,1);break}else if(C!==st||b.width!==He.width||Ot<V||jt>re){if(!(V!==jt||b.height!==He.height||Pt<C||st>L)){st>C&&(He.width+=st-C,He.x=C),Pt<L&&(He.width=L-st),h.splice(d,1);break}}else{jt>V&&(He.height+=jt-V,He.y=V),Ot<re&&(He.height=re-jt),h.splice(d,1);break}}}return h},Mn.findHostInstance=Jr,Mn.findHostInstanceWithNoPortals=function(h){return h=v(h),h=h!==null?D(h):null,h===null?null:_i(h.stateNode)},Mn.findHostInstanceWithWarning=function(h){return Jr(h)},Mn.flushPassiveEffects=Ws,Mn.flushSyncFromReconciler=function(h){var d=ai;ai|=1;var b=Kt.T,C=wo();try{if($a(2),Kt.T=null,h)return h()}finally{$a(C),Kt.T=b,ai=d,(ai&6)===0&&Rt(0)}},Mn.flushSyncWork=Cl,Mn.focusWithin=function(h,d){if(!Pl)throw Error(r(363));for(h=Lr(h),d=Al(h,d),d=Array.from(d),h=0;h<d.length;){var b=d[h++],C=b.tag;if(!za(b)){if((C===5||C===26||C===27)&&Hf(b.stateNode))return!0;for(b=b.child;b!==null;)d.push(b),b=b.sibling}}return!1},Mn.getFindAllNodesFailureDescription=function(h,d){if(!Pl)throw Error(r(363));var b=0,C=[];h=[Lr(h),0];for(var L=0;L<h.length;){var V=h[L++],re=V.tag,Ee=h[L++],He=d[Ee];if((re!==5&&re!==26&&re!==27||!za(V))&&(ic(V,He)&&(C.push(Gr(He)),Ee++,Ee>b&&(b=Ee)),Ee<d.length))for(V=V.child;V!==null;)h.push(V,Ee),V=V.sibling}if(b<d.length){for(h=[];b<d.length;b++)h.push(Gr(d[b]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},Mn.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return _i(h.child.stateNode);default:return h.child.stateNode}},Mn.injectIntoDevTools=function(){var h={bundleType:0,version:Mr,rendererPackageName:Ia,currentDispatcherRef:Kt,findFiberByHostInstance:sc,reconcilerVersion:"19.0.0"};if(Fn!==null&&(h.rendererConfig=Fn),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{jd=d.inject(h),_a=d}catch{}h=!!d.checkDCE}}return h},Mn.isAlreadyRendering=function(){return!1},Mn.observeVisibleRects=function(h,d,b,C){if(!Pl)throw Error(r(363));h=Qo(h,d);var L=Ll(h,b,C).disconnect;return{disconnect:function(){L()}}},Mn.shouldError=function(){return null},Mn.shouldSuspend=function(){return!1},Mn.startHostTransition=function(h,d,b,C){if(h.tag!==5)throw Error(r(476));var L=co(h).queue;fu(h,L,d,oc,b===null?i:function(){var V=co(h).next.queue;return fo(h,V,{},Xr()),b(C)})},Mn.updateContainer=function(h,d,b,C){var L=d.current,V=Xr();return ds(L,V,h,d,b,C),V},Mn.updateContainerSync=function(h,d,b,C){return d.tag===0&&Ws(),ds(d.current,2,h,d,b,C),2},Mn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(iw)),iw.exports}var $O;function N$(){return $O||($O=1,nw.exports=L$()),nw.exports}var U$=N$();const I$=dv(U$);var eP=cA();function JC(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=JC(i,e,t);if(r)return r;i=e?null:i.sibling}}function Mz(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const $C=Mz(oe.createContext(null));class Az extends oe.Component{render(){return oe.createElement($C.Provider,{value:this._reactInternals},this.props.children)}}function Cz(){const n=oe.useContext($C);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=oe.useId();return oe.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=JC(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const z$=Symbol.for("react.context"),k$=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===z$;function B$(){const n=Cz(),[e]=oe.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;k$(i)&&i!==$C&&!e.has(i)&&e.set(i,oe.use(Mz(i))),t=t.return}return e}function F$(){const n=B$();return oe.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>oe.createElement(e,null,oe.createElement(t.Provider,{...i,value:n.get(t)})),e=>oe.createElement(Az,{...e})),[n])}function Rz(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Dz=n=>n&&n.isOrthographicCamera,H$=n=>n&&n.hasOwnProperty("current"),V$=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Zx=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?oe.useLayoutEffect:oe.useEffect;function Oz(n){const e=oe.useRef(n);return Zx(()=>void(e.current=n),[n]),e}function G$(){const n=Cz(),e=F$();return oe.useMemo(()=>({children:t})=>{const r=!!JC(n,!0,a=>a.type===oe.StrictMode)?oe.StrictMode:oe.Fragment;return fe.jsx(r,{children:fe.jsx(e,{children:t})})},[n,e])}function X$({set:n}){return Zx(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const W$=(n=>(n=class extends oe.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function Pz(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function by(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const oa={obj:n=>n===Object(n)&&!oa.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(oa.str(n)||oa.num(n)||oa.boo(n))return n===e;const a=oa.obj(n);if(a&&i==="reference")return n===e;const s=oa.arr(n);if(s&&t==="reference")return n===e;if((s||a)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(l in r?e:n)if(!oa.equ(n[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:n)if(n[l]!==e[l])return!1;if(oa.und(l)){if(s&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Y$(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const Lz=["children","key","ref"];function j$(n){const e={};for(const t in n)Lz.includes(t)||(e[t]=n[t]);return e}function qS(n,e,t,i){const r=n;let a=r==null?void 0:r.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:j$(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function xx(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const tP=/-\d+$/;function ZS(n,e){if(oa.str(e.props.attach)){if(tP.test(e.props.attach)){const r=e.props.attach.replace(tP,""),{root:a,key:s}=xx(n.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:i}=xx(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else oa.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function KS(n,e){if(oa.str(e.props.attach)){const{root:t,key:i}=xx(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const YM=[...Lz,"args","dispose","attach","object","onUpdate","dispose"],nP=new Map;function q$(n){let e=nP.get(n.constructor);try{e||(e=new n.constructor,nP.set(n.constructor,e))}catch{}return e}function Z$(n,e){const t={};for(const i in e)if(!YM.includes(i)&&!oa.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(YM.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=xx(n.object,i);if(r.constructor&&r.constructor.length===0){const s=q$(r);oa.und(s)||(t[a]=s[a])}else t[a]=0}return t}const K$=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Q$=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Tp(n,e){var t;const i=n.__r3f,r=i&&Rz(i).getState(),a=i==null?void 0:i.eventCount;for(const l in e){let c=e[l];if(YM.includes(l))continue;if(i&&Q$.test(l)){typeof c=="function"?i.handlers[l]=c:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(c===void 0)continue;let{root:f,key:p,target:g}=xx(n,l);if(g instanceof ov&&c instanceof ov)g.mask=c.mask;else if(g instanceof tn&&V$(c))g.set(c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&c!=null&&c.constructor&&g.constructor===c.constructor)g.copy(c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(c))typeof g.fromArray=="function"?g.fromArray(c):g.set(...c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof c=="number")typeof g.setScalar=="function"?g.setScalar(c):g.set(c);else{var s;f[p]=c,r&&!r.linear&&K$.includes(p)&&(s=f[p])!=null&&s.isTexture&&f[p].format===Io&&f[p].type===Rc&&(f[p].colorSpace=Uo)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const l=i.object,c=r.internal.interaction.indexOf(l);c>-1&&r.internal.interaction.splice(c,1),i.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Av(i),n}function Av(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function J$(n,e){n.manual||(Dz(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Ql=n=>n==null?void 0:n.isObject3D;function E_(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Nz(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function $$(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{Nz(t.capturedMap,e,i,r)})}function eee(n){function e(c){const{internal:f}=n.getState(),p=c.offsetX-f.initialClick[0],g=c.offsetY-f.initialClick[1];return Math.round(Math.sqrt(p*p+g*g))}function t(c){return c.filter(f=>["Move","Over","Enter","Out","Leave"].some(p=>{var g;return(g=f.__r3f)==null?void 0:g.handlers["onPointer"+p]}))}function i(c,f){const p=n.getState(),g=new Set,y=[],v=f?f(p.internal.interaction):p.internal.interaction;for(let S=0;S<v.length;S++){const N=by(v[S]);N&&(N.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(c,p);function _(S){const N=by(S);if(!N||!N.events.enabled||N.raycaster.camera===null)return[];if(N.raycaster.camera===void 0){var P;N.events.compute==null||N.events.compute(c,N,(P=N.previousRoot)==null?void 0:P.getState()),N.raycaster.camera===void 0&&(N.raycaster.camera=null)}return N.raycaster.camera?N.raycaster.intersectObject(S,!0):[]}let D=v.flatMap(_).sort((S,N)=>{const P=by(S.object),U=by(N.object);return!P||!U?S.distance-N.distance:U.events.priority-P.events.priority||S.distance-N.distance}).filter(S=>{const N=E_(S);return g.has(N)?!1:(g.add(N),!0)});p.events.filter&&(D=p.events.filter(D,p));for(const S of D){let N=S.object;for(;N;){var M;(M=N.__r3f)!=null&&M.eventCount&&y.push({...S,eventObject:N}),N=N.parent}}if("pointerId"in c&&p.internal.capturedMap.has(c.pointerId))for(let S of p.internal.capturedMap.get(c.pointerId).values())g.has(E_(S.intersection))||y.push(S.intersection);return y}function r(c,f,p,g){if(c.length){const y={stopped:!1};for(const v of c){let _=by(v.object);if(_||v.object.traverseAncestors(D=>{const M=by(D);if(M)return _=M,!1}),_){const{raycaster:D,pointer:M,camera:S,internal:N}=_,P=new de(M.x,M.y,0).unproject(S),U=B=>{var I,Z;return(I=(Z=N.capturedMap.get(B))==null?void 0:Z.has(v.eventObject))!=null?I:!1},X=B=>{const I={intersection:v,target:f.target};N.capturedMap.has(B)?N.capturedMap.get(B).set(v.eventObject,I):N.capturedMap.set(B,new Map([[v.eventObject,I]])),f.target.setPointerCapture(B)},H=B=>{const I=N.capturedMap.get(B);I&&Nz(N.capturedMap,v.eventObject,I,B)};let G={};for(let B in f){let I=f[B];typeof I!="function"&&(G[B]=I)}let W={...v,...G,pointer:M,intersections:c,stopped:y.stopped,delta:p,unprojectedPoint:P,ray:D.ray,camera:S,stopPropagation(){const B="pointerId"in f&&N.capturedMap.get(f.pointerId);if((!B||B.has(v.eventObject))&&(W.stopped=y.stopped=!0,N.hovered.size&&Array.from(N.hovered.values()).find(I=>I.eventObject===v.eventObject))){const I=c.slice(0,c.indexOf(v));a([...I,v])}},target:{hasPointerCapture:U,setPointerCapture:X,releasePointerCapture:H},currentTarget:{hasPointerCapture:U,setPointerCapture:X,releasePointerCapture:H},nativeEvent:f};if(g(W),y.stopped===!0)break}}}return c}function a(c){const{internal:f}=n.getState();for(const p of f.hovered.values())if(!c.length||!c.find(g=>g.object===p.object&&g.index===p.index&&g.instanceId===p.instanceId)){const y=p.eventObject.__r3f;if(f.hovered.delete(E_(p)),y!=null&&y.eventCount){const v=y.handlers,_={...p,intersections:c};v.onPointerOut==null||v.onPointerOut(_),v.onPointerLeave==null||v.onPointerLeave(_)}}}function s(c,f){for(let p=0;p<f.length;p++){const g=f[p].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return f=>{const{internal:p}=n.getState();"pointerId"in f&&p.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(f.pointerId)&&(p.capturedMap.delete(f.pointerId),a([]))})}}return function(p){const{onPointerMissed:g,internal:y}=n.getState();y.lastEvent.current=p;const v=c==="onPointerMove",_=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",M=i(p,v?t:void 0),S=_?e(p):0;c==="onPointerDown"&&(y.initialClick=[p.offsetX,p.offsetY],y.initialHits=M.map(P=>P.eventObject)),_&&!M.length&&S<=2&&(s(p,y.interaction),g&&g(p)),v&&a(M);function N(P){const U=P.eventObject,X=U.__r3f;if(!(X!=null&&X.eventCount))return;const H=X.handlers;if(v){if(H.onPointerOver||H.onPointerEnter||H.onPointerOut||H.onPointerLeave){const G=E_(P),W=y.hovered.get(G);W?W.stopped&&P.stopPropagation():(y.hovered.set(G,P),H.onPointerOver==null||H.onPointerOver(P),H.onPointerEnter==null||H.onPointerEnter(P))}H.onPointerMove==null||H.onPointerMove(P)}else{const G=H[c];G?(!_||y.initialHits.includes(U))&&(s(p,y.interaction.filter(W=>!y.initialHits.includes(W))),G(P)):_&&y.initialHits.includes(U)&&s(p,y.interaction.filter(W=>!y.initialHits.includes(W)))}}r(M,p,S,N)}}return{handlePointer:l}}const iP=n=>!!(n!=null&&n.render),Uz=oe.createContext(null),tee=(n,e)=>{const t=P$((l,c)=>{const f=new de,p=new de,g=new de;function y(S=c().camera,N=p,P=c().size){const{width:U,height:X,top:H,left:G}=P,W=U/X;N.isVector3?g.copy(N):g.set(...N);const B=S.getWorldPosition(f).distanceTo(g);if(Dz(S))return{width:U/S.zoom,height:X/S.zoom,top:H,left:G,factor:1,distance:B,aspect:W};{const I=S.fov*Math.PI/180,Z=2*Math.tan(I/2)*B,ae=Z*(U/X);return{width:ae,height:Z,top:H,left:G,factor:U/ae,distance:B,aspect:W}}}let v;const _=S=>l(N=>({performance:{...N.performance,current:S}})),D=new xt;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(c(),S),advance:(S,N)=>e(S,N,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new YC,pointer:D,mouse:D,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=c();v&&clearTimeout(v),S.performance.current!==S.performance.min&&_(S.performance.min),v=setTimeout(()=>_(c().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:S=>l(N=>({...N,events:{...N.events,...S}})),setSize:(S,N,P=0,U=0)=>{const X=c().camera,H={width:S,height:N,top:P,left:U};l(G=>({size:H,viewport:{...G.viewport,...y(X,p,H)}}))},setDpr:S=>l(N=>{const P=Pz(S);return{viewport:{...N.viewport,dpr:P,initialDpr:N.viewport.initialDpr||P}}}),setFrameloop:(S="always")=>{const N=c().clock;N.stop(),N.elapsedTime=0,S!=="never"&&(N.start(),N.elapsedTime=0),l(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:oe.createRef(),active:!1,frames:0,priority:0,subscribe:(S,N,P)=>{const U=c().internal;return U.priority=U.priority+(N>0?1:0),U.subscribers.push({ref:S,priority:N,store:P}),U.subscribers=U.subscribers.sort((X,H)=>X.priority-H.priority),()=>{const X=c().internal;X!=null&&X.subscribers&&(X.priority=X.priority-(N>0?1:0),X.subscribers=X.subscribers.filter(H=>H.ref!==S))}}}}}),i=t.getState();let r=i.size,a=i.viewport.dpr,s=i.camera;return t.subscribe(()=>{const{camera:l,size:c,viewport:f,gl:p,set:g}=t.getState();if(c.width!==r.width||c.height!==r.height||f.dpr!==a){r=c,a=f.dpr,J$(l,c),f.dpr>0&&p.setPixelRatio(f.dpr);const y=typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(c.width,c.height,y)}l!==s&&(s=l,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>n(l)),t};function nee(){const n=oe.useContext(Uz);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function iee(n,e=0){const t=nee(),i=t.getState().internal.subscribe,r=Oz(n);return Zx(()=>i(r,e,t),[e,i,t]),null}function ree(n){const e=I$(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:oe.version}),e}const Iz=0,fv={},aee=/^three(?=[A-Z])/,$1=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let see=0;const oee=n=>typeof n=="function";function lee(n){if(oee(n)){const e=`${see++}`;return fv[e]=n,e}else Object.assign(fv,n)}function zz(n,e){const t=$1(n),i=fv[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function uee(n,e,t){var i;return n=$1(n)in fv?n:n.replace(aee,""),zz(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,qS(e.object,t,n,e)}function cee(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?KS(n.parent,n):Ql(n.object)&&(n.object.visible=!1),n.isHidden=!0,Av(n)}}function kz(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?ZS(n.parent,n):Ql(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Av(n)}}function e2(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,a;const s=fv[$1(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Tp(e.object,e.props),e.props.attach)ZS(n,e);else if(Ql(e.object)&&Ql(n.object)){const s=n.object.children.indexOf(t==null?void 0:t.object);if(t&&s!==-1){const l=n.object.children.indexOf(e.object);if(l!==-1){n.object.children.splice(l,1);const c=l<s?s-1:s;n.object.children.splice(c,0,e.object)}else e.object.parent=n.object,n.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const s of e.children)e2(e,s);Av(e)}}function rw(n,e){e&&(e.parent=n,n.children.push(e),e2(n,e))}function rP(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),e2(n,e,t)}function Bz(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():eP.unstable_scheduleCallback(eP.unstable_IdlePriority,e)}}function jM(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?KS(n,e):Ql(e.object)&&Ql(n.object)&&(n.object.remove(e.object),$$(Rz(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];jM(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&Bz(e.object),t===void 0&&Av(e)}function fee(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const H_=[];function hee(){for(const[t]of H_){const i=t.parent;if(i){t.props.attach?KS(i,t):Ql(t.object)&&Ql(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?KS(t,r):Ql(r.object)&&Ql(t.object)&&t.object.remove(r.object)}t.isHidden&&kz(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&Bz(t.object)}for(const[t,i,r]of H_){t.props=i;const a=t.parent;if(a){var n,e;const s=fv[$1(t.type)];t.object=(n=t.props.object)!=null?n:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,fee(r,t.object),Tp(t.object,t.props),t.props.attach?ZS(a,t):Ql(t.object)&&Ql(a.object)&&a.object.add(t.object);for(const l of t.children)l.props.attach?ZS(t,l):Ql(l.object)&&Ql(t.object)&&t.object.add(l.object);Av(t)}}H_.length=0}const aw=()=>{},aP={};let T_=Iz;const dee=0,pee=4,qM=ree({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:uee,removeChild:jM,appendChild:rw,appendInitialChild:rw,insertBefore:rP,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||rw(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||jM(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||rP(i,e,t)},getRootHostContext:()=>aP,getChildHostContext:()=>aP,commitUpdate(n,e,t,i,r){var a,s,l;zz(e,i);let c=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(l=i.args)!=null&&l.some((p,g)=>{var y;return p!==((y=t.args)==null?void 0:y[g])}))&&(c=!0),c)H_.push([n,{...i},r]);else{const p=Z$(n,i);Object.keys(p).length&&(Object.assign(n.props,p),Tp(n.object,p))}(r.sibling===null||(r.flags&pee)===dee)&&hee()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>qS(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:cee,unhideInstance:kz,createTextInstance:aw,hideTextInstance:aw,unhideTextInstance:aw,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:oe.createContext(null),setCurrentUpdatePriority(n){T_=n},getCurrentUpdatePriority(){return T_},resolveUpdatePriority(){var n;if(T_!==Iz)return T_;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return z_.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return z_.ContinuousEventPriority;default:return z_.DefaultEventPriority}},resetFormInstance(){}}),bg=new Map,_y={objects:"shallow",strict:!1};function mee(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function gee(n){const e=bg.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||tee(QM,oP),s=t||qM.createContainer(a,z_.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||bg.set(n,{fiber:s,store:a});let l,c,f=!1,p=null;return{async configure(g={}){let y;p=new Promise(J=>y=J);let{gl:v,size:_,scene:D,events:M,onCreated:S,shadows:N=!1,linear:P=!1,flat:U=!1,legacy:X=!1,orthographic:H=!1,frameloop:G="always",dpr:W=[1,2],performance:B,raycaster:I,camera:Z,onPointerMissed:ae}=g,se=a.getState(),ge=se.gl;if(!se.gl){const J={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Le=typeof v=="function"?await v(J):v;iP(Le)?ge=Le:ge=new wz({...J,...v}),se.set({gl:ge})}let xe=se.raycaster;xe||se.set({raycaster:xe=new gz});const{params:ee,...le}=I||{};if(oa.equ(le,xe,_y)||Tp(xe,{...le}),oa.equ(ee,xe.params,_y)||Tp(xe,{params:{...xe.params,...ee}}),!se.camera||se.camera===c&&!oa.equ(c,Z,_y)){c=Z;const J=Z==null?void 0:Z.isCamera,Le=J?Z:H?new qx(0,0,0,0,.1,1e3):new Us(75,0,.1,1e3);J||(Le.position.z=5,Z&&(Tp(Le,Z),Le.manual||("aspect"in Z||"left"in Z||"right"in Z||"bottom"in Z||"top"in Z)&&(Le.manual=!0,Le.updateProjectionMatrix())),!se.camera&&!(Z!=null&&Z.rotation)&&Le.lookAt(0,0,0)),se.set({camera:Le}),xe.camera=Le}if(!se.scene){let J;D!=null&&D.isScene?(J=D,qS(J,a,"",{})):(J=new wC,qS(J,a,"",{}),D&&Tp(J,D)),se.set({scene:J})}M&&!se.events.handlers&&se.set({events:M(a)});const ve=mee(n,_);if(oa.equ(ve,se.size,_y)||se.setSize(ve.width,ve.height,ve.top,ve.left),W&&se.viewport.dpr!==Pz(W)&&se.setDpr(W),se.frameloop!==G&&se.setFrameloop(G),se.onPointerMissed||se.set({onPointerMissed:ae}),B&&!oa.equ(B,se.performance,_y)&&se.set(J=>({performance:{...J.performance,...B}})),!se.xr){var pe;const J=(Oe,tt)=>{const Te=a.getState();Te.frameloop!=="never"&&oP(Oe,!0,Te,tt)},Le=()=>{const Oe=a.getState();Oe.gl.xr.enabled=Oe.gl.xr.isPresenting,Oe.gl.xr.setAnimationLoop(Oe.gl.xr.isPresenting?J:null),Oe.gl.xr.isPresenting||QM(Oe)},te={connect(){const Oe=a.getState().gl;Oe.xr.addEventListener("sessionstart",Le),Oe.xr.addEventListener("sessionend",Le)},disconnect(){const Oe=a.getState().gl;Oe.xr.removeEventListener("sessionstart",Le),Oe.xr.removeEventListener("sessionend",Le)}};typeof((pe=ge.xr)==null?void 0:pe.addEventListener)=="function"&&te.connect(),se.set({xr:te})}if(ge.shadowMap){const J=ge.shadowMap.enabled,Le=ge.shadowMap.type;if(ge.shadowMap.enabled=!!N,oa.boo(N))ge.shadowMap.type=P0;else if(oa.str(N)){var F;const te={basic:MI,percentage:b1,soft:P0,variance:mf};ge.shadowMap.type=(F=te[N])!=null?F:P0}else oa.obj(N)&&Object.assign(ge.shadowMap,N);(J!==ge.shadowMap.enabled||Le!==ge.shadowMap.type)&&(ge.shadowMap.needsUpdate=!0)}return xi.enabled=!X,f||(ge.outputColorSpace=P?Bp:Uo,ge.toneMapping=U?Eh:cC),se.legacy!==X&&se.set(()=>({legacy:X})),se.linear!==P&&se.set(()=>({linear:P})),se.flat!==U&&se.set(()=>({flat:U})),v&&!oa.fun(v)&&!iP(v)&&!oa.equ(v,ge,_y)&&Tp(ge,v),l=S,f=!0,y(),this},render(g){return!f&&!p&&this.configure(),p.then(()=>{qM.updateContainer(fe.jsx(yee,{store:a,children:g,onCreated:l,rootElement:n}),s,null,()=>{})}),a},unmount(){Fz(n)}}}function yee({store:n,children:e,onCreated:t,rootElement:i}){return Zx(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),fe.jsx(Uz.Provider,{value:n,children:e})}function Fz(n,e){const t=bg.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),qM.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,s,l,c;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),Y$(r.scene),bg.delete(n)}catch{}},500)})}}const vee=new Set,xee=new Set,bee=new Set;function sw(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function H0(n,e){switch(n){case"before":return sw(vee,e);case"after":return sw(xee,e);case"tail":return sw(bee,e)}}let ow,lw;function ZM(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),ow=e.internal.subscribers;for(let r=0;r<ow.length;r++)lw=ow[r],lw.ref.current(lw.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let QS=!1,KM=!1,uw,sP,Sy;function Hz(n){sP=requestAnimationFrame(Hz),QS=!0,uw=0,H0("before",n),KM=!0;for(const t of bg.values()){var e;Sy=t.store.getState(),Sy.internal.active&&(Sy.frameloop==="always"||Sy.internal.frames>0)&&!((e=Sy.gl.xr)!=null&&e.isPresenting)&&(uw+=ZM(n,Sy))}if(KM=!1,H0("after",n),uw===0)return H0("tail",n),QS=!1,cancelAnimationFrame(sP)}function QM(n,e=1){var t;if(!n)return bg.forEach(i=>QM(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):KM?n.internal.frames=2:n.internal.frames=1,QS||(QS=!0,requestAnimationFrame(Hz)))}function oP(n,e=!0,t,i){if(e&&H0("before",n),t)ZM(n,t,i);else for(const r of bg.values())ZM(n,r.store.getState());e&&H0("after",n)}const cw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function _ee(n){const{handlePointer:e}=eee(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(cw).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[l,c]=cw[a];t.addEventListener(l,s,{passive:c})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[s]=cw[r];i.connected.removeEventListener(s,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function lP(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function See({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=oe.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=oe.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),c=n?typeof n=="number"?n:n.scroll:null,f=n?typeof n=="number"?n:n.resize:null,p=oe.useRef(!1);oe.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[g,y,v]=oe.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:N,top:P,width:U,height:X,bottom:H,right:G,x:W,y:B}=l.current.element.getBoundingClientRect(),I={left:N,top:P,width:U,height:X,bottom:H,right:G,x:W,y:B};l.current.element instanceof HTMLElement&&i&&(I.height=l.current.element.offsetHeight,I.width=l.current.element.offsetWidth),Object.freeze(I),p.current&&!Mee(l.current.lastBounds,I)&&s(l.current.lastBounds=I)};return[S,f?lP(S,f):S,c?lP(S,c):S]},[s,i,c,f]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function D(){l.current.element&&(l.current.resizeObserver=new r(v),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",v,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const M=S=>{!S||S===l.current.element||(_(),l.current.element=S,l.current.scrollContainers=Vz(S),D())};return Tee(v,!!e),Eee(y),oe.useEffect(()=>{_(),D()},[e,v,y]),oe.useEffect(()=>_,[]),[M,a,g]}function Eee(n){oe.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Tee(n,e){oe.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Vz(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...Vz(n.parentElement)]}const wee=["x","y","top","bottom","left","right","width","height"],Mee=(n,e)=>wee.every(t=>n[t]===e[t]);function Aee({ref:n,children:e,fallback:t,resize:i,style:r,gl:a,events:s=_ee,eventSource:l,eventPrefix:c,shadows:f,linear:p,flat:g,legacy:y,orthographic:v,frameloop:_,dpr:D,performance:M,raycaster:S,camera:N,scene:P,onPointerMissed:U,onCreated:X,...H}){oe.useMemo(()=>lee(_$),[]);const G=G$(),[W,B]=See({scroll:!0,debounce:{scroll:50,resize:0},...i}),I=oe.useRef(null),Z=oe.useRef(null);oe.useImperativeHandle(n,()=>I.current);const ae=Oz(U),[se,ge]=oe.useState(!1),[xe,ee]=oe.useState(!1);if(se)throw se;if(xe)throw xe;const le=oe.useRef(null);Zx(()=>{const pe=I.current;if(B.width>0&&B.height>0&&pe){le.current||(le.current=gee(pe));async function F(){await le.current.configure({gl:a,scene:P,events:s,shadows:f,linear:p,flat:g,legacy:y,orthographic:v,frameloop:_,dpr:D,performance:M,raycaster:S,camera:N,size:B,onPointerMissed:(...J)=>ae.current==null?void 0:ae.current(...J),onCreated:J=>{J.events.connect==null||J.events.connect(l?H$(l)?l.current:l:Z.current),c&&J.setEvents({compute:(Le,te)=>{const Oe=Le[c+"X"],tt=Le[c+"Y"];te.pointer.set(Oe/te.size.width*2-1,-(tt/te.size.height)*2+1),te.raycaster.setFromCamera(te.pointer,te.camera)}}),X==null||X(J)}}),le.current.render(fe.jsx(G,{children:fe.jsx(W$,{set:ee,children:fe.jsx(oe.Suspense,{fallback:fe.jsx(X$,{set:ge}),children:e??null})})}))}F()}}),oe.useEffect(()=>{const pe=I.current;if(pe)return()=>Fz(pe)},[]);const ve=l?"none":"auto";return fe.jsx("div",{ref:Z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ve,...r},...H,children:fe.jsx("div",{ref:W,style:{width:"100%",height:"100%"},children:fe.jsx("canvas",{ref:I,style:{display:"block"},children:t})})})}function Cee(n){return fe.jsx(Az,{children:fe.jsx(Aee,{...n})})}const Ree=()=>parseInt(kx.replace(/\D+/g,"")),Dee=Ree();class Oee extends Dc{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${Dee>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Pee=n=>new de().setFromSpherical(new yz(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Lee=oe.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:i=0,factor:r=4,fade:a=!1,speed:s=1},l)=>{const c=oe.useRef(null),[f,p,g]=oe.useMemo(()=>{const v=[],_=[],D=Array.from({length:t},()=>(.5+.5*Math.random())*r),M=new tn;let S=n+e;const N=e/t;for(let P=0;P<t;P++)S-=N*Math.random(),v.push(...Pee(S).toArray()),M.setHSL(P/t,i,.9),_.push(M.r,M.g,M.b);return[new Float32Array(v),new Float32Array(_),new Float32Array(D)]},[t,e,r,n,i]);iee(v=>c.current&&(c.current.uniforms.time.value=v.clock.elapsedTime*s));const[y]=oe.useState(()=>new Oee);return oe.createElement("points",{ref:l},oe.createElement("bufferGeometry",null,oe.createElement("bufferAttribute",{attach:"attributes-position",args:[f,3]}),oe.createElement("bufferAttribute",{attach:"attributes-color",args:[p,3]}),oe.createElement("bufferAttribute",{attach:"attributes-size",args:[g,1]})),oe.createElement("primitive",{ref:c,object:y,attach:"material",blending:aS,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),Nee=({name:n="Ryan",text:e="Welcome to my digital playground"})=>{const{backgroundImage:t,heroBottomShadow:i,boxShadow:r,border:a,backgroundColor:s,hoverShadow:l}=$X(),c=gg.create(Vu);return fe.jsxs(gg.section,{style:{backgroundImage:t,boxShadow:i},className:"mt-[calc(80px+80px)] relative  md:mt-20 text-center  py-20 px-4 bg-gray-900 text-white transition-colors duration-300",children:[fe.jsxs("h2",{className:"text-5xl mb-6",children:["Hey, I'm ",n," "]}),fe.jsx("p",{className:"text-3xl text-gray-300 max-w-2xl mx-auto mb-8",children:e}),fe.jsxs("div",{className:"flex justify-center gap-4",children:[fe.jsx(c,{to:"/projects",style:{border:a,boxShadow:r,backgroundColor:s},whileHover:{boxShadow:l.get(),filter:"blur(1px) brightness(1.2)"},transition:{duration:.4,ease:"easeOut"},className:"  z-10 text-white px-6 py-2 rounded  transition",children:"View Projects"}),fe.jsx(c,{style:{border:a,boxShadow:r},to:"/contact",whileHover:{boxShadow:l.get(),filter:"blur(1px) brightness(1.2)"},transition:{duration:.4,ease:"easeOut"},className:" z-10 px-6 py-2 rounded hover:text-white transition",children:"Contact Me"})]}),fe.jsx("div",{className:"absolute inset-0 z-0 h-full w-full overflow-hidden",children:fe.jsxs(Cee,{className:"h-full w-full",children:[fe.jsx("ambientLight",{intensity:.5}),fe.jsx("pointLight",{position:[10,10,10]}),fe.jsx(Lee,{radius:100,depth:500,count:2500,factor:4,saturation:0,fade:!0,speed:1})]})})]})};function Uee(){return fe.jsxs(fe.Fragment,{children:[fe.jsx(Nee,{}),fe.jsx("section",{className:"max-w-[1300px] mt-[calc(80px+80px)] md:mt-20 mx-auto px-6 my-8",children:fe.jsx(mA,{})})]})}function Iee(){return fe.jsx("div",{children:fe.jsx("section",{className:"max-w-[1300px] mt-[calc(80px+80px)] md:mt-30 mx-auto px-6 my-8",children:fe.jsx(mA,{})})})}var Fm={},l0={};/**
 * @license React
 * react-dom-server-legacy.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP;function zee(){if(uP)return l0;uP=1;var n=Mh(),e=fA();function t(T){var R="https://react.dev/errors/"+T;if(1<arguments.length){R+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)R+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+T+"; visit "+R+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.scope"),S=Symbol.for("react.debug_trace_mode"),N=Symbol.for("react.offscreen"),P=Symbol.for("react.legacy_hidden"),U=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator,H=Array.isArray;function G(T,R){var k=T.length&3,j=T.length-k,K=R;for(R=0;R<j;){var ce=T.charCodeAt(R)&255|(T.charCodeAt(++R)&255)<<8|(T.charCodeAt(++R)&255)<<16|(T.charCodeAt(++R)&255)<<24;++R,ce=3432918353*(ce&65535)+((3432918353*(ce>>>16)&65535)<<16)&4294967295,ce=ce<<15|ce>>>17,ce=461845907*(ce&65535)+((461845907*(ce>>>16)&65535)<<16)&4294967295,K^=ce,K=K<<13|K>>>19,K=5*(K&65535)+((5*(K>>>16)&65535)<<16)&4294967295,K=(K&65535)+27492+(((K>>>16)+58964&65535)<<16)}switch(ce=0,k){case 3:ce^=(T.charCodeAt(R+2)&255)<<16;case 2:ce^=(T.charCodeAt(R+1)&255)<<8;case 1:ce^=T.charCodeAt(R)&255,ce=3432918353*(ce&65535)+((3432918353*(ce>>>16)&65535)<<16)&4294967295,ce=ce<<15|ce>>>17,K^=461845907*(ce&65535)+((461845907*(ce>>>16)&65535)<<16)&4294967295}return K^=T.length,K^=K>>>16,K=2246822507*(K&65535)+((2246822507*(K>>>16)&65535)<<16)&4294967295,K^=K>>>13,K=3266489909*(K&65535)+((3266489909*(K>>>16)&65535)<<16)&4294967295,(K^K>>>16)>>>0}var W=Object.assign,B=Object.prototype.hasOwnProperty,I=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Z={},ae={};function se(T){return B.call(ae,T)?!0:B.call(Z,T)?!1:I.test(T)?ae[T]=!0:(Z[T]=!0,!1)}var ge=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),xe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ee=/["'&<>]/;function le(T){if(typeof T=="boolean"||typeof T=="number"||typeof T=="bigint")return""+T;T=""+T;var R=ee.exec(T);if(R){var k="",j,K=0;for(j=R.index;j<T.length;j++){switch(T.charCodeAt(j)){case 34:R="&quot;";break;case 38:R="&amp;";break;case 39:R="&#x27;";break;case 60:R="&lt;";break;case 62:R="&gt;";break;default:continue}K!==j&&(k+=T.slice(K,j)),K=j+1,k+=R}T=K!==j?k+T.slice(K,j):k}return T}var ve=/([A-Z])/g,pe=/^ms-/,F=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function J(T){return F.test(""+T)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":T}var Le=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},tt=te.d;te.d={f:tt.f,r:tt.r,D:Oa,C:Br,L:Mf,m:Yu,X:lo,S:Af,M:su};var Te=[],je=/(<\/|<)(s)(cript)/gi;function $e(T,R,k,j){return""+R+(k==="s"?"\\u0073":"\\u0053")+j}function St(T,R,k,j,K){return{idPrefix:T===void 0?"":T,nextFormID:0,streamingFormat:0,bootstrapScriptContent:k,bootstrapScripts:j,bootstrapModules:K,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function ut(T,R,k){return{insertionMode:T,selectedValue:R,tagScope:k}}function Yt(T,R,k){switch(R){case"noscript":return ut(2,null,T.tagScope|1);case"select":return ut(2,k.value!=null?k.value:k.defaultValue,T.tagScope);case"svg":return ut(3,null,T.tagScope);case"picture":return ut(2,null,T.tagScope|2);case"math":return ut(4,null,T.tagScope);case"foreignObject":return ut(2,null,T.tagScope);case"table":return ut(5,null,T.tagScope);case"thead":case"tbody":case"tfoot":return ut(6,null,T.tagScope);case"colgroup":return ut(8,null,T.tagScope);case"tr":return ut(7,null,T.tagScope)}return 5<=T.insertionMode?ut(2,null,T.tagScope):T.insertionMode===0?ut(R==="html"?1:2,null,T.tagScope):T.insertionMode===1?ut(2,null,T.tagScope):T}var kt=new Map;function ye(T,R){if(typeof R!="object")throw Error(t(62));var k=!0,j;for(j in R)if(B.call(R,j)){var K=R[j];if(K!=null&&typeof K!="boolean"&&K!==""){if(j.indexOf("--")===0){var ce=le(j);K=le((""+K).trim())}else ce=kt.get(j),ce===void 0&&(ce=le(j.replace(ve,"-$1").toLowerCase().replace(pe,"-ms-")),kt.set(j,ce)),K=typeof K=="number"?K===0||ge.has(j)?""+K:K+"px":le((""+K).trim());k?(k=!1,T.push(' style="',ce,":",K)):T.push(";",ce,":",K)}}k||T.push('"')}function ct(T,R,k){k&&typeof k!="function"&&typeof k!="symbol"&&T.push(" ",R,'=""')}function Qe(T,R,k){typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&T.push(" ",R,'="',le(k),'"')}var et=le("javascript:throw new Error('React form unexpectedly submitted.')");function Je(T,R){this.push('<input type="hidden"'),Ct(T),Qe(this,"name",R),Qe(this,"value",T),this.push("/>")}function Ct(T){if(typeof T!="string")throw Error(t(480))}function yt(T,R){if(typeof R.$$FORM_ACTION=="function"){var k=T.nextFormID++;T=T.idPrefix+k;try{var j=R.$$FORM_ACTION(T);if(j){var K=j.data;K!=null&&K.forEach(Ct)}return j}catch(ce){if(typeof ce=="object"&&ce!==null&&typeof ce.then=="function")throw ce}}return null}function mt(T,R,k,j,K,ce,Se,Ve){var Ge=null;if(typeof j=="function"){var ht=yt(R,j);ht!==null?(Ve=ht.name,j=ht.action||"",K=ht.encType,ce=ht.method,Se=ht.target,Ge=ht.data):(T.push(" ","formAction",'="',et,'"'),Se=ce=K=j=Ve=null,$(R,k))}return Ve!=null&&Rt(T,"name",Ve),j!=null&&Rt(T,"formAction",j),K!=null&&Rt(T,"formEncType",K),ce!=null&&Rt(T,"formMethod",ce),Se!=null&&Rt(T,"formTarget",Se),Ge}function Rt(T,R,k){switch(R){case"className":Qe(T,"class",k);break;case"tabIndex":Qe(T,"tabindex",k);break;case"dir":case"role":case"viewBox":case"width":case"height":Qe(T,R,k);break;case"style":ye(T,k);break;case"src":case"href":if(k==="")break;case"action":case"formAction":if(k==null||typeof k=="function"||typeof k=="symbol"||typeof k=="boolean")break;k=J(""+k),T.push(" ",R,'="',le(k),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":ct(T,R.toLowerCase(),k);break;case"xlinkHref":if(typeof k=="function"||typeof k=="symbol"||typeof k=="boolean")break;k=J(""+k),T.push(" ","xlink:href",'="',le(k),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof k!="function"&&typeof k!="symbol"&&T.push(" ",R,'="',le(k),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":k&&typeof k!="function"&&typeof k!="symbol"&&T.push(" ",R,'=""');break;case"capture":case"download":k===!0?T.push(" ",R,'=""'):k!==!1&&typeof k!="function"&&typeof k!="symbol"&&T.push(" ",R,'="',le(k),'"');break;case"cols":case"rows":case"size":case"span":typeof k!="function"&&typeof k!="symbol"&&!isNaN(k)&&1<=k&&T.push(" ",R,'="',le(k),'"');break;case"rowSpan":case"start":typeof k=="function"||typeof k=="symbol"||isNaN(k)||T.push(" ",R,'="',le(k),'"');break;case"xlinkActuate":Qe(T,"xlink:actuate",k);break;case"xlinkArcrole":Qe(T,"xlink:arcrole",k);break;case"xlinkRole":Qe(T,"xlink:role",k);break;case"xlinkShow":Qe(T,"xlink:show",k);break;case"xlinkTitle":Qe(T,"xlink:title",k);break;case"xlinkType":Qe(T,"xlink:type",k);break;case"xmlBase":Qe(T,"xml:base",k);break;case"xmlLang":Qe(T,"xml:lang",k);break;case"xmlSpace":Qe(T,"xml:space",k);break;default:if((!(2<R.length)||R[0]!=="o"&&R[0]!=="O"||R[1]!=="n"&&R[1]!=="N")&&(R=xe.get(R)||R,se(R))){switch(typeof k){case"function":case"symbol":return;case"boolean":var j=R.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-")return}T.push(" ",R,'="',le(k),'"')}}}function on(T,R,k){if(R!=null){if(k!=null)throw Error(t(60));if(typeof R!="object"||!("__html"in R))throw Error(t(61));R=R.__html,R!=null&&T.push(""+R)}}function he(T){var R="";return n.Children.forEach(T,function(k){k!=null&&(R+=k)}),R}function $(T,R){(T.instructions&16)===0&&(T.instructions|=16,R.bootstrapChunks.unshift(R.startInlineScript,`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`,"<\/script>"))}function Ue(T,R){T.push(at("link"));for(var k in R)if(B.call(R,k)){var j=R[k];if(j!=null)switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:Rt(T,k,j)}}return T.push("/>"),null}var me=/(<\/|<)(s)(tyle)/gi;function De(T,R,k,j){return""+R+(k==="s"?"\\73 ":"\\53 ")+j}function Ie(T,R,k){T.push(at(k));for(var j in R)if(B.call(R,j)){var K=R[j];if(K!=null)switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,k));default:Rt(T,j,K)}}return T.push("/>"),null}function bt(T,R){T.push(at("title"));var k=null,j=null,K;for(K in R)if(B.call(R,K)){var ce=R[K];if(ce!=null)switch(K){case"children":k=ce;break;case"dangerouslySetInnerHTML":j=ce;break;default:Rt(T,K,ce)}}return T.push(">"),R=Array.isArray(k)?2>k.length?k[0]:null:k,typeof R!="function"&&typeof R!="symbol"&&R!==null&&R!==void 0&&T.push(le(""+R)),on(T,j,k),T.push(gt("title")),null}function it(T,R){T.push(at("script"));var k=null,j=null,K;for(K in R)if(B.call(R,K)){var ce=R[K];if(ce!=null)switch(K){case"children":k=ce;break;case"dangerouslySetInnerHTML":j=ce;break;default:Rt(T,K,ce)}}return T.push(">"),on(T,j,k),typeof k=="string"&&T.push((""+k).replace(je,$e)),T.push(gt("script")),null}function zt(T,R,k){T.push(at(k));var j=k=null,K;for(K in R)if(B.call(R,K)){var ce=R[K];if(ce!=null)switch(K){case"children":k=ce;break;case"dangerouslySetInnerHTML":j=ce;break;default:Rt(T,K,ce)}}return T.push(">"),on(T,j,k),typeof k=="string"?(T.push(le(k)),null):k}var Xt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,lt=new Map;function at(T){var R=lt.get(T);if(R===void 0){if(!Xt.test(T))throw Error(t(65,T));R="<"+T,lt.set(T,R)}return R}function sn(T,R,k,j,K,ce,Se,Ve,Ge){switch(R){case"div":case"span":case"svg":case"path":break;case"a":T.push(at("a"));var ht=null,Bt=null,Mt;for(Mt in k)if(B.call(k,Mt)){var nn=k[Mt];if(nn!=null)switch(Mt){case"children":ht=nn;break;case"dangerouslySetInnerHTML":Bt=nn;break;case"href":nn===""?Qe(T,"href",""):Rt(T,Mt,nn);break;default:Rt(T,Mt,nn)}}if(T.push(">"),on(T,Bt,ht),typeof ht=="string"){T.push(le(ht));var Dn=null}else Dn=ht;return Dn;case"g":case"p":case"li":break;case"select":T.push(at("select"));var Jt=null,gn=null,bi;for(bi in k)if(B.call(k,bi)){var xn=k[bi];if(xn!=null)switch(bi){case"children":Jt=xn;break;case"dangerouslySetInnerHTML":gn=xn;break;case"defaultValue":case"value":break;default:Rt(T,bi,xn)}}return T.push(">"),on(T,gn,Jt),Jt;case"option":var Yn=Se.selectedValue;T.push(at("option"));var jn=null,pi=null,Hn=null,qn=null,Wa;for(Wa in k)if(B.call(k,Wa)){var Ni=k[Wa];if(Ni!=null)switch(Wa){case"children":jn=Ni;break;case"selected":Hn=Ni;break;case"dangerouslySetInnerHTML":qn=Ni;break;case"value":pi=Ni;default:Rt(T,Wa,Ni)}}if(Yn!=null){var Ui=pi!==null?""+pi:he(jn);if(H(Yn)){for(var yn=0;yn<Yn.length;yn++)if(""+Yn[yn]===Ui){T.push(' selected=""');break}}else""+Yn===Ui&&T.push(' selected=""')}else Hn&&T.push(' selected=""');return T.push(">"),on(T,qn,jn),jn;case"textarea":T.push(at("textarea"));var Pi=null,Qr=null,Hr=null,La;for(La in k)if(B.call(k,La)){var rr=k[La];if(rr!=null)switch(La){case"children":Hr=rr;break;case"value":Pi=rr;break;case"defaultValue":Qr=rr;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:Rt(T,La,rr)}}if(Pi===null&&Qr!==null&&(Pi=Qr),T.push(">"),Hr!=null){if(Pi!=null)throw Error(t(92));if(H(Hr)){if(1<Hr.length)throw Error(t(93));Pi=""+Hr[0]}Pi=""+Hr}return typeof Pi=="string"&&Pi[0]===`
`&&T.push(`
`),Pi!==null&&T.push(le(""+Pi)),null;case"input":T.push(at("input"));var ma=null,Zi=null,Vr=null,us=null,Ya=null,Ml=null,Fs=null,ga=null,Hs=null,mo;for(mo in k)if(B.call(k,mo)){var Lr=k[mo];if(Lr!=null)switch(mo){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"name":ma=Lr;break;case"formAction":Zi=Lr;break;case"formEncType":Vr=Lr;break;case"formMethod":us=Lr;break;case"formTarget":Ya=Lr;break;case"defaultChecked":Hs=Lr;break;case"defaultValue":Fs=Lr;break;case"checked":ga=Lr;break;case"value":Ml=Lr;break;default:Rt(T,mo,Lr)}}var ic=mt(T,j,K,Zi,Vr,us,Ya,ma);return ga!==null?ct(T,"checked",ga):Hs!==null&&ct(T,"checked",Hs),Ml!==null?Rt(T,"value",Ml):Fs!==null&&Rt(T,"value",Fs),T.push("/>"),ic!=null&&ic.forEach(Je,T),null;case"button":T.push(at("button"));var Gr=null,Al=null,Qo=null,Xr=null,Mu=null,Ai=null,Wr=null,ya;for(ya in k)if(B.call(k,ya)){var fr=k[ya];if(fr!=null)switch(ya){case"children":Gr=fr;break;case"dangerouslySetInnerHTML":Al=fr;break;case"name":Qo=fr;break;case"formAction":Xr=fr;break;case"formEncType":Mu=fr;break;case"formMethod":Ai=fr;break;case"formTarget":Wr=fr;break;default:Rt(T,ya,fr)}}var go=mt(T,j,K,Xr,Mu,Ai,Wr,Qo);if(T.push(">"),go!=null&&go.forEach(Je,T),on(T,Al,Gr),typeof Gr=="string"){T.push(le(Gr));var Yr=null}else Yr=Gr;return Yr;case"form":T.push(at("form"));var Cl=null,Vs=null,va=null,Ki=null,Qi=null,Gn=null,hr;for(hr in k)if(B.call(k,hr)){var Nr=k[hr];if(Nr!=null)switch(hr){case"children":Cl=Nr;break;case"dangerouslySetInnerHTML":Vs=Nr;break;case"action":va=Nr;break;case"encType":Ki=Nr;break;case"method":Qi=Nr;break;case"target":Gn=Nr;break;default:Rt(T,hr,Nr)}}var Rl=null,Jo=null;if(typeof va=="function"){var Vi=yt(j,va);Vi!==null?(va=Vi.action||"",Ki=Vi.encType,Qi=Vi.method,Gn=Vi.target,Rl=Vi.data,Jo=Vi.name):(T.push(" ","action",'="',et,'"'),Gn=Qi=Ki=va=null,$(j,K))}if(va!=null&&Rt(T,"action",va),Ki!=null&&Rt(T,"encType",Ki),Qi!=null&&Rt(T,"method",Qi),Gn!=null&&Rt(T,"target",Gn),T.push(">"),Jo!==null&&(T.push('<input type="hidden"'),Qe(T,"name",Jo),T.push("/>"),Rl!=null&&Rl.forEach(Je,T)),on(T,Vs,Cl),typeof Cl=="string"){T.push(le(Cl));var Uf=null}else Uf=Cl;return Uf;case"menuitem":T.push(at("menuitem"));for(var Gs in k)if(B.call(k,Gs)){var yo=k[Gs];if(yo!=null)switch(Gs){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:Rt(T,Gs,yo)}}return T.push(">"),null;case"object":T.push(at("object"));var Na=null,cs=null,Xs;for(Xs in k)if(B.call(k,Xs)){var ja=k[Xs];if(ja!=null)switch(Xs){case"children":Na=ja;break;case"dangerouslySetInnerHTML":cs=ja;break;case"data":var Ua=J(""+ja);if(Ua==="")break;T.push(" ","data",'="',le(Ua),'"');break;default:Rt(T,Xs,ja)}}if(T.push(">"),on(T,cs,Na),typeof Na=="string"){T.push(le(Na));var vo=null}else vo=Na;return vo;case"title":if(Se.insertionMode===3||Se.tagScope&1||k.itemProp!=null)var Ws=bt(T,k);else Ge?Ws=null:(bt(K.hoistableChunks,k),Ws=void 0);return Ws;case"link":var Au=k.rel,Un=k.href,fs=k.precedence;if(Se.insertionMode===3||Se.tagScope&1||k.itemProp!=null||typeof Au!="string"||typeof Un!="string"||Un===""){Ue(T,k);var wr=null}else if(k.rel==="stylesheet")if(typeof fs!="string"||k.disabled!=null||k.onLoad||k.onError)wr=Ue(T,k);else{var Es=K.styles.get(fs),xo=j.styleResources.hasOwnProperty(Un)?j.styleResources[Un]:void 0;if(xo!==null){j.styleResources[Un]=null,Es||(Es={precedence:le(fs),rules:[],hrefs:[],sheets:new Map},K.styles.set(fs,Es));var $o={state:0,props:W({},k,{"data-precedence":k.precedence,precedence:null})};if(xo){xo.length===2&&ne($o.props,xo);var kc=K.preloads.stylesheets.get(Un);kc&&0<kc.length?kc.length=0:$o.state=1}Es.sheets.set(Un,$o),ce&&ce.stylesheets.add($o)}else if(Es){var If=Es.sheets.get(Un);If&&ce&&ce.stylesheets.add(If)}Ve&&T.push("<!-- -->"),wr=null}else k.onLoad||k.onError?wr=Ue(T,k):(Ve&&T.push("<!-- -->"),wr=Ge?null:Ue(K.hoistableChunks,k));return wr;case"script":var dr=k.async;if(typeof k.src!="string"||!k.src||!dr||typeof dr=="function"||typeof dr=="symbol"||k.onLoad||k.onError||Se.insertionMode===3||Se.tagScope&1||k.itemProp!=null)var bo=it(T,k);else{var qa=k.src;if(k.type==="module")var Ys=j.moduleScriptResources,js=K.preloads.moduleScripts;else Ys=j.scriptResources,js=K.preloads.scripts;var el=Ys.hasOwnProperty(qa)?Ys[qa]:void 0;if(el!==null){Ys[qa]=null;var _o=k;if(el){el.length===2&&(_o=W({},k),ne(_o,el));var Ur=js.get(qa);Ur&&(Ur.length=0)}var hs=[];K.scripts.add(hs),it(hs,_o)}Ve&&T.push("<!-- -->"),bo=null}return bo;case"style":var Za=k.precedence,Ts=k.href;if(Se.insertionMode===3||Se.tagScope&1||k.itemProp!=null||typeof Za!="string"||typeof Ts!="string"||Ts===""){T.push(at("style"));var Jr=null,ds=null,Ii;for(Ii in k)if(B.call(k,Ii)){var So=k[Ii];if(So!=null)switch(Ii){case"children":Jr=So;break;case"dangerouslySetInnerHTML":ds=So;break;default:Rt(T,Ii,So)}}T.push(">");var Mn=Array.isArray(Jr)?2>Jr.length?Jr[0]:null:Jr;typeof Mn!="function"&&typeof Mn!="symbol"&&Mn!==null&&Mn!==void 0&&T.push((""+Mn).replace(me,De)),on(T,ds,Jr),T.push(gt("style"));var Uh=null}else{var zi=K.styles.get(Za);if((j.styleResources.hasOwnProperty(Ts)?j.styleResources[Ts]:void 0)!==null){j.styleResources[Ts]=null,zi?zi.hrefs.push(le(Ts)):(zi={precedence:le(Za),rules:[],hrefs:[le(Ts)],sheets:new Map},K.styles.set(Za,zi));var Ji=zi.rules,ps=null,Eo=null,E;for(E in k)if(B.call(k,E)){var A=k[E];if(A!=null)switch(E){case"children":ps=A;break;case"dangerouslySetInnerHTML":Eo=A}}var z=Array.isArray(ps)?2>ps.length?ps[0]:null:ps;typeof z!="function"&&typeof z!="symbol"&&z!==null&&z!==void 0&&Ji.push((""+z).replace(me,De)),on(Ji,Eo,ps)}zi&&ce&&ce.styles.add(zi),Ve&&T.push("<!-- -->"),Uh=void 0}return Uh;case"meta":if(Se.insertionMode===3||Se.tagScope&1||k.itemProp!=null)var Y=Ie(T,k,"meta");else Ve&&T.push("<!-- -->"),Y=Ge?null:typeof k.charSet=="string"?Ie(K.charsetChunks,k,"meta"):k.name==="viewport"?Ie(K.viewportChunks,k,"meta"):Ie(K.hoistableChunks,k,"meta");return Y;case"listing":case"pre":T.push(at(R));var Q=null,ue=null,_e;for(_e in k)if(B.call(k,_e)){var Ne=k[_e];if(Ne!=null)switch(_e){case"children":Q=Ne;break;case"dangerouslySetInnerHTML":ue=Ne;break;default:Rt(T,_e,Ne)}}if(T.push(">"),ue!=null){if(Q!=null)throw Error(t(60));if(typeof ue!="object"||!("__html"in ue))throw Error(t(61));var Ae=ue.__html;Ae!=null&&(typeof Ae=="string"&&0<Ae.length&&Ae[0]===`
`?T.push(`
`,Ae):T.push(""+Ae))}return typeof Q=="string"&&Q[0]===`
`&&T.push(`
`),Q;case"img":var Ke=k.src,dt=k.srcSet;if(!(k.loading==="lazy"||!Ke&&!dt||typeof Ke!="string"&&Ke!=null||typeof dt!="string"&&dt!=null)&&k.fetchPriority!=="low"&&!(Se.tagScope&3)&&(typeof Ke!="string"||Ke[4]!==":"||Ke[0]!=="d"&&Ke[0]!=="D"||Ke[1]!=="a"&&Ke[1]!=="A"||Ke[2]!=="t"&&Ke[2]!=="T"||Ke[3]!=="a"&&Ke[3]!=="A")&&(typeof dt!="string"||dt[4]!==":"||dt[0]!=="d"&&dt[0]!=="D"||dt[1]!=="a"&&dt[1]!=="A"||dt[2]!=="t"&&dt[2]!=="T"||dt[3]!=="a"&&dt[3]!=="A")){var nt=typeof k.sizes=="string"?k.sizes:void 0,wt=dt?dt+`
`+(nt||""):Ke,Ut=K.preloads.images,Vt=Ut.get(wt);if(Vt)(k.fetchPriority==="high"||10>K.highImagePreloads.size)&&(Ut.delete(wt),K.highImagePreloads.add(Vt));else if(!j.imageResources.hasOwnProperty(wt)){j.imageResources[wt]=Te;var en=k.crossOrigin,Kt=typeof en=="string"?en==="use-credentials"?en:"":void 0,ki=K.headers,ar;ki&&0<ki.remainingCapacity&&(k.fetchPriority==="high"||500>ki.highImagePreloads.length)&&(ar=we(Ke,"image",{imageSrcSet:k.srcSet,imageSizes:k.sizes,crossOrigin:Kt,integrity:k.integrity,nonce:k.nonce,type:k.type,fetchPriority:k.fetchPriority,referrerPolicy:k.refererPolicy}),0<=(ki.remainingCapacity-=ar.length+2))?(K.resets.image[wt]=Te,ki.highImagePreloads&&(ki.highImagePreloads+=", "),ki.highImagePreloads+=ar):(Vt=[],Ue(Vt,{rel:"preload",as:"image",href:dt?void 0:Ke,imageSrcSet:dt,imageSizes:nt,crossOrigin:Kt,integrity:k.integrity,type:k.type,fetchPriority:k.fetchPriority,referrerPolicy:k.referrerPolicy}),k.fetchPriority==="high"||10>K.highImagePreloads.size?K.highImagePreloads.add(Vt):(K.bulkPreloads.add(Vt),Ut.set(wt,Vt)))}}return Ie(T,k,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return Ie(T,k,R);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>Se.insertionMode&&K.headChunks===null){K.headChunks=[];var Ci=zt(K.headChunks,k,"head")}else Ci=zt(T,k,"head");return Ci;case"html":if(Se.insertionMode===0&&K.htmlChunks===null){K.htmlChunks=[""];var Bi=zt(K.htmlChunks,k,"html")}else Bi=zt(T,k,"html");return Bi;default:if(R.indexOf("-")!==-1){T.push(at(R));var Mr=null,Ia=null,Fn;for(Fn in k)if(B.call(k,Fn)){var _i=k[Fn];if(_i!=null){var Ir=Fn;switch(Fn){case"children":Mr=_i;break;case"dangerouslySetInnerHTML":Ia=_i;break;case"style":ye(T,_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":Ir="class";default:if(se(Fn)&&typeof _i!="function"&&typeof _i!="symbol"&&_i!==!1){if(_i===!0)_i="";else if(typeof _i=="object")continue;T.push(" ",Ir,'="',le(_i),'"')}}}}return T.push(">"),on(T,Ia,Mr),Mr}}return zt(T,k,R)}var Et=new Map;function gt(T){var R=Et.get(T);return R===void 0&&(R="</"+T+">",Et.set(T,R)),R}function ln(T,R){R=R.bootstrapChunks;for(var k=0;k<R.length-1;k++)T.push(R[k]);return k<R.length?(k=R[k],R.length=0,T.push(k)):!0}function Me(T,R,k){if(T.push('<!--$?--><template id="'),k===null)throw Error(t(395));return T.push(R.boundaryPrefix),R=k.toString(16),T.push(R),T.push('"></template>')}function Dt(T,R,k,j){switch(k.insertionMode){case 0:case 1:case 2:return T.push('<div hidden id="'),T.push(R.segmentPrefix),R=j.toString(16),T.push(R),T.push('">');case 3:return T.push('<svg aria-hidden="true" style="display:none" id="'),T.push(R.segmentPrefix),R=j.toString(16),T.push(R),T.push('">');case 4:return T.push('<math aria-hidden="true" style="display:none" id="'),T.push(R.segmentPrefix),R=j.toString(16),T.push(R),T.push('">');case 5:return T.push('<table hidden id="'),T.push(R.segmentPrefix),R=j.toString(16),T.push(R),T.push('">');case 6:return T.push('<table hidden><tbody id="'),T.push(R.segmentPrefix),R=j.toString(16),T.push(R),T.push('">');case 7:return T.push('<table hidden><tr id="'),T.push(R.segmentPrefix),R=j.toString(16),T.push(R),T.push('">');case 8:return T.push('<table hidden><colgroup id="'),T.push(R.segmentPrefix),R=j.toString(16),T.push(R),T.push('">');default:throw Error(t(397))}}function Lt(T,R){switch(R.insertionMode){case 0:case 1:case 2:return T.push("</div>");case 3:return T.push("</svg>");case 4:return T.push("</math>");case 5:return T.push("</table>");case 6:return T.push("</tbody></table>");case 7:return T.push("</tr></table>");case 8:return T.push("</colgroup></table>");default:throw Error(t(397))}}var Zt=/[<\u2028\u2029]/g;function vt(T){return JSON.stringify(T).replace(Zt,function(R){switch(R){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ft=/[&><\u2028\u2029]/g;function Wt(T){return JSON.stringify(T).replace(ft,function(R){switch(R){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var $t=!1,Sn=!0;function bn(T){var R=T.rules,k=T.hrefs,j=0;if(k.length){for(this.push('<style media="not all" data-precedence="'),this.push(T.precedence),this.push('" data-href="');j<k.length-1;j++)this.push(k[j]),this.push(" ");for(this.push(k[j]),this.push('">'),j=0;j<R.length;j++)this.push(R[j]);Sn=this.push("</style>"),$t=!0,R.length=0,k.length=0}}function ca(T){return T.state!==2?$t=!0:!1}function vr(T,R,k){return $t=!1,Sn=!0,R.styles.forEach(bn,T),R.stylesheets.forEach(ca),$t&&(k.stylesToHoist=!0),Sn}function hi(T){for(var R=0;R<T.length;R++)this.push(T[R]);T.length=0}var xr=[];function Ho(T){Ue(xr,T.props);for(var R=0;R<xr.length;R++)this.push(xr[R]);xr.length=0,T.state=2}function Fa(T){var R=0<T.sheets.size;T.sheets.forEach(Ho,this),T.sheets.clear();var k=T.rules,j=T.hrefs;if(!R||j.length){if(this.push('<style data-precedence="'),this.push(T.precedence),T=0,j.length){for(this.push('" data-href="');T<j.length-1;T++)this.push(j[T]),this.push(" ");this.push(j[T])}for(this.push('">'),T=0;T<k.length;T++)this.push(k[T]);this.push("</style>"),k.length=0,j.length=0}}function au(T){if(T.state===0){T.state=1;var R=T.props;for(Ue(xr,{rel:"preload",as:"style",href:T.props.href,crossOrigin:R.crossOrigin,fetchPriority:R.fetchPriority,integrity:R.integrity,media:R.media,hrefLang:R.hrefLang,referrerPolicy:R.referrerPolicy}),T=0;T<xr.length;T++)this.push(xr[T]);xr.length=0}}function Ha(T){T.sheets.forEach(au,this),T.sheets.clear()}function br(T,R){T.push("[");var k="[";R.stylesheets.forEach(function(j){if(j.state!==2)if(j.state===3)T.push(k),j=Wt(""+j.props.href),T.push(j),T.push("]"),k=",[";else{T.push(k);var K=j.props["data-precedence"],ce=j.props,Se=J(""+j.props.href);Se=Wt(Se),T.push(Se),K=""+K,T.push(","),K=Wt(K),T.push(K);for(var Ve in ce)if(B.call(ce,Ve)&&(K=ce[Ve],K!=null))switch(Ve){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:mn(T,Ve,K)}T.push("]"),k=",[",j.state=3}}),T.push("]")}function mn(T,R,k){var j=R.toLowerCase();switch(typeof k){case"function":case"symbol":return}switch(R){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":j="class",R=""+k;break;case"hidden":if(k===!1)return;R="";break;case"src":case"href":k=J(k),R=""+k;break;default:if(2<R.length&&(R[0]==="o"||R[0]==="O")&&(R[1]==="n"||R[1]==="N")||!se(R))return;R=""+k}T.push(","),j=Wt(j),T.push(j),T.push(","),j=Wt(R),T.push(j)}function pn(){return{styles:new Set,stylesheets:new Set}}function Oa(T){var R=cr||null;if(R){var k=R.resumableState,j=R.renderState;if(typeof T=="string"&&T){if(!k.dnsResources.hasOwnProperty(T)){k.dnsResources[T]=null,k=j.headers;var K,ce;(ce=k&&0<k.remainingCapacity)&&(ce=(K="<"+(""+T).replace(Be,We)+">; rel=dns-prefetch",0<=(k.remainingCapacity-=K.length+2))),ce?(j.resets.dns[T]=null,k.preconnects&&(k.preconnects+=", "),k.preconnects+=K):(K=[],Ue(K,{href:T,rel:"dns-prefetch"}),j.preconnects.add(K))}ls(R)}}else tt.D(T)}function Br(T,R){var k=cr||null;if(k){var j=k.resumableState,K=k.renderState;if(typeof T=="string"&&T){var ce=R==="use-credentials"?"credentials":typeof R=="string"?"anonymous":"default";if(!j.connectResources[ce].hasOwnProperty(T)){j.connectResources[ce][T]=null,j=K.headers;var Se,Ve;if(Ve=j&&0<j.remainingCapacity){if(Ve="<"+(""+T).replace(Be,We)+">; rel=preconnect",typeof R=="string"){var Ge=(""+R).replace(Ce,_t);Ve+='; crossorigin="'+Ge+'"'}Ve=(Se=Ve,0<=(j.remainingCapacity-=Se.length+2))}Ve?(K.resets.connect[ce][T]=null,j.preconnects&&(j.preconnects+=", "),j.preconnects+=Se):(ce=[],Ue(ce,{rel:"preconnect",href:T,crossOrigin:R}),K.preconnects.add(ce))}ls(k)}}else tt.C(T,R)}function Mf(T,R,k){var j=cr||null;if(j){var K=j.resumableState,ce=j.renderState;if(R&&T){switch(R){case"image":if(k)var Se=k.imageSrcSet,Ve=k.imageSizes,Ge=k.fetchPriority;var ht=Se?Se+`
`+(Ve||""):T;if(K.imageResources.hasOwnProperty(ht))return;K.imageResources[ht]=Te,K=ce.headers;var Bt;K&&0<K.remainingCapacity&&Ge==="high"&&(Bt=we(T,R,k),0<=(K.remainingCapacity-=Bt.length+2))?(ce.resets.image[ht]=Te,K.highImagePreloads&&(K.highImagePreloads+=", "),K.highImagePreloads+=Bt):(K=[],Ue(K,W({rel:"preload",href:Se?void 0:T,as:R},k)),Ge==="high"?ce.highImagePreloads.add(K):(ce.bulkPreloads.add(K),ce.preloads.images.set(ht,K)));break;case"style":if(K.styleResources.hasOwnProperty(T))return;Se=[],Ue(Se,W({rel:"preload",href:T,as:R},k)),K.styleResources[T]=!k||typeof k.crossOrigin!="string"&&typeof k.integrity!="string"?Te:[k.crossOrigin,k.integrity],ce.preloads.stylesheets.set(T,Se),ce.bulkPreloads.add(Se);break;case"script":if(K.scriptResources.hasOwnProperty(T))return;Se=[],ce.preloads.scripts.set(T,Se),ce.bulkPreloads.add(Se),Ue(Se,W({rel:"preload",href:T,as:R},k)),K.scriptResources[T]=!k||typeof k.crossOrigin!="string"&&typeof k.integrity!="string"?Te:[k.crossOrigin,k.integrity];break;default:if(K.unknownResources.hasOwnProperty(R)){if(Se=K.unknownResources[R],Se.hasOwnProperty(T))return}else Se={},K.unknownResources[R]=Se;if(Se[T]=Te,(K=ce.headers)&&0<K.remainingCapacity&&R==="font"&&(ht=we(T,R,k),0<=(K.remainingCapacity-=ht.length+2)))ce.resets.font[T]=Te,K.fontPreloads&&(K.fontPreloads+=", "),K.fontPreloads+=ht;else switch(K=[],T=W({rel:"preload",href:T,as:R},k),Ue(K,T),R){case"font":ce.fontPreloads.add(K);break;default:ce.bulkPreloads.add(K)}}ls(j)}}else tt.L(T,R,k)}function Yu(T,R){var k=cr||null;if(k){var j=k.resumableState,K=k.renderState;if(T){var ce=R&&typeof R.as=="string"?R.as:"script";switch(ce){case"script":if(j.moduleScriptResources.hasOwnProperty(T))return;ce=[],j.moduleScriptResources[T]=!R||typeof R.crossOrigin!="string"&&typeof R.integrity!="string"?Te:[R.crossOrigin,R.integrity],K.preloads.moduleScripts.set(T,ce);break;default:if(j.moduleUnknownResources.hasOwnProperty(ce)){var Se=j.unknownResources[ce];if(Se.hasOwnProperty(T))return}else Se={},j.moduleUnknownResources[ce]=Se;ce=[],Se[T]=Te}Ue(ce,W({rel:"modulepreload",href:T},R)),K.bulkPreloads.add(ce),ls(k)}}else tt.m(T,R)}function Af(T,R,k){var j=cr||null;if(j){var K=j.resumableState,ce=j.renderState;if(T){R=R||"default";var Se=ce.styles.get(R),Ve=K.styleResources.hasOwnProperty(T)?K.styleResources[T]:void 0;Ve!==null&&(K.styleResources[T]=null,Se||(Se={precedence:le(R),rules:[],hrefs:[],sheets:new Map},ce.styles.set(R,Se)),R={state:0,props:W({rel:"stylesheet",href:T,"data-precedence":R},k)},Ve&&(Ve.length===2&&ne(R.props,Ve),(ce=ce.preloads.stylesheets.get(T))&&0<ce.length?ce.length=0:R.state=1),Se.sheets.set(T,R),ls(j))}}else tt.S(T,R,k)}function lo(T,R){var k=cr||null;if(k){var j=k.resumableState,K=k.renderState;if(T){var ce=j.scriptResources.hasOwnProperty(T)?j.scriptResources[T]:void 0;ce!==null&&(j.scriptResources[T]=null,R=W({src:T,async:!0},R),ce&&(ce.length===2&&ne(R,ce),T=K.preloads.scripts.get(T))&&(T.length=0),T=[],K.scripts.add(T),it(T,R),ls(k))}}else tt.X(T,R)}function su(T,R){var k=cr||null;if(k){var j=k.resumableState,K=k.renderState;if(T){var ce=j.moduleScriptResources.hasOwnProperty(T)?j.moduleScriptResources[T]:void 0;ce!==null&&(j.moduleScriptResources[T]=null,R=W({src:T,type:"module",async:!0},R),ce&&(ce.length===2&&ne(R,ce),T=K.preloads.moduleScripts.get(T))&&(T.length=0),T=[],K.scripts.add(T),it(T,R),ls(k))}}else tt.M(T,R)}function ne(T,R){T.crossOrigin==null&&(T.crossOrigin=R[0]),T.integrity==null&&(T.integrity=R[1])}function we(T,R,k){T=(""+T).replace(Be,We),R=(""+R).replace(Ce,_t),R="<"+T+'>; rel=preload; as="'+R+'"';for(var j in k)B.call(k,j)&&(T=k[j],typeof T=="string"&&(R+="; "+j.toLowerCase()+'="'+(""+T).replace(Ce,_t)+'"'));return R}var Be=/[<>\r\n]/g;function We(T){switch(T){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var Ce=/["';,\r\n]/g;function _t(T){switch(T){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function Nt(T){this.styles.add(T)}function Ft(T){this.stylesheets.add(T)}function Ht(T,R){var k=T.idPrefix,j=[],K=T.bootstrapScriptContent,ce=T.bootstrapScripts,Se=T.bootstrapModules;K!==void 0&&j.push("<script>",(""+K).replace(je,$e),"<\/script>"),K=k+"P:";var Ve=k+"S:";k+="B:";var Ge=new Set,ht=new Set,Bt=new Set,Mt=new Map,nn=new Set,Dn=new Set,Jt=new Set,gn={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(ce!==void 0)for(var bi=0;bi<ce.length;bi++){var xn=ce[bi],Yn,jn=void 0,pi=void 0,Hn={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};typeof xn=="string"?Hn.href=Yn=xn:(Hn.href=Yn=xn.src,Hn.integrity=pi=typeof xn.integrity=="string"?xn.integrity:void 0,Hn.crossOrigin=jn=typeof xn=="string"||xn.crossOrigin==null?void 0:xn.crossOrigin==="use-credentials"?"use-credentials":""),xn=T;var qn=Yn;xn.scriptResources[qn]=null,xn.moduleScriptResources[qn]=null,xn=[],Ue(xn,Hn),nn.add(xn),j.push('<script src="',le(Yn)),typeof pi=="string"&&j.push('" integrity="',le(pi)),typeof jn=="string"&&j.push('" crossorigin="',le(jn)),j.push('" async=""><\/script>')}if(Se!==void 0)for(ce=0;ce<Se.length;ce++)Hn=Se[ce],jn=Yn=void 0,pi={rel:"modulepreload",fetchPriority:"low",nonce:void 0},typeof Hn=="string"?pi.href=bi=Hn:(pi.href=bi=Hn.src,pi.integrity=jn=typeof Hn.integrity=="string"?Hn.integrity:void 0,pi.crossOrigin=Yn=typeof Hn=="string"||Hn.crossOrigin==null?void 0:Hn.crossOrigin==="use-credentials"?"use-credentials":""),Hn=T,xn=bi,Hn.scriptResources[xn]=null,Hn.moduleScriptResources[xn]=null,Hn=[],Ue(Hn,pi),nn.add(Hn),j.push('<script type="module" src="',le(bi)),typeof jn=="string"&&j.push('" integrity="',le(jn)),typeof Yn=="string"&&j.push('" crossorigin="',le(Yn)),j.push('" async=""><\/script>');return{placeholderPrefix:K,segmentPrefix:Ve,boundaryPrefix:k,startInlineScript:"<script>",htmlChunks:null,headChunks:null,externalRuntimeScript:null,bootstrapChunks:j,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:Ge,fontPreloads:ht,highImagePreloads:Bt,styles:Mt,bootstrapScripts:nn,scripts:Dn,bulkPreloads:Jt,preloads:gn,stylesToHoist:!1,generateStaticMarkup:R}}function rn(T,R,k,j){return k.generateStaticMarkup?(T.push(le(R)),!1):(R===""?T=j:(j&&T.push("<!-- -->"),T.push(le(R)),T=!0),T)}function fn(T,R,k,j){R.generateStaticMarkup||k&&j&&T.push("<!-- -->")}var Gt=Function.prototype.bind,Nn=Symbol.for("react.client.reference");function ni(T){if(T==null)return null;if(typeof T=="function")return T.$$typeof===Nn?null:T.displayName||T.name||null;if(typeof T=="string")return T;switch(T){case a:return"Fragment";case r:return"Portal";case l:return"Profiler";case s:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if(typeof T=="object")switch(T.$$typeof){case p:return(T.displayName||"Context")+".Provider";case f:return(T._context.displayName||"Context")+".Consumer";case g:var R=T.render;return T=T.displayName,T||(T=R.displayName||R.name||"",T=T!==""?"ForwardRef("+T+")":"ForwardRef"),T;case _:return R=T.displayName||null,R!==null?R:ni(T.type)||"Memo";case D:R=T._payload,T=T._init;try{return ni(T(R))}catch{}}return null}var di={},Cn=null;function Rn(T,R){if(T!==R){T.context._currentValue2=T.parentValue,T=T.parent;var k=R.parent;if(T===null){if(k!==null)throw Error(t(401))}else{if(k===null)throw Error(t(401));Rn(T,k)}R.context._currentValue2=R.value}}function Qt(T){T.context._currentValue2=T.parentValue,T=T.parent,T!==null&&Qt(T)}function wi(T){var R=T.parent;R!==null&&wi(R),T.context._currentValue2=T.value}function Wn(T,R){if(T.context._currentValue2=T.parentValue,T=T.parent,T===null)throw Error(t(402));T.depth===R.depth?Rn(T,R):Wn(T,R)}function _r(T,R){var k=R.parent;if(k===null)throw Error(t(402));T.depth===k.depth?Rn(T,k):_r(T,k),R.context._currentValue2=R.value}function Zr(T){var R=Cn;R!==T&&(R===null?wi(T):T===null?Qt(R):R.depth===T.depth?Rn(R,T):R.depth>T.depth?Wn(R,T):_r(R,T),Cn=T)}var ur={isMounted:function(){return!1},enqueueSetState:function(T,R){T=T._reactInternals,T.queue!==null&&T.queue.push(R)},enqueueReplaceState:function(T,R){T=T._reactInternals,T.replace=!0,T.queue=[R]},enqueueForceUpdate:function(){}},vl={id:1,overflow:""};function Bn(T,R,k){var j=T.id;T=T.overflow;var K=32-Sr(j)-1;j&=~(1<<K),k+=1;var ce=32-Sr(R)+K;if(30<ce){var Se=K-K%5;return ce=(j&(1<<Se)-1).toString(32),j>>=Se,K-=Se,{id:1<<32-Sr(R)+K|k<<K|j,overflow:ce+T}}return{id:1<<ce|k<<K|j,overflow:T}}var Sr=Math.clz32?Math.clz32:ir,fa=Math.log,Er=Math.LN2;function ir(T){return T>>>=0,T===0?32:31-(fa(T)/Er|0)|0}var ss=Error(t(460));function Fr(){}function ou(T,R,k){switch(k=T[k],k===void 0?T.push(R):k!==R&&(R.then(Fr,Fr),R=k),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Fr,Fr):(T=R,T.status="pending",T.then(function(j){if(R.status==="pending"){var K=R;K.status="fulfilled",K.value=j}},function(j){if(R.status==="pending"){var K=R;K.status="rejected",K.reason=j}})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}throw lu=R,ss}}var lu=null;function xl(){if(lu===null)throw Error(t(459));var T=lu;return lu=null,T}function Ph(T,R){return T===R&&(T!==0||1/T===1/R)||T!==T&&R!==R}var Pc=typeof Object.is=="function"?Object.is:Ph,uo=null,Cf=null,uu=null,ju=null,bl=null,oi=null,Is=!1,cu=!1,_l=0,fu=0,co=-1,Sl=0,zs=null,ha=null,qu=0;function Ss(){if(uo===null)throw Error(t(321));return uo}function Rf(){if(0<qu)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function fo(){return oi===null?bl===null?(Is=!1,bl=oi=Rf()):(Is=!0,oi=bl):oi.next===null?(Is=!1,oi=oi.next=Rf()):(Is=!0,oi=oi.next),oi}function ks(){var T=zs;return zs=null,T}function Vo(){ju=uu=Cf=uo=null,cu=!1,bl=null,qu=0,oi=ha=null}function da(T,R){return typeof R=="function"?R(T):R}function Go(T,R,k){if(uo=Ss(),oi=fo(),Is){var j=oi.queue;if(R=j.dispatch,ha!==null&&(k=ha.get(j),k!==void 0)){ha.delete(j),j=oi.memoizedState;do j=T(j,k.action),k=k.next;while(k!==null);return oi.memoizedState=j,[j,R]}return[oi.memoizedState,R]}return T=T===da?typeof R=="function"?R():R:k!==void 0?k(R):R,oi.memoizedState=T,T=oi.queue={last:null,dispatch:null},T=T.dispatch=Zu.bind(null,uo,T),[oi.memoizedState,T]}function hu(T,R){if(uo=Ss(),oi=fo(),R=R===void 0?null:R,oi!==null){var k=oi.memoizedState;if(k!==null&&R!==null){var j=k[1];e:if(j===null)j=!1;else{for(var K=0;K<j.length&&K<R.length;K++)if(!Pc(R[K],j[K])){j=!1;break e}j=!0}if(j)return k[0]}}return T=T(),oi.memoizedState=[T,R],T}function Zu(T,R,k){if(25<=qu)throw Error(t(301));if(T===uo)if(cu=!0,T={action:k,next:null},ha===null&&(ha=new Map),k=ha.get(R),k===void 0)ha.set(R,T);else{for(R=k;R.next!==null;)R=R.next;R.next=T}}function Od(){throw Error(t(394))}function Xo(){throw Error(t(479))}function du(T,R,k){Ss();var j=fu++,K=uu;if(typeof T.$$FORM_ACTION=="function"){var ce=null,Se=ju;K=K.formState;var Ve=T.$$IS_SIGNATURE_EQUAL;if(K!==null&&typeof Ve=="function"){var Ge=K[1];Ve.call(T,K[2],K[3])&&(ce=k!==void 0?"p"+k:"k"+G(JSON.stringify([Se,null,j]),0),Ge===ce&&(co=j,R=K[0]))}var ht=T.bind(null,R);return T=function(Mt){ht(Mt)},typeof ht.$$FORM_ACTION=="function"&&(T.$$FORM_ACTION=function(Mt){Mt=ht.$$FORM_ACTION(Mt),k!==void 0&&(k+="",Mt.action=k);var nn=Mt.data;return nn&&(ce===null&&(ce=k!==void 0?"p"+k:"k"+G(JSON.stringify([Se,null,j]),0)),nn.append("$ACTION_KEY",ce)),Mt}),[R,T,!1]}var Bt=T.bind(null,R);return[R,function(Mt){Bt(Mt)},!1]}function pu(T){var R=Sl;return Sl+=1,zs===null&&(zs=[]),ou(zs,T,R)}function Ku(){throw Error(t(393))}function mu(){}var Lc={readContext:function(T){return T._currentValue2},use:function(T){if(T!==null&&typeof T=="object"){if(typeof T.then=="function")return pu(T);if(T.$$typeof===p)return T._currentValue2}throw Error(t(438,String(T)))},useContext:function(T){return Ss(),T._currentValue2},useMemo:hu,useReducer:Go,useRef:function(T){uo=Ss(),oi=fo();var R=oi.memoizedState;return R===null?(T={current:T},oi.memoizedState=T):R},useState:function(T){return Go(da,T)},useInsertionEffect:mu,useLayoutEffect:mu,useCallback:function(T,R){return hu(function(){return T},R)},useImperativeHandle:mu,useEffect:mu,useDebugValue:mu,useDeferredValue:function(T,R){return Ss(),R!==void 0?R:T},useTransition:function(){return Ss(),[!1,Od]},useId:function(){var T=Cf.treeContext,R=T.overflow;T=T.id,T=(T&~(1<<32-Sr(T)-1)).toString(32)+R;var k=Df;if(k===null)throw Error(t(404));return R=_l++,T=":"+k.idPrefix+"R"+T,0<R&&(T+="H"+R.toString(32)),T+":"},useSyncExternalStore:function(T,R,k){if(k===void 0)throw Error(t(407));return k()},useCacheRefresh:function(){return Ku},useMemoCache:function(T){for(var R=Array(T),k=0;k<T;k++)R[k]=U;return R},useHostTransitionStatus:function(){return Ss(),Oe},useOptimistic:function(T){return Ss(),[T,Xo]}};Lc.useFormState=du,Lc.useActionState=du;var Df=null,Kr={getCacheForType:function(){throw Error(t(248))}},Qu,Lh;function gu(T){if(Qu===void 0)try{throw Error()}catch(k){var R=k.stack.trim().match(/\n( *(at )?)/);Qu=R&&R[1]||"",Lh=-1<k.stack.indexOf(`
    at`)?" (<anonymous>)":-1<k.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qu+T+Lh}var Of=!1;function Wo(T,R){if(!T||Of)return"";Of=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(R){var Mt=function(){throw Error()};if(Object.defineProperty(Mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Mt,[])}catch(Dn){var nn=Dn}Reflect.construct(T,[],Mt)}else{try{Mt.call()}catch(Dn){nn=Dn}T.call(Mt.prototype)}}else{try{throw Error()}catch(Dn){nn=Dn}(Mt=T())&&typeof Mt.catch=="function"&&Mt.catch(function(){})}}catch(Dn){if(Dn&&nn&&typeof Dn.stack=="string")return[Dn.stack,nn.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var K=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");K&&K.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ce=j.DetermineComponentFrameRoot(),Se=ce[0],Ve=ce[1];if(Se&&Ve){var Ge=Se.split(`
`),ht=Ve.split(`
`);for(K=j=0;j<Ge.length&&!Ge[j].includes("DetermineComponentFrameRoot");)j++;for(;K<ht.length&&!ht[K].includes("DetermineComponentFrameRoot");)K++;if(j===Ge.length||K===ht.length)for(j=Ge.length-1,K=ht.length-1;1<=j&&0<=K&&Ge[j]!==ht[K];)K--;for(;1<=j&&0<=K;j--,K--)if(Ge[j]!==ht[K]){if(j!==1||K!==1)do if(j--,K--,0>K||Ge[j]!==ht[K]){var Bt=`
`+Ge[j].replace(" at new "," at ");return T.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",T.displayName)),Bt}while(1<=j&&0<=K);break}}}finally{Of=!1,Error.prepareStackTrace=k}return(k=T?T.displayName||T.name:"")?gu(k):""}function Ju(T){if(typeof T=="string")return gu(T);if(typeof T=="function")return T.prototype&&T.prototype.isReactComponent?(T=Wo(T,!0),T):Wo(T,!1);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case g:return Wo(T.render,!1);case _:return Wo(T.type,!1);case D:var R=T,k=R._payload;R=R._init;try{T=R(k)}catch{return gu("Lazy")}return Ju(T)}if(typeof T.name=="string")return k=T.env,gu(T.name+(k?" ["+k+"]":""))}switch(T){case v:return gu("SuspenseList");case y:return gu("Suspense")}return""}function Pf(T){if(typeof T=="object"&&T!==null&&typeof T.environmentName=="string"){var R=T.environmentName;T=[T].slice(0),typeof T[0]=="string"?T.splice(0,1,"[%s] "+T[0]," "+R+" "):T.splice(0,0,"[%s] "," "+R+" "),T.unshift(console),R=Gt.apply(console.error,T),R()}else console.error(T);return null}function yu(){}function Pd(T,R,k,j,K,ce,Se,Ve,Ge,ht,Bt){var Mt=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=T,this.renderState=R,this.rootFormatContext=k,this.progressiveChunkSize=j===void 0?12800:j,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedRootSegment=null,this.abortableTasks=Mt,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=K===void 0?Pf:K,this.onPostpone=ht===void 0?yu:ht,this.onAllReady=ce===void 0?yu:ce,this.onShellReady=Se===void 0?yu:Se,this.onShellError=Ve===void 0?yu:Ve,this.onFatalError=Ge===void 0?yu:Ge,this.formState=Bt===void 0?null:Bt}function Nc(T,R,k,j,K,ce,Se,Ve,Ge,ht,Bt,Mt){return R=new Pd(R,k,j,K,ce,Se,Ve,Ge,ht,Bt,Mt),k=Pa(R,0,null,j,!1,!1),k.parentFlushed=!0,T=vu(R,null,T,-1,null,k,null,R.abortableTasks,null,j,null,vl,null,!1),ec(T),R.pingedTasks.push(T),R}var cr=null;function $u(T,R){T.pingedTasks.push(R),T.pingedTasks.length===1&&(T.flushScheduled=T.destination!==null,Bs(T))}function Lf(T,R){return{status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,completedSegments:[],byteSize:0,fallbackAbortableTasks:R,errorDigest:null,contentState:pn(),fallbackState:pn(),trackedContentKeyPath:null,trackedFallbackNode:null}}function vu(T,R,k,j,K,ce,Se,Ve,Ge,ht,Bt,Mt,nn,Dn){T.allPendingTasks++,K===null?T.pendingRootTasks++:K.pendingTasks++;var Jt={replay:null,node:k,childIndex:j,ping:function(){return $u(T,Jt)},blockedBoundary:K,blockedSegment:ce,hoistableState:Se,abortSet:Ve,keyPath:Ge,formatContext:ht,context:Bt,treeContext:Mt,componentStack:nn,thenableState:R,isFallback:Dn};return Ve.add(Jt),Jt}function Va(T,R,k,j,K,ce,Se,Ve,Ge,ht,Bt,Mt,nn,Dn){T.allPendingTasks++,ce===null?T.pendingRootTasks++:ce.pendingTasks++,k.pendingTasks++;var Jt={replay:k,node:j,childIndex:K,ping:function(){return $u(T,Jt)},blockedBoundary:ce,blockedSegment:null,hoistableState:Se,abortSet:Ve,keyPath:Ge,formatContext:ht,context:Bt,treeContext:Mt,componentStack:nn,thenableState:R,isFallback:Dn};return Ve.add(Jt),Jt}function Pa(T,R,k,j,K,ce){return{status:0,id:-1,index:R,parentFlushed:!1,chunks:[],children:[],parentFormatContext:j,boundary:k,lastPushedText:K,textEmbedded:ce}}function ec(T){var R=T.node;if(typeof R=="object"&&R!==null)switch(R.$$typeof){case i:T.componentStack={parent:T.componentStack,type:R.type}}}function Yo(T){var R={};return T&&Object.defineProperty(R,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var k="",j=T;do k+=Ju(j.type),j=j.parent;while(j);var K=k}catch(ce){K=`
Error generating stack: `+ce.message+`
`+ce.stack}return Object.defineProperty(R,"componentStack",{value:K}),K}}),R}function Ga(T,R,k){if(T=T.onError,R=T(R,k),R==null||typeof R=="string")return R}function Xa(T,R){var k=T.onShellError,j=T.onFatalError;k(R),j(R),T.destination!==null?(T.status=14,T.destination.destroy(R)):(T.status=13,T.fatalError=R)}function Nf(T,R,k,j,K,ce){var Se=R.thenableState;for(R.thenableState=null,uo={},Cf=R,uu=T,ju=k,fu=_l=0,co=-1,Sl=0,zs=Se,T=j(K,ce);cu;)cu=!1,fu=_l=0,co=-1,Sl=0,qu+=1,oi=null,T=j(K,ce);return Vo(),T}function Ld(T,R,k,j,K,ce,Se){var Ve=!1;if(ce!==0&&T.formState!==null){var Ge=R.blockedSegment;if(Ge!==null){Ve=!0,Ge=Ge.chunks;for(var ht=0;ht<ce;ht++)ht===Se?Ge.push("<!--F!-->"):Ge.push("<!--F-->")}}ce=R.keyPath,R.keyPath=k,K?(k=R.treeContext,R.treeContext=Bn(k,1,0),Mi(T,R,j,-1),R.treeContext=k):Ve?Mi(T,R,j,-1):Tr(T,R,j,-1),R.keyPath=ce}function Uc(T,R,k,j,K,ce){if(typeof j=="function")if(j.prototype&&j.prototype.isReactComponent){var Se=K;if("ref"in K){Se={};for(var Ve in K)Ve!=="ref"&&(Se[Ve]=K[Ve])}var Ge=j.defaultProps;if(Ge){Se===K&&(Se=W({},Se,K));for(var ht in Ge)Se[ht]===void 0&&(Se[ht]=Ge[ht])}K=Se,Se=di,Ge=j.contextType,typeof Ge=="object"&&Ge!==null&&(Se=Ge._currentValue2),Se=new j(K,Se);var Bt=Se.state!==void 0?Se.state:null;if(Se.updater=ur,Se.props=K,Se.state=Bt,Ge={queue:[],replace:!1},Se._reactInternals=Ge,ce=j.contextType,Se.context=typeof ce=="object"&&ce!==null?ce._currentValue2:di,ce=j.getDerivedStateFromProps,typeof ce=="function"&&(ce=ce(K,Bt),Bt=ce==null?Bt:W({},Bt,ce),Se.state=Bt),typeof j.getDerivedStateFromProps!="function"&&typeof Se.getSnapshotBeforeUpdate!="function"&&(typeof Se.UNSAFE_componentWillMount=="function"||typeof Se.componentWillMount=="function"))if(j=Se.state,typeof Se.componentWillMount=="function"&&Se.componentWillMount(),typeof Se.UNSAFE_componentWillMount=="function"&&Se.UNSAFE_componentWillMount(),j!==Se.state&&ur.enqueueReplaceState(Se,Se.state,null),Ge.queue!==null&&0<Ge.queue.length)if(j=Ge.queue,ce=Ge.replace,Ge.queue=null,Ge.replace=!1,ce&&j.length===1)Se.state=j[0];else{for(Ge=ce?j[0]:Se.state,Bt=!0,ce=ce?1:0;ce<j.length;ce++)ht=j[ce],ht=typeof ht=="function"?ht.call(Se,Ge,K,void 0):ht,ht!=null&&(Bt?(Bt=!1,Ge=W({},Ge,ht)):W(Ge,ht));Se.state=Ge}else Ge.queue=null;if(j=Se.render(),T.status===12)throw null;K=R.keyPath,R.keyPath=k,Tr(T,R,j,-1),R.keyPath=K}else{if(j=Nf(T,R,k,j,K,void 0),T.status===12)throw null;Ld(T,R,k,j,_l!==0,fu,co)}else if(typeof j=="string")if(Se=R.blockedSegment,Se===null)Se=K.children,Ge=R.formatContext,Bt=R.keyPath,R.formatContext=Yt(Ge,j,K),R.keyPath=k,Mi(T,R,Se,-1),R.formatContext=Ge,R.keyPath=Bt;else{Bt=sn(Se.chunks,j,K,T.resumableState,T.renderState,R.hoistableState,R.formatContext,Se.lastPushedText,R.isFallback),Se.lastPushedText=!1,Ge=R.formatContext,ce=R.keyPath,R.formatContext=Yt(Ge,j,K),R.keyPath=k,Mi(T,R,Bt,-1),R.formatContext=Ge,R.keyPath=ce;e:{switch(R=Se.chunks,T=T.resumableState,j){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=Ge.insertionMode){T.hasBody=!0;break e}break;case"html":if(Ge.insertionMode===0){T.hasHtml=!0;break e}}R.push(gt(j))}Se.lastPushedText=!1}else{switch(j){case P:case S:case s:case l:case a:j=R.keyPath,R.keyPath=k,Tr(T,R,K.children,-1),R.keyPath=j;return;case N:K.mode!=="hidden"&&(j=R.keyPath,R.keyPath=k,Tr(T,R,K.children,-1),R.keyPath=j);return;case v:j=R.keyPath,R.keyPath=k,Tr(T,R,K.children,-1),R.keyPath=j;return;case M:throw Error(t(343));case y:e:if(R.replay!==null){j=R.keyPath,R.keyPath=k,k=K.children;try{Mi(T,R,k,-1)}finally{R.keyPath=j}}else{j=R.keyPath;var Mt=R.blockedBoundary,nn=R.hoistableState;ce=R.blockedSegment,ht=K.fallback,K=K.children;var Dn=new Set;Ve=Lf(T,Dn),T.trackedPostpones!==null&&(Ve.trackedContentKeyPath=k);var Jt=Pa(T,ce.chunks.length,Ve,R.formatContext,!1,!1);ce.children.push(Jt),ce.lastPushedText=!1;var gn=Pa(T,0,null,R.formatContext,!1,!1);if(gn.parentFlushed=!0,T.trackedPostpones!==null){Se=[k[0],"Suspense Fallback",k[2]],Ge=[Se[1],Se[2],[],null],T.trackedPostpones.workingMap.set(Se,Ge),Ve.trackedFallbackNode=Ge,R.blockedSegment=Jt,R.keyPath=Se,Jt.status=6;try{Mi(T,R,ht,-1),fn(Jt.chunks,T.renderState,Jt.lastPushedText,Jt.textEmbedded),Jt.status=1}catch(bi){throw Jt.status=T.status===12?3:4,bi}finally{R.blockedSegment=ce,R.keyPath=j}R=vu(T,null,K,-1,Ve,gn,Ve.contentState,R.abortSet,k,R.formatContext,R.context,R.treeContext,R.componentStack,R.isFallback),ec(R),T.pingedTasks.push(R)}else{R.blockedBoundary=Ve,R.hoistableState=Ve.contentState,R.blockedSegment=gn,R.keyPath=k,gn.status=6;try{if(Mi(T,R,K,-1),fn(gn.chunks,T.renderState,gn.lastPushedText,gn.textEmbedded),gn.status=1,Su(Ve,gn),Ve.pendingTasks===0&&Ve.status===0){Ve.status=1;break e}}catch(bi){Ve.status=4,T.status===12?(gn.status=3,Se=T.fatalError):(gn.status=4,Se=bi),Ge=Yo(R.componentStack),Bt=Ga(T,Se,Ge),Ve.errorDigest=Bt,jo(T,Ve)}finally{R.blockedBoundary=Mt,R.hoistableState=nn,R.blockedSegment=ce,R.keyPath=j}R=vu(T,null,ht,-1,Mt,Jt,Ve.fallbackState,Dn,[k[0],"Suspense Fallback",k[2]],R.formatContext,R.context,R.treeContext,R.componentStack,!0),ec(R),T.pingedTasks.push(R)}}return}if(typeof j=="object"&&j!==null)switch(j.$$typeof){case g:if("ref"in K)for(Jt in Se={},K)Jt!=="ref"&&(Se[Jt]=K[Jt]);else Se=K;j=Nf(T,R,k,j.render,Se,ce),Ld(T,R,k,j,_l!==0,fu,co);return;case _:Uc(T,R,k,j.type,K,ce);return;case c:case p:if(Ge=K.children,Se=R.keyPath,K=K.value,Bt=j._currentValue2,j._currentValue2=K,ce=Cn,Cn=j={parent:ce,depth:ce===null?0:ce.depth+1,context:j,parentValue:Bt,value:K},R.context=j,R.keyPath=k,Tr(T,R,Ge,-1),T=Cn,T===null)throw Error(t(403));T.context._currentValue2=T.parentValue,T=Cn=T.parent,R.context=T,R.keyPath=Se;return;case f:K=K.children,j=K(j._context._currentValue2),K=R.keyPath,R.keyPath=k,Tr(T,R,j,-1),R.keyPath=K;return;case D:if(Se=j._init,j=Se(j._payload),T.status===12)throw null;Uc(T,R,k,j,K,ce);return}throw Error(t(130,j==null?j:typeof j,""))}}function ho(T,R,k,j,K){var ce=R.replay,Se=R.blockedBoundary,Ve=Pa(T,0,null,R.formatContext,!1,!1);Ve.id=k,Ve.parentFlushed=!0;try{R.replay=null,R.blockedSegment=Ve,Mi(T,R,j,K),Ve.status=1,Se===null?T.completedRootSegment=Ve:(Su(Se,Ve),Se.parentFlushed&&T.partialBoundaries.push(Se))}finally{R.replay=ce,R.blockedSegment=null}}function Tr(T,R,k,j){R.replay!==null&&typeof R.replay.slots=="number"?ho(T,R,R.replay.slots,k,j):(R.node=k,R.childIndex=j,k=R.componentStack,ec(R),El(T,R),R.componentStack=k)}function El(T,R){var k=R.node,j=R.childIndex;if(k!==null){if(typeof k=="object"){switch(k.$$typeof){case i:var K=k.type,ce=k.key,Se=k.props;k=Se.ref;var Ve=k!==void 0?k:null,Ge=ni(K),ht=ce??(j===-1?0:j);if(ce=[R.keyPath,Ge,ht],R.replay!==null)e:{var Bt=R.replay;for(j=Bt.nodes,k=0;k<j.length;k++){var Mt=j[k];if(ht===Mt[1]){if(Mt.length===4){if(Ge!==null&&Ge!==Mt[0])throw Error(t(490,Mt[0],Ge));var nn=Mt[2];Ge=Mt[3],ht=R.node,R.replay={nodes:nn,slots:Ge,pendingTasks:1};try{if(Uc(T,R,ce,K,Se,Ve),R.replay.pendingTasks===1&&0<R.replay.nodes.length)throw Error(t(488));R.replay.pendingTasks--}catch(pi){if(typeof pi=="object"&&pi!==null&&(pi===ss||typeof pi.then=="function"))throw R.node===ht&&(R.replay=Bt),pi;R.replay.pendingTasks--,Se=Yo(R.componentStack),ce=R.blockedBoundary,K=pi,Se=Ga(T,K,Se),xu(T,ce,nn,Ge,K,Se)}R.replay=Bt}else{if(K!==y)throw Error(t(490,"Suspense",ni(K)||"Unknown"));t:{Bt=void 0,K=Mt[5],Ve=Mt[2],Ge=Mt[3],ht=Mt[4]===null?[]:Mt[4][2],Mt=Mt[4]===null?null:Mt[4][3];var Dn=R.keyPath,Jt=R.replay,gn=R.blockedBoundary,bi=R.hoistableState,xn=Se.children;Se=Se.fallback;var Yn=new Set,jn=Lf(T,Yn);jn.parentFlushed=!0,jn.rootSegmentID=K,R.blockedBoundary=jn,R.hoistableState=jn.contentState,R.keyPath=ce,R.replay={nodes:Ve,slots:Ge,pendingTasks:1};try{if(Mi(T,R,xn,-1),R.replay.pendingTasks===1&&0<R.replay.nodes.length)throw Error(t(488));if(R.replay.pendingTasks--,jn.pendingTasks===0&&jn.status===0){jn.status=1,T.completedBoundaries.push(jn);break t}}catch(pi){jn.status=4,nn=Yo(R.componentStack),Bt=Ga(T,pi,nn),jn.errorDigest=Bt,R.replay.pendingTasks--,T.clientRenderedBoundaries.push(jn)}finally{R.blockedBoundary=gn,R.hoistableState=bi,R.replay=Jt,R.keyPath=Dn}R=Va(T,null,{nodes:ht,slots:Mt,pendingTasks:0},Se,-1,gn,jn.fallbackState,Yn,[ce[0],"Suspense Fallback",ce[2]],R.formatContext,R.context,R.treeContext,R.componentStack,!0),ec(R),T.pingedTasks.push(R)}}j.splice(k,1);break e}}}else Uc(T,R,ce,K,Se,Ve);return;case r:throw Error(t(257));case D:if(nn=k._init,k=nn(k._payload),T.status===12)throw null;Tr(T,R,k,j);return}if(H(k)){po(T,R,k,j);return}if(k===null||typeof k!="object"?nn=null:(nn=X&&k[X]||k["@@iterator"],nn=typeof nn=="function"?nn:null),nn&&(nn=nn.call(k))){if(k=nn.next(),!k.done){Se=[];do Se.push(k.value),k=nn.next();while(!k.done);po(T,R,Se,j)}return}if(typeof k.then=="function")return R.thenableState=null,Tr(T,R,pu(k),j);if(k.$$typeof===p)return Tr(T,R,k._currentValue2,j);throw j=Object.prototype.toString.call(k),Error(t(31,j==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":j))}typeof k=="string"?(j=R.blockedSegment,j!==null&&(j.lastPushedText=rn(j.chunks,k,T.renderState,j.lastPushedText))):(typeof k=="number"||typeof k=="bigint")&&(j=R.blockedSegment,j!==null&&(j.lastPushedText=rn(j.chunks,""+k,T.renderState,j.lastPushedText)))}}function po(T,R,k,j){var K=R.keyPath;if(j!==-1&&(R.keyPath=[R.keyPath,"Fragment",j],R.replay!==null)){for(var ce=R.replay,Se=ce.nodes,Ve=0;Ve<Se.length;Ve++){var Ge=Se[Ve];if(Ge[1]===j){j=Ge[2],Ge=Ge[3],R.replay={nodes:j,slots:Ge,pendingTasks:1};try{if(po(T,R,k,-1),R.replay.pendingTasks===1&&0<R.replay.nodes.length)throw Error(t(488));R.replay.pendingTasks--}catch(Mt){if(typeof Mt=="object"&&Mt!==null&&(Mt===ss||typeof Mt.then=="function"))throw Mt;R.replay.pendingTasks--,k=Yo(R.componentStack);var ht=R.blockedBoundary,Bt=Mt;k=Ga(T,Bt,k),xu(T,ht,j,Ge,Bt,k)}R.replay=ce,Se.splice(Ve,1);break}}R.keyPath=K;return}if(ce=R.treeContext,Se=k.length,R.replay!==null&&(Ve=R.replay.slots,Ve!==null&&typeof Ve=="object")){for(j=0;j<Se;j++)Ge=k[j],R.treeContext=Bn(ce,Se,j),ht=Ve[j],typeof ht=="number"?(ho(T,R,ht,Ge,j),delete Ve[j]):Mi(T,R,Ge,j);R.treeContext=ce,R.keyPath=K;return}for(Ve=0;Ve<Se;Ve++)j=k[Ve],R.treeContext=Bn(ce,Se,Ve),Mi(T,R,j,Ve);R.treeContext=ce,R.keyPath=K}function jo(T,R){T=T.trackedPostpones,T!==null&&(R=R.trackedContentKeyPath,R!==null&&(R=T.workingMap.get(R),R!==void 0&&(R.length=4,R[2]=[],R[3]=null)))}function Tl(T,R,k){return Va(T,k,R.replay,R.node,R.childIndex,R.blockedBoundary,R.hoistableState,R.abortSet,R.keyPath,R.formatContext,R.context,R.treeContext,R.componentStack,R.isFallback)}function qo(T,R,k){var j=R.blockedSegment,K=Pa(T,j.chunks.length,null,R.formatContext,j.lastPushedText,!0);return j.children.push(K),j.lastPushedText=!1,vu(T,k,R.node,R.childIndex,R.blockedBoundary,K,R.hoistableState,R.abortSet,R.keyPath,R.formatContext,R.context,R.treeContext,R.componentStack,R.isFallback)}function Mi(T,R,k,j){var K=R.formatContext,ce=R.context,Se=R.keyPath,Ve=R.treeContext,Ge=R.componentStack,ht=R.blockedSegment;if(ht===null)try{return Tr(T,R,k,j)}catch(nn){if(Vo(),k=nn===ss?xl():nn,typeof k=="object"&&k!==null){if(typeof k.then=="function"){j=ks(),T=Tl(T,R,j).ping,k.then(T,T),R.formatContext=K,R.context=ce,R.keyPath=Se,R.treeContext=Ve,R.componentStack=Ge,Zr(ce);return}if(k.message==="Maximum call stack size exceeded"){k=ks(),k=Tl(T,R,k),T.pingedTasks.push(k),R.formatContext=K,R.context=ce,R.keyPath=Se,R.treeContext=Ve,R.componentStack=Ge,Zr(ce);return}}}else{var Bt=ht.children.length,Mt=ht.chunks.length;try{return Tr(T,R,k,j)}catch(nn){if(Vo(),ht.children.length=Bt,ht.chunks.length=Mt,k=nn===ss?xl():nn,typeof k=="object"&&k!==null){if(typeof k.then=="function"){j=ks(),T=qo(T,R,j).ping,k.then(T,T),R.formatContext=K,R.context=ce,R.keyPath=Se,R.treeContext=Ve,R.componentStack=Ge,Zr(ce);return}if(k.message==="Maximum call stack size exceeded"){k=ks(),k=qo(T,R,k),T.pingedTasks.push(k),R.formatContext=K,R.context=ce,R.keyPath=Se,R.treeContext=Ve,R.componentStack=Ge,Zr(ce);return}}}}throw R.formatContext=K,R.context=ce,R.keyPath=Se,R.treeContext=Ve,Zr(ce),k}function tc(T){var R=T.blockedBoundary;T=T.blockedSegment,T!==null&&(T.status=3,pa(this,R,T))}function xu(T,R,k,j,K,ce){for(var Se=0;Se<k.length;Se++){var Ve=k[Se];if(Ve.length===4)xu(T,R,Ve[2],Ve[3],K,ce);else{Ve=Ve[5];var Ge=T,ht=ce,Bt=Lf(Ge,new Set);Bt.parentFlushed=!0,Bt.rootSegmentID=Ve,Bt.status=4,Bt.errorDigest=ht,Bt.parentFlushed&&Ge.clientRenderedBoundaries.push(Bt)}}if(k.length=0,j!==null){if(R===null)throw Error(t(487));if(R.status!==4&&(R.status=4,R.errorDigest=ce,R.parentFlushed&&T.clientRenderedBoundaries.push(R)),typeof j=="object")for(var Mt in j)delete j[Mt]}}function Zo(T,R,k){var j=T.blockedBoundary,K=T.blockedSegment;if(K!==null){if(K.status===6)return;K.status=3}if(K=Yo(T.componentStack),j===null){if(R.status!==13&&R.status!==14){if(j=T.replay,j===null){Ga(R,k,K),Xa(R,k);return}j.pendingTasks--,j.pendingTasks===0&&0<j.nodes.length&&(T=Ga(R,k,K),xu(R,null,j.nodes,j.slots,k,T)),R.pendingRootTasks--,R.pendingRootTasks===0&&Ic(R)}}else j.pendingTasks--,j.status!==4&&(j.status=4,T=Ga(R,k,K),j.status=4,j.errorDigest=T,jo(R,j),j.parentFlushed&&R.clientRenderedBoundaries.push(j)),j.fallbackAbortableTasks.forEach(function(ce){return Zo(ce,R,k)}),j.fallbackAbortableTasks.clear();R.allPendingTasks--,R.allPendingTasks===0&&_u(R)}function bu(T,R){try{var k=T.renderState,j=k.onHeaders;if(j){var K=k.headers;if(K){k.headers=null;var ce=K.preconnects;if(K.fontPreloads&&(ce&&(ce+=", "),ce+=K.fontPreloads),K.highImagePreloads&&(ce&&(ce+=", "),ce+=K.highImagePreloads),!R){var Se=k.styles.values(),Ve=Se.next();e:for(;0<K.remainingCapacity&&!Ve.done;Ve=Se.next())for(var Ge=Ve.value.sheets.values(),ht=Ge.next();0<K.remainingCapacity&&!ht.done;ht=Ge.next()){var Bt=ht.value,Mt=Bt.props,nn=Mt.href,Dn=Bt.props,Jt=we(Dn.href,"style",{crossOrigin:Dn.crossOrigin,integrity:Dn.integrity,nonce:Dn.nonce,type:Dn.type,fetchPriority:Dn.fetchPriority,referrerPolicy:Dn.referrerPolicy,media:Dn.media});if(0<=(K.remainingCapacity-=Jt.length+2))k.resets.style[nn]=Te,ce&&(ce+=", "),ce+=Jt,k.resets.style[nn]=typeof Mt.crossOrigin=="string"||typeof Mt.integrity=="string"?[Mt.crossOrigin,Mt.integrity]:Te;else break e}}j(ce?{Link:ce}:{})}}}catch(gn){Ga(T,gn,{})}}function Ic(T){T.trackedPostpones===null&&bu(T,!0),T.onShellError=yu,T=T.onShellReady,T()}function _u(T){bu(T,T.trackedPostpones===null?!0:T.completedRootSegment===null||T.completedRootSegment.status!==5),T=T.onAllReady,T()}function Su(T,R){if(R.chunks.length===0&&R.children.length===1&&R.children[0].boundary===null&&R.children[0].id===-1){var k=R.children[0];k.id=R.id,k.parentFlushed=!0,k.status===1&&Su(T,k)}else T.completedSegments.push(R)}function pa(T,R,k){if(R===null){if(k!==null&&k.parentFlushed){if(T.completedRootSegment!==null)throw Error(t(389));T.completedRootSegment=k}T.pendingRootTasks--,T.pendingRootTasks===0&&Ic(T)}else R.pendingTasks--,R.status!==4&&(R.pendingTasks===0?(R.status===0&&(R.status=1),k!==null&&k.parentFlushed&&k.status===1&&Su(R,k),R.parentFlushed&&T.completedBoundaries.push(R),R.status===1&&(R.fallbackAbortableTasks.forEach(tc,T),R.fallbackAbortableTasks.clear())):k!==null&&k.parentFlushed&&k.status===1&&(Su(R,k),R.completedSegments.length===1&&R.parentFlushed&&T.partialBoundaries.push(R)));T.allPendingTasks--,T.allPendingTasks===0&&_u(T)}function Bs(T){if(T.status!==14&&T.status!==13){var R=Cn,k=Le.H;Le.H=Lc;var j=Le.A;Le.A=Kr;var K=cr;cr=T;var ce=Df;Df=T.resumableState;try{var Se=T.pingedTasks,Ve;for(Ve=0;Ve<Se.length;Ve++){var Ge=Se[Ve],ht=T,Bt=Ge.blockedSegment;if(Bt===null){var Mt=ht;if(Ge.replay.pendingTasks!==0){Zr(Ge.context);try{if(typeof Ge.replay.slots=="number"?ho(Mt,Ge,Ge.replay.slots,Ge.node,Ge.childIndex):El(Mt,Ge),Ge.replay.pendingTasks===1&&0<Ge.replay.nodes.length)throw Error(t(488));Ge.replay.pendingTasks--,Ge.abortSet.delete(Ge),pa(Mt,Ge.blockedBoundary,null)}catch(yn){Vo();var nn=yn===ss?xl():yn;if(typeof nn=="object"&&nn!==null&&typeof nn.then=="function"){var Dn=Ge.ping;nn.then(Dn,Dn),Ge.thenableState=ks()}else{Ge.replay.pendingTasks--,Ge.abortSet.delete(Ge);var Jt=Yo(Ge.componentStack);ht=void 0;var gn=Mt,bi=Ge.blockedBoundary,xn=Mt.status===12?Mt.fatalError:nn,Yn=Ge.replay.nodes,jn=Ge.replay.slots;ht=Ga(gn,xn,Jt),xu(gn,bi,Yn,jn,xn,ht),Mt.pendingRootTasks--,Mt.pendingRootTasks===0&&Ic(Mt),Mt.allPendingTasks--,Mt.allPendingTasks===0&&_u(Mt)}}finally{}}}else if(Mt=void 0,gn=Bt,gn.status===0){gn.status=6,Zr(Ge.context);var pi=gn.children.length,Hn=gn.chunks.length;try{El(ht,Ge),fn(gn.chunks,ht.renderState,gn.lastPushedText,gn.textEmbedded),Ge.abortSet.delete(Ge),gn.status=1,pa(ht,Ge.blockedBoundary,gn)}catch(yn){Vo(),gn.children.length=pi,gn.chunks.length=Hn;var qn=yn===ss?xl():ht.status===12?ht.fatalError:yn;if(typeof qn=="object"&&qn!==null&&typeof qn.then=="function"){gn.status=0,Ge.thenableState=ks();var Wa=Ge.ping;qn.then(Wa,Wa)}else{var Ni=Yo(Ge.componentStack);Ge.abortSet.delete(Ge),gn.status=4;var Ui=Ge.blockedBoundary;Mt=Ga(ht,qn,Ni),Ui===null?Xa(ht,qn):(Ui.pendingTasks--,Ui.status!==4&&(Ui.status=4,Ui.errorDigest=Mt,jo(ht,Ui),Ui.parentFlushed&&ht.clientRenderedBoundaries.push(Ui))),ht.allPendingTasks--,ht.allPendingTasks===0&&_u(ht)}}finally{}}}Se.splice(0,Ve),T.destination!==null&&wl(T,T.destination)}catch(yn){Ga(T,yn,{}),Xa(T,yn)}finally{Df=ce,Le.H=k,Le.A=j,k===Lc&&Zr(R),cr=K}}}function os(T,R,k,j){switch(k.parentFlushed=!0,k.status){case 0:k.id=T.nextSegmentId++;case 5:return j=k.id,k.lastPushedText=!1,k.textEmbedded=!1,T=T.renderState,R.push('<template id="'),R.push(T.placeholderPrefix),T=j.toString(16),R.push(T),R.push('"></template>');case 1:k.status=2;var K=!0,ce=k.chunks,Se=0;k=k.children;for(var Ve=0;Ve<k.length;Ve++){for(K=k[Ve];Se<K.index;Se++)R.push(ce[Se]);K=Eu(T,R,K,j)}for(;Se<ce.length-1;Se++)R.push(ce[Se]);return Se<ce.length&&(K=R.push(ce[Se])),K;default:throw Error(t(390))}}function Eu(T,R,k,j){var K=k.boundary;if(K===null)return os(T,R,k,j);if(K.parentFlushed=!0,K.status===4)return T.renderState.generateStaticMarkup||(K=K.errorDigest,R.push("<!--$!-->"),R.push("<template"),K&&(R.push(' data-dgst="'),K=le(K),R.push(K),R.push('"')),R.push("></template>")),os(T,R,k,j),T=T.renderState.generateStaticMarkup?!0:R.push("<!--/$-->"),T;if(K.status!==1)return K.status===0&&(K.rootSegmentID=T.nextSegmentId++),0<K.completedSegments.length&&T.partialBoundaries.push(K),Me(R,T.renderState,K.rootSegmentID),j&&(K=K.fallbackState,K.styles.forEach(Nt,j),K.stylesheets.forEach(Ft,j)),os(T,R,k,j),R.push("<!--/$-->");if(K.byteSize>T.progressiveChunkSize)return K.rootSegmentID=T.nextSegmentId++,T.completedBoundaries.push(K),Me(R,T.renderState,K.rootSegmentID),os(T,R,k,j),R.push("<!--/$-->");if(j&&(k=K.contentState,k.styles.forEach(Nt,j),k.stylesheets.forEach(Ft,j)),T.renderState.generateStaticMarkup||R.push("<!--$-->"),k=K.completedSegments,k.length!==1)throw Error(t(391));return Eu(T,R,k[0],j),T=T.renderState.generateStaticMarkup?!0:R.push("<!--/$-->"),T}function Ko(T,R,k,j){return Dt(R,T.renderState,k.parentFormatContext,k.id),Eu(T,R,k,j),Lt(R,k.parentFormatContext)}function Tu(T,R,k){for(var j=k.completedSegments,K=0;K<j.length;K++)wu(T,R,k,j[K]);j.length=0,vr(R,k.contentState,T.renderState),j=T.resumableState,T=T.renderState,K=k.rootSegmentID,k=k.contentState;var ce=T.stylesToHoist;return T.stylesToHoist=!1,R.push(T.startInlineScript),ce?(j.instructions&2)===0?(j.instructions|=10,R.push(`$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`)):(j.instructions&8)===0?(j.instructions|=8,R.push(`$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`)):R.push('$RR("'):(j.instructions&2)===0?(j.instructions|=2,R.push('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("')):R.push('$RC("'),j=K.toString(16),R.push(T.boundaryPrefix),R.push(j),R.push('","'),R.push(T.segmentPrefix),R.push(j),ce?(R.push('",'),br(R,k)):R.push('"'),k=R.push(")<\/script>"),ln(R,T)&&k}function wu(T,R,k,j){if(j.status===2)return!0;var K=k.contentState,ce=j.id;if(ce===-1){if((j.id=k.rootSegmentID)===-1)throw Error(t(392));return Ko(T,R,j,K)}return ce===k.rootSegmentID?Ko(T,R,j,K):(Ko(T,R,j,K),k=T.resumableState,T=T.renderState,R.push(T.startInlineScript),(k.instructions&1)===0?(k.instructions|=1,R.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')):R.push('$RS("'),R.push(T.segmentPrefix),ce=ce.toString(16),R.push(ce),R.push('","'),R.push(T.placeholderPrefix),R.push(ce),R=R.push('")<\/script>'),R)}function wl(T,R){try{if(!(0<T.pendingRootTasks)){var k,j=T.completedRootSegment;if(j!==null){if(j.status===5)return;var K=T.renderState,ce=K.htmlChunks,Se=K.headChunks,Ve;if(ce){for(Ve=0;Ve<ce.length;Ve++)R.push(ce[Ve]);if(Se)for(Ve=0;Ve<Se.length;Ve++)R.push(Se[Ve]);else{var Ge=at("head");R.push(Ge),R.push(">")}}else if(Se)for(Ve=0;Ve<Se.length;Ve++)R.push(Se[Ve]);var ht=K.charsetChunks;for(Ve=0;Ve<ht.length;Ve++)R.push(ht[Ve]);ht.length=0,K.preconnects.forEach(hi,R),K.preconnects.clear();var Bt=K.viewportChunks;for(Ve=0;Ve<Bt.length;Ve++)R.push(Bt[Ve]);Bt.length=0,K.fontPreloads.forEach(hi,R),K.fontPreloads.clear(),K.highImagePreloads.forEach(hi,R),K.highImagePreloads.clear(),K.styles.forEach(Fa,R);var Mt=K.importMapChunks;for(Ve=0;Ve<Mt.length;Ve++)R.push(Mt[Ve]);Mt.length=0,K.bootstrapScripts.forEach(hi,R),K.scripts.forEach(hi,R),K.scripts.clear(),K.bulkPreloads.forEach(hi,R),K.bulkPreloads.clear();var nn=K.hoistableChunks;for(Ve=0;Ve<nn.length;Ve++)R.push(nn[Ve]);if(nn.length=0,ce&&Se===null){var Dn=gt("head");R.push(Dn)}Eu(T,R,j,null),T.completedRootSegment=null,ln(R,T.renderState)}var Jt=T.renderState;j=0;var gn=Jt.viewportChunks;for(j=0;j<gn.length;j++)R.push(gn[j]);gn.length=0,Jt.preconnects.forEach(hi,R),Jt.preconnects.clear(),Jt.fontPreloads.forEach(hi,R),Jt.fontPreloads.clear(),Jt.highImagePreloads.forEach(hi,R),Jt.highImagePreloads.clear(),Jt.styles.forEach(Ha,R),Jt.scripts.forEach(hi,R),Jt.scripts.clear(),Jt.bulkPreloads.forEach(hi,R),Jt.bulkPreloads.clear();var bi=Jt.hoistableChunks;for(j=0;j<bi.length;j++)R.push(bi[j]);bi.length=0;var xn=T.clientRenderedBoundaries;for(k=0;k<xn.length;k++){var Yn=xn[k];Jt=R;var jn=T.resumableState,pi=T.renderState,Hn=Yn.rootSegmentID,qn=Yn.errorDigest;Jt.push(pi.startInlineScript),(jn.instructions&4)===0?(jn.instructions|=4,Jt.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')):Jt.push('$RX("'),Jt.push(pi.boundaryPrefix);var Wa=Hn.toString(16);if(Jt.push(Wa),Jt.push('"'),qn){Jt.push(",");var Ni=vt(qn||"");Jt.push(Ni)}var Ui=Jt.push(")<\/script>");if(!Ui){T.destination=null,k++,xn.splice(0,k);return}}xn.splice(0,k);var yn=T.completedBoundaries;for(k=0;k<yn.length;k++)if(!Tu(T,R,yn[k])){T.destination=null,k++,yn.splice(0,k);return}yn.splice(0,k);var Pi=T.partialBoundaries;for(k=0;k<Pi.length;k++){var Qr=Pi[k];e:{xn=T,Yn=R;var Hr=Qr.completedSegments;for(Ui=0;Ui<Hr.length;Ui++)if(!wu(xn,Yn,Qr,Hr[Ui])){Ui++,Hr.splice(0,Ui);var La=!1;break e}Hr.splice(0,Ui),La=vr(Yn,Qr.contentState,xn.renderState)}if(!La){T.destination=null,k++,Pi.splice(0,k);return}}Pi.splice(0,k);var rr=T.completedBoundaries;for(k=0;k<rr.length;k++)if(!Tu(T,R,rr[k])){T.destination=null,k++,rr.splice(0,k);return}rr.splice(0,k)}}finally{T.allPendingTasks===0&&T.pingedTasks.length===0&&T.clientRenderedBoundaries.length===0&&T.completedBoundaries.length===0&&(T.flushScheduled=!1,k=T.resumableState,k.hasBody&&(Pi=gt("body"),R.push(Pi)),k.hasHtml&&(k=gt("html"),R.push(k)),T.status=14,R.push(null),T.destination=null)}}function ls(T){if(T.flushScheduled===!1&&T.pingedTasks.length===0&&T.destination!==null){T.flushScheduled=!0;var R=T.destination;R?wl(T,R):T.flushScheduled=!1}}function nc(T,R){if(T.status===13)T.status=14,R.destroy(T.fatalError);else if(T.status!==14&&T.destination===null){T.destination=R;try{wl(T,R)}catch(k){Ga(T,k,{}),Xa(T,k)}}}function Hi(T,R){(T.status===11||T.status===10)&&(T.status=12);try{var k=T.abortableTasks;if(0<k.size){var j=R===void 0?Error(t(432)):typeof R=="object"&&R!==null&&typeof R.then=="function"?Error(t(530)):R;T.fatalError=j,k.forEach(function(K){return Zo(K,T,j)}),k.clear()}T.destination!==null&&wl(T,T.destination)}catch(K){Ga(T,K,{}),Xa(T,K)}}function zc(){}function Nh(T,R,k,j){var K=!1,ce=null,Se="",Ve=!1;if(R=St(R?R.identifierPrefix:void 0),T=Nc(T,R,Ht(R,k),ut(0,null,0),1/0,zc,void 0,function(){Ve=!0},void 0,void 0,void 0),T.flushScheduled=T.destination!==null,Bs(T),T.status===10&&(T.status=11),T.trackedPostpones===null&&bu(T,T.pendingRootTasks===0),Hi(T,j),nc(T,{push:function(Ge){return Ge!==null&&(Se+=Ge),!0},destroy:function(Ge){K=!0,ce=Ge}}),K&&ce!==j)throw ce;if(!Ve)throw Error(t(426));return Se}return l0.renderToStaticMarkup=function(T,R){return Nh(T,R,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},l0.renderToString=function(T,R){return Nh(T,R,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},l0.version="19.0.0",l0}var u0={};/**
 * @license React
 * react-dom-server.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP;function kee(){if(cP)return u0;cP=1;var n=Mh(),e=fA();function t(E){var A="https://react.dev/errors/"+E;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var z=2;z<arguments.length;z++)A+="&args[]="+encodeURIComponent(arguments[z])}return"Minified React error #"+E+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.scope"),S=Symbol.for("react.debug_trace_mode"),N=Symbol.for("react.offscreen"),P=Symbol.for("react.legacy_hidden"),U=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator,H=Array.isArray;function G(E,A){var z=E.length&3,Y=E.length-z,Q=A;for(A=0;A<Y;){var ue=E.charCodeAt(A)&255|(E.charCodeAt(++A)&255)<<8|(E.charCodeAt(++A)&255)<<16|(E.charCodeAt(++A)&255)<<24;++A,ue=3432918353*(ue&65535)+((3432918353*(ue>>>16)&65535)<<16)&4294967295,ue=ue<<15|ue>>>17,ue=461845907*(ue&65535)+((461845907*(ue>>>16)&65535)<<16)&4294967295,Q^=ue,Q=Q<<13|Q>>>19,Q=5*(Q&65535)+((5*(Q>>>16)&65535)<<16)&4294967295,Q=(Q&65535)+27492+(((Q>>>16)+58964&65535)<<16)}switch(ue=0,z){case 3:ue^=(E.charCodeAt(A+2)&255)<<16;case 2:ue^=(E.charCodeAt(A+1)&255)<<8;case 1:ue^=E.charCodeAt(A)&255,ue=3432918353*(ue&65535)+((3432918353*(ue>>>16)&65535)<<16)&4294967295,ue=ue<<15|ue>>>17,Q^=461845907*(ue&65535)+((461845907*(ue>>>16)&65535)<<16)&4294967295}return Q^=E.length,Q^=Q>>>16,Q=2246822507*(Q&65535)+((2246822507*(Q>>>16)&65535)<<16)&4294967295,Q^=Q>>>13,Q=3266489909*(Q&65535)+((3266489909*(Q>>>16)&65535)<<16)&4294967295,(Q^Q>>>16)>>>0}var W=new MessageChannel,B=[];W.port1.onmessage=function(){var E=B.shift();E&&E()};function I(E){B.push(E),W.port2.postMessage(null)}function Z(E){setTimeout(function(){throw E})}var ae=Promise,se=typeof queueMicrotask=="function"?queueMicrotask:function(E){ae.resolve(null).then(E).catch(Z)},ge=null,xe=0;function ee(E,A){if(A.byteLength!==0)if(2048<A.byteLength)0<xe&&(E.enqueue(new Uint8Array(ge.buffer,0,xe)),ge=new Uint8Array(2048),xe=0),E.enqueue(A);else{var z=ge.length-xe;z<A.byteLength&&(z===0?E.enqueue(ge):(ge.set(A.subarray(0,z),xe),E.enqueue(ge),A=A.subarray(z)),ge=new Uint8Array(2048),xe=0),ge.set(A,xe),xe+=A.byteLength}}function le(E,A){return ee(E,A),!0}function ve(E){ge&&0<xe&&(E.enqueue(new Uint8Array(ge.buffer,0,xe)),ge=null,xe=0)}var pe=new TextEncoder;function F(E){return pe.encode(E)}function J(E){return pe.encode(E)}function Le(E,A){typeof E.error=="function"?E.error(A):E.close()}var te=Object.assign,Oe=Object.prototype.hasOwnProperty,tt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Te={},je={};function $e(E){return Oe.call(je,E)?!0:Oe.call(Te,E)?!1:tt.test(E)?je[E]=!0:(Te[E]=!0,!1)}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),ut=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yt=/["'&<>]/;function kt(E){if(typeof E=="boolean"||typeof E=="number"||typeof E=="bigint")return""+E;E=""+E;var A=Yt.exec(E);if(A){var z="",Y,Q=0;for(Y=A.index;Y<E.length;Y++){switch(E.charCodeAt(Y)){case 34:A="&quot;";break;case 38:A="&amp;";break;case 39:A="&#x27;";break;case 60:A="&lt;";break;case 62:A="&gt;";break;default:continue}Q!==Y&&(z+=E.slice(Q,Y)),Q=Y+1,z+=A}E=Q!==Y?z+E.slice(Q,Y):z}return E}var ye=/([A-Z])/g,ct=/^ms-/,Qe=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function et(E){return Qe.test(""+E)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":E}var Je=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ct=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},mt=Ct.d;Ct.d={f:mt.f,r:mt.r,D:xu,C:Zo,L:bu,m:Ic,X:Su,S:_u,M:pa};var Rt=[];J('"></template>');var on=J("<script>"),he=J("<\/script>"),$=J('<script src="'),Ue=J('<script type="module" src="'),me=J('" nonce="'),De=J('" integrity="'),Ie=J('" crossorigin="'),bt=J('" async=""><\/script>'),it=/(<\/|<)(s)(cript)/gi;function zt(E,A,z,Y){return""+A+(z==="s"?"\\u0073":"\\u0053")+Y}var Xt=J('<script type="importmap">'),lt=J("<\/script>");function at(E,A,z,Y,Q,ue){var _e=A===void 0?on:J('<script nonce="'+kt(A)+'">'),Ne=E.idPrefix;z=[];var Ae=E.bootstrapScriptContent,Ke=E.bootstrapScripts,dt=E.bootstrapModules;if(Ae!==void 0&&z.push(_e,F((""+Ae).replace(it,zt)),he),Ae=[],Y!==void 0&&(Ae.push(Xt),Ae.push(F((""+JSON.stringify(Y)).replace(it,zt))),Ae.push(lt)),Y=Q?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+(typeof ue=="number"?ue:2e3)}:null,Q={placeholderPrefix:J(Ne+"P:"),segmentPrefix:J(Ne+"S:"),boundaryPrefix:J(Ne+"B:"),startInlineScript:_e,htmlChunks:null,headChunks:null,externalRuntimeScript:null,bootstrapChunks:z,importMapChunks:Ae,onHeaders:Q,headers:Y,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:A,hoistableState:null,stylesToHoist:!1},Ke!==void 0)for(Y=0;Y<Ke.length;Y++){var nt=Ke[Y];Ne=_e=void 0,Ae={rel:"preload",as:"script",fetchPriority:"low",nonce:A},typeof nt=="string"?Ae.href=ue=nt:(Ae.href=ue=nt.src,Ae.integrity=Ne=typeof nt.integrity=="string"?nt.integrity:void 0,Ae.crossOrigin=_e=typeof nt=="string"||nt.crossOrigin==null?void 0:nt.crossOrigin==="use-credentials"?"use-credentials":""),nt=E;var wt=ue;nt.scriptResources[wt]=null,nt.moduleScriptResources[wt]=null,nt=[],we(nt,Ae),Q.bootstrapScripts.add(nt),z.push($,F(kt(ue))),A&&z.push(me,F(kt(A))),typeof Ne=="string"&&z.push(De,F(kt(Ne))),typeof _e=="string"&&z.push(Ie,F(kt(_e))),z.push(bt)}if(dt!==void 0)for(Ke=0;Ke<dt.length;Ke++)Ae=dt[Ke],_e=ue=void 0,Ne={rel:"modulepreload",fetchPriority:"low",nonce:A},typeof Ae=="string"?Ne.href=Y=Ae:(Ne.href=Y=Ae.src,Ne.integrity=_e=typeof Ae.integrity=="string"?Ae.integrity:void 0,Ne.crossOrigin=ue=typeof Ae=="string"||Ae.crossOrigin==null?void 0:Ae.crossOrigin==="use-credentials"?"use-credentials":""),Ae=E,nt=Y,Ae.scriptResources[nt]=null,Ae.moduleScriptResources[nt]=null,Ae=[],we(Ae,Ne),Q.bootstrapScripts.add(Ae),z.push(Ue,F(kt(Y))),A&&z.push(me,F(kt(A))),typeof _e=="string"&&z.push(De,F(kt(_e))),typeof ue=="string"&&z.push(Ie,F(kt(ue))),z.push(bt);return Q}function sn(E,A,z,Y,Q){return{idPrefix:E===void 0?"":E,nextFormID:0,streamingFormat:0,bootstrapScriptContent:z,bootstrapScripts:Y,bootstrapModules:Q,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function Et(E,A,z){return{insertionMode:E,selectedValue:A,tagScope:z}}function gt(E){return Et(E==="http://www.w3.org/2000/svg"?3:E==="http://www.w3.org/1998/Math/MathML"?4:0,null,0)}function ln(E,A,z){switch(A){case"noscript":return Et(2,null,E.tagScope|1);case"select":return Et(2,z.value!=null?z.value:z.defaultValue,E.tagScope);case"svg":return Et(3,null,E.tagScope);case"picture":return Et(2,null,E.tagScope|2);case"math":return Et(4,null,E.tagScope);case"foreignObject":return Et(2,null,E.tagScope);case"table":return Et(5,null,E.tagScope);case"thead":case"tbody":case"tfoot":return Et(6,null,E.tagScope);case"colgroup":return Et(8,null,E.tagScope);case"tr":return Et(7,null,E.tagScope)}return 5<=E.insertionMode?Et(2,null,E.tagScope):E.insertionMode===0?Et(A==="html"?1:2,null,E.tagScope):E.insertionMode===1?Et(2,null,E.tagScope):E}var Me=J("<!-- -->");function Dt(E,A,z,Y){return A===""?Y:(Y&&E.push(Me),E.push(F(kt(A))),!0)}var Lt=new Map,Zt=J(' style="'),vt=J(":"),ft=J(";");function Wt(E,A){if(typeof A!="object")throw Error(t(62));var z=!0,Y;for(Y in A)if(Oe.call(A,Y)){var Q=A[Y];if(Q!=null&&typeof Q!="boolean"&&Q!==""){if(Y.indexOf("--")===0){var ue=F(kt(Y));Q=F(kt((""+Q).trim()))}else ue=Lt.get(Y),ue===void 0&&(ue=J(kt(Y.replace(ye,"-$1").toLowerCase().replace(ct,"-ms-"))),Lt.set(Y,ue)),Q=typeof Q=="number"?Q===0||St.has(Y)?F(""+Q):F(Q+"px"):F(kt((""+Q).trim()));z?(z=!1,E.push(Zt,ue,vt,Q)):E.push(ft,ue,vt,Q)}}z||E.push(bn)}var $t=J(" "),Sn=J('="'),bn=J('"'),ca=J('=""');function vr(E,A,z){z&&typeof z!="function"&&typeof z!="symbol"&&E.push($t,F(A),ca)}function hi(E,A,z){typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&E.push($t,F(A),Sn,F(kt(z)),bn)}var xr=J(kt("javascript:throw new Error('React form unexpectedly submitted.')")),Ho=J('<input type="hidden"');function Fa(E,A){this.push(Ho),au(E),hi(this,"name",A),hi(this,"value",E),this.push(Oa)}function au(E){if(typeof E!="string")throw Error(t(480))}function Ha(E,A){if(typeof A.$$FORM_ACTION=="function"){var z=E.nextFormID++;E=E.idPrefix+z;try{var Y=A.$$FORM_ACTION(E);if(Y){var Q=Y.data;Q!=null&&Q.forEach(au)}return Y}catch(ue){if(typeof ue=="object"&&ue!==null&&typeof ue.then=="function")throw ue}}return null}function br(E,A,z,Y,Q,ue,_e,Ne){var Ae=null;if(typeof Y=="function"){var Ke=Ha(A,Y);Ke!==null?(Ne=Ke.name,Y=Ke.action||"",Q=Ke.encType,ue=Ke.method,_e=Ke.target,Ae=Ke.data):(E.push($t,F("formAction"),Sn,xr,bn),_e=ue=Q=Y=Ne=null,lo(A,z))}return Ne!=null&&mn(E,"name",Ne),Y!=null&&mn(E,"formAction",Y),Q!=null&&mn(E,"formEncType",Q),ue!=null&&mn(E,"formMethod",ue),_e!=null&&mn(E,"formTarget",_e),Ae}function mn(E,A,z){switch(A){case"className":hi(E,"class",z);break;case"tabIndex":hi(E,"tabindex",z);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(E,A,z);break;case"style":Wt(E,z);break;case"src":case"href":if(z==="")break;case"action":case"formAction":if(z==null||typeof z=="function"||typeof z=="symbol"||typeof z=="boolean")break;z=et(""+z),E.push($t,F(A),Sn,F(kt(z)),bn);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":vr(E,A.toLowerCase(),z);break;case"xlinkHref":if(typeof z=="function"||typeof z=="symbol"||typeof z=="boolean")break;z=et(""+z),E.push($t,F("xlink:href"),Sn,F(kt(z)),bn);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof z!="function"&&typeof z!="symbol"&&E.push($t,F(A),Sn,F(kt(z)),bn);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":z&&typeof z!="function"&&typeof z!="symbol"&&E.push($t,F(A),ca);break;case"capture":case"download":z===!0?E.push($t,F(A),ca):z!==!1&&typeof z!="function"&&typeof z!="symbol"&&E.push($t,F(A),Sn,F(kt(z)),bn);break;case"cols":case"rows":case"size":case"span":typeof z!="function"&&typeof z!="symbol"&&!isNaN(z)&&1<=z&&E.push($t,F(A),Sn,F(kt(z)),bn);break;case"rowSpan":case"start":typeof z=="function"||typeof z=="symbol"||isNaN(z)||E.push($t,F(A),Sn,F(kt(z)),bn);break;case"xlinkActuate":hi(E,"xlink:actuate",z);break;case"xlinkArcrole":hi(E,"xlink:arcrole",z);break;case"xlinkRole":hi(E,"xlink:role",z);break;case"xlinkShow":hi(E,"xlink:show",z);break;case"xlinkTitle":hi(E,"xlink:title",z);break;case"xlinkType":hi(E,"xlink:type",z);break;case"xmlBase":hi(E,"xml:base",z);break;case"xmlLang":hi(E,"xml:lang",z);break;case"xmlSpace":hi(E,"xml:space",z);break;default:if((!(2<A.length)||A[0]!=="o"&&A[0]!=="O"||A[1]!=="n"&&A[1]!=="N")&&(A=ut.get(A)||A,$e(A))){switch(typeof z){case"function":case"symbol":return;case"boolean":var Y=A.toLowerCase().slice(0,5);if(Y!=="data-"&&Y!=="aria-")return}E.push($t,F(A),Sn,F(kt(z)),bn)}}}var pn=J(">"),Oa=J("/>");function Br(E,A,z){if(A!=null){if(z!=null)throw Error(t(60));if(typeof A!="object"||!("__html"in A))throw Error(t(61));A=A.__html,A!=null&&E.push(F(""+A))}}function Mf(E){var A="";return n.Children.forEach(E,function(z){z!=null&&(A+=z)}),A}var Yu=J(' selected=""'),Af=J(`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`);function lo(E,A){(E.instructions&16)===0&&(E.instructions|=16,A.bootstrapChunks.unshift(A.startInlineScript,Af,he))}var su=J("<!--F!-->"),ne=J("<!--F-->");function we(E,A){E.push(Gt("link"));for(var z in A)if(Oe.call(A,z)){var Y=A[z];if(Y!=null)switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:mn(E,z,Y)}}return E.push(Oa),null}var Be=/(<\/|<)(s)(tyle)/gi;function We(E,A,z,Y){return""+A+(z==="s"?"\\73 ":"\\53 ")+Y}function Ce(E,A,z){E.push(Gt(z));for(var Y in A)if(Oe.call(A,Y)){var Q=A[Y];if(Q!=null)switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,z));default:mn(E,Y,Q)}}return E.push(Oa),null}function _t(E,A){E.push(Gt("title"));var z=null,Y=null,Q;for(Q in A)if(Oe.call(A,Q)){var ue=A[Q];if(ue!=null)switch(Q){case"children":z=ue;break;case"dangerouslySetInnerHTML":Y=ue;break;default:mn(E,Q,ue)}}return E.push(pn),A=Array.isArray(z)?2>z.length?z[0]:null:z,typeof A!="function"&&typeof A!="symbol"&&A!==null&&A!==void 0&&E.push(F(kt(""+A))),Br(E,Y,z),E.push(Cn("title")),null}function Nt(E,A){E.push(Gt("script"));var z=null,Y=null,Q;for(Q in A)if(Oe.call(A,Q)){var ue=A[Q];if(ue!=null)switch(Q){case"children":z=ue;break;case"dangerouslySetInnerHTML":Y=ue;break;default:mn(E,Q,ue)}}return E.push(pn),Br(E,Y,z),typeof z=="string"&&E.push(F((""+z).replace(it,zt))),E.push(Cn("script")),null}function Ft(E,A,z){E.push(Gt(z));var Y=z=null,Q;for(Q in A)if(Oe.call(A,Q)){var ue=A[Q];if(ue!=null)switch(Q){case"children":z=ue;break;case"dangerouslySetInnerHTML":Y=ue;break;default:mn(E,Q,ue)}}return E.push(pn),Br(E,Y,z),typeof z=="string"?(E.push(F(kt(z))),null):z}var Ht=J(`
`),rn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,fn=new Map;function Gt(E){var A=fn.get(E);if(A===void 0){if(!rn.test(E))throw Error(t(65,E));A=J("<"+E),fn.set(E,A)}return A}var Nn=J("<!DOCTYPE html>");function ni(E,A,z,Y,Q,ue,_e,Ne,Ae){switch(A){case"div":case"span":case"svg":case"path":break;case"a":E.push(Gt("a"));var Ke=null,dt=null,nt;for(nt in z)if(Oe.call(z,nt)){var wt=z[nt];if(wt!=null)switch(nt){case"children":Ke=wt;break;case"dangerouslySetInnerHTML":dt=wt;break;case"href":wt===""?hi(E,"href",""):mn(E,nt,wt);break;default:mn(E,nt,wt)}}if(E.push(pn),Br(E,dt,Ke),typeof Ke=="string"){E.push(F(kt(Ke)));var Ut=null}else Ut=Ke;return Ut;case"g":case"p":case"li":break;case"select":E.push(Gt("select"));var Vt=null,en=null,Kt;for(Kt in z)if(Oe.call(z,Kt)){var ki=z[Kt];if(ki!=null)switch(Kt){case"children":Vt=ki;break;case"dangerouslySetInnerHTML":en=ki;break;case"defaultValue":case"value":break;default:mn(E,Kt,ki)}}return E.push(pn),Br(E,en,Vt),Vt;case"option":var ar=_e.selectedValue;E.push(Gt("option"));var Ci=null,Bi=null,Mr=null,Ia=null,Fn;for(Fn in z)if(Oe.call(z,Fn)){var _i=z[Fn];if(_i!=null)switch(Fn){case"children":Ci=_i;break;case"selected":Mr=_i;break;case"dangerouslySetInnerHTML":Ia=_i;break;case"value":Bi=_i;default:mn(E,Fn,_i)}}if(ar!=null){var Ir=Bi!==null?""+Bi:Mf(Ci);if(H(ar)){for(var Ka=0;Ka<ar.length;Ka++)if(""+ar[Ka]===Ir){E.push(Yu);break}}else""+ar===Ir&&E.push(Yu)}else Mr&&E.push(Yu);return E.push(pn),Br(E,Ia,Ci),Ci;case"textarea":E.push(Gt("textarea"));var Qa=null,Zp=null,rc=null,Cu;for(Cu in z)if(Oe.call(z,Cu)){var ac=z[Cu];if(ac!=null)switch(Cu){case"children":rc=ac;break;case"value":Qa=ac;break;case"defaultValue":Zp=ac;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:mn(E,Cu,ac)}}if(Qa===null&&Zp!==null&&(Qa=Zp),E.push(pn),rc!=null){if(Qa!=null)throw Error(t(92));if(H(rc)){if(1<rc.length)throw Error(t(93));Qa=""+rc[0]}Qa=""+rc}return typeof Qa=="string"&&Qa[0]===`
`&&E.push(Ht),Qa!==null&&E.push(F(kt(""+Qa))),null;case"input":E.push(Gt("input"));var xa=null,Ar=null,Ih=null,zf=null,Bc=null,qs=null,Gi=null,Zs=null,Ja=null,sc;for(sc in z)if(Oe.call(z,sc)){var To=z[sc];if(To!=null)switch(sc){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"name":xa=To;break;case"formAction":Ar=To;break;case"formEncType":Ih=To;break;case"formMethod":zf=To;break;case"formTarget":Bc=To;break;case"defaultChecked":Ja=To;break;case"defaultValue":Gi=To;break;case"checked":Zs=To;break;case"value":qs=To;break;default:mn(E,sc,To)}}var $a=br(E,Y,Q,Ar,Ih,zf,Bc,xa);return Zs!==null?vr(E,"checked",Zs):Ja!==null&&vr(E,"checked",Ja),qs!==null?mn(E,"value",qs):Gi!==null&&mn(E,"value",Gi),E.push(Oa),$a!=null&&$a.forEach(Fa,E),null;case"button":E.push(Gt("button"));var wo=null,Kp=null,Qp=null,Jp=null,Nd=null,Ud=null,Ag=null,Fc;for(Fc in z)if(Oe.call(z,Fc)){var Dl=z[Fc];if(Dl!=null)switch(Fc){case"children":wo=Dl;break;case"dangerouslySetInnerHTML":Kp=Dl;break;case"name":Qp=Dl;break;case"formAction":Jp=Dl;break;case"formEncType":Nd=Dl;break;case"formMethod":Ud=Dl;break;case"formTarget":Ag=Dl;break;default:mn(E,Fc,Dl)}}var oc=br(E,Y,Q,Jp,Nd,Ud,Ag,Qp);if(E.push(pn),oc!=null&&oc.forEach(Fa,E),Br(E,Kp,wo),typeof wo=="string"){E.push(F(kt(wo)));var Ol=null}else Ol=wo;return Ol;case"form":E.push(Gt("form"));var kf=null,$p=null,lc=null,Pl=null,Bf=null,zh=null,Ff;for(Ff in z)if(Oe.call(z,Ff)){var za=z[Ff];if(za!=null)switch(Ff){case"children":kf=za;break;case"dangerouslySetInnerHTML":$p=za;break;case"action":lc=za;break;case"encType":Pl=za;break;case"method":Bf=za;break;case"target":zh=za;break;default:mn(E,Ff,za)}}var Id=null,Hf=null;if(typeof lc=="function"){var Ll=Ha(Y,lc);Ll!==null?(lc=Ll.action||"",Pl=Ll.encType,Bf=Ll.method,zh=Ll.target,Id=Ll.data,Hf=Ll.name):(E.push($t,F("action"),Sn,xr,bn),zh=Bf=Pl=lc=null,lo(Y,Q))}if(lc!=null&&mn(E,"action",lc),Pl!=null&&mn(E,"encType",Pl),Bf!=null&&mn(E,"method",Bf),zh!=null&&mn(E,"target",zh),E.push(pn),Hf!==null&&(E.push(Ho),hi(E,"name",Hf),E.push(Oa),Id!=null&&Id.forEach(Fa,E)),Br(E,$p,kf),typeof kf=="string"){E.push(F(kt(kf)));var em=null}else em=kf;return em;case"menuitem":E.push(Gt("menuitem"));for(var Vf in z)if(Oe.call(z,Vf)){var tm=z[Vf];if(tm!=null)switch(Vf){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:mn(E,Vf,tm)}}return E.push(pn),null;case"object":E.push(Gt("object"));var Gf=null,nm=null,Xf;for(Xf in z)if(Oe.call(z,Xf)){var Hc=z[Xf];if(Hc!=null)switch(Xf){case"children":Gf=Hc;break;case"dangerouslySetInnerHTML":nm=Hc;break;case"data":var im=et(""+Hc);if(im==="")break;E.push($t,F("data"),Sn,F(kt(im)),bn);break;default:mn(E,Xf,Hc)}}if(E.push(pn),Br(E,nm,Gf),typeof Gf=="string"){E.push(F(kt(Gf)));var rm=null}else rm=Gf;return rm;case"title":if(_e.insertionMode===3||_e.tagScope&1||z.itemProp!=null)var Wf=_t(E,z);else Ae?Wf=null:(_t(Q.hoistableChunks,z),Wf=void 0);return Wf;case"link":var Cg=z.rel,Ru=z.href,zd=z.precedence;if(_e.insertionMode===3||_e.tagScope&1||z.itemProp!=null||typeof Cg!="string"||typeof Ru!="string"||Ru===""){we(E,z);var Vc=null}else if(z.rel==="stylesheet")if(typeof zd!="string"||z.disabled!=null||z.onLoad||z.onError)Vc=we(E,z);else{var Gc=Q.styles.get(zd),kh=Y.styleResources.hasOwnProperty(Ru)?Y.styleResources[Ru]:void 0;if(kh!==null){Y.styleResources[Ru]=null,Gc||(Gc={precedence:F(kt(zd)),rules:[],hrefs:[],sheets:new Map},Q.styles.set(zd,Gc));var Xc={state:0,props:te({},z,{"data-precedence":z.precedence,precedence:null})};if(kh){kh.length===2&&Bs(Xc.props,kh);var Bh=Q.preloads.stylesheets.get(Ru);Bh&&0<Bh.length?Bh.length=0:Xc.state=1}Gc.sheets.set(Ru,Xc),ue&&ue.stylesheets.add(Xc)}else if(Gc){var am=Gc.sheets.get(Ru);am&&ue&&ue.stylesheets.add(am)}Ne&&E.push(Me),Vc=null}else z.onLoad||z.onError?Vc=we(E,z):(Ne&&E.push(Me),Vc=Ae?null:we(Q.hoistableChunks,z));return Vc;case"script":var kd=z.async;if(typeof z.src!="string"||!z.src||!kd||typeof kd=="function"||typeof kd=="symbol"||z.onLoad||z.onError||_e.insertionMode===3||_e.tagScope&1||z.itemProp!=null)var sm=Nt(E,z);else{var Yf=z.src;if(z.type==="module")var Nl=Y.moduleScriptResources,jf=Q.preloads.moduleScripts;else Nl=Y.scriptResources,jf=Q.preloads.scripts;var Wc=Nl.hasOwnProperty(Yf)?Nl[Yf]:void 0;if(Wc!==null){Nl[Yf]=null;var Bd=z;if(Wc){Wc.length===2&&(Bd=te({},z),Bs(Bd,Wc));var om=jf.get(Yf);om&&(om.length=0)}var tl=[];Q.scripts.add(tl),Nt(tl,Bd)}Ne&&E.push(Me),sm=null}return sm;case"style":var nl=z.precedence,ms=z.href;if(_e.insertionMode===3||_e.tagScope&1||z.itemProp!=null||typeof nl!="string"||typeof ms!="string"||ms===""){E.push(Gt("style"));var Mo=null,Fd=null,Yc;for(Yc in z)if(Oe.call(z,Yc)){var Fh=z[Yc];if(Fh!=null)switch(Yc){case"children":Mo=Fh;break;case"dangerouslySetInnerHTML":Fd=Fh;break;default:mn(E,Yc,Fh)}}E.push(pn);var qf=Array.isArray(Mo)?2>Mo.length?Mo[0]:null:Mo;typeof qf!="function"&&typeof qf!="symbol"&&qf!==null&&qf!==void 0&&E.push(F((""+qf).replace(Be,We))),Br(E,Fd,Mo),E.push(Cn("style"));var uc=null}else{var Ul=Q.styles.get(nl);if((Y.styleResources.hasOwnProperty(ms)?Y.styleResources[ms]:void 0)!==null){Y.styleResources[ms]=null,Ul?Ul.hrefs.push(F(kt(ms))):(Ul={precedence:F(kt(nl)),rules:[],hrefs:[F(kt(ms))],sheets:new Map},Q.styles.set(nl,Ul));var lm=Ul.rules,jc=null,um=null,qc;for(qc in z)if(Oe.call(z,qc)){var Hd=z[qc];if(Hd!=null)switch(qc){case"children":jc=Hd;break;case"dangerouslySetInnerHTML":um=Hd}}var Zc=Array.isArray(jc)?2>jc.length?jc[0]:null:jc;typeof Zc!="function"&&typeof Zc!="symbol"&&Zc!==null&&Zc!==void 0&&lm.push(F((""+Zc).replace(Be,We))),Br(lm,um,jc)}Ul&&ue&&ue.styles.add(Ul),Ne&&E.push(Me),uc=void 0}return uc;case"meta":if(_e.insertionMode===3||_e.tagScope&1||z.itemProp!=null)var Vd=Ce(E,z,"meta");else Ne&&E.push(Me),Vd=Ae?null:typeof z.charSet=="string"?Ce(Q.charsetChunks,z,"meta"):z.name==="viewport"?Ce(Q.viewportChunks,z,"meta"):Ce(Q.hoistableChunks,z,"meta");return Vd;case"listing":case"pre":E.push(Gt(A));var Zf=null,Hh=null,ka;for(ka in z)if(Oe.call(z,ka)){var Cr=z[ka];if(Cr!=null)switch(ka){case"children":Zf=Cr;break;case"dangerouslySetInnerHTML":Hh=Cr;break;default:mn(E,ka,Cr)}}if(E.push(pn),Hh!=null){if(Zf!=null)throw Error(t(60));if(typeof Hh!="object"||!("__html"in Hh))throw Error(t(61));var $i=Hh.__html;$i!=null&&(typeof $i=="string"&&0<$i.length&&$i[0]===`
`?E.push(Ht,F($i)):E.push(F(""+$i)))}return typeof Zf=="string"&&Zf[0]===`
`&&E.push(Ht),Zf;case"img":var ba=z.src,$r=z.srcSet;if(!(z.loading==="lazy"||!ba&&!$r||typeof ba!="string"&&ba!=null||typeof $r!="string"&&$r!=null)&&z.fetchPriority!=="low"&&!(_e.tagScope&3)&&(typeof ba!="string"||ba[4]!==":"||ba[0]!=="d"&&ba[0]!=="D"||ba[1]!=="a"&&ba[1]!=="A"||ba[2]!=="t"&&ba[2]!=="T"||ba[3]!=="a"&&ba[3]!=="A")&&(typeof $r!="string"||$r[4]!==":"||$r[0]!=="d"&&$r[0]!=="D"||$r[1]!=="a"&&$r[1]!=="A"||$r[2]!=="t"&&$r[2]!=="T"||$r[3]!=="a"&&$r[3]!=="A")){var Gd=typeof z.sizes=="string"?z.sizes:void 0,Kc=$r?$r+`
`+(Gd||""):ba,Vh=Q.preloads.images,Ao=Vh.get(Kc);if(Ao)(z.fetchPriority==="high"||10>Q.highImagePreloads.size)&&(Vh.delete(Kc),Q.highImagePreloads.add(Ao));else if(!Y.imageResources.hasOwnProperty(Kc)){Y.imageResources[Kc]=Rt;var Gh=z.crossOrigin,cm=typeof Gh=="string"?Gh==="use-credentials"?Gh:"":void 0,cc=Q.headers,Xh;cc&&0<cc.remainingCapacity&&(z.fetchPriority==="high"||500>cc.highImagePreloads.length)&&(Xh=os(ba,"image",{imageSrcSet:z.srcSet,imageSizes:z.sizes,crossOrigin:cm,integrity:z.integrity,nonce:z.nonce,type:z.type,fetchPriority:z.fetchPriority,referrerPolicy:z.refererPolicy}),0<=(cc.remainingCapacity-=Xh.length+2))?(Q.resets.image[Kc]=Rt,cc.highImagePreloads&&(cc.highImagePreloads+=", "),cc.highImagePreloads+=Xh):(Ao=[],we(Ao,{rel:"preload",as:"image",href:$r?void 0:ba,imageSrcSet:$r,imageSizes:Gd,crossOrigin:cm,integrity:z.integrity,type:z.type,fetchPriority:z.fetchPriority,referrerPolicy:z.referrerPolicy}),z.fetchPriority==="high"||10>Q.highImagePreloads.size?Q.highImagePreloads.add(Ao):(Q.bulkPreloads.add(Ao),Vh.set(Kc,Ao)))}}return Ce(E,z,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return Ce(E,z,A);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>_e.insertionMode&&Q.headChunks===null){Q.headChunks=[];var Xd=Ft(Q.headChunks,z,"head")}else Xd=Ft(E,z,"head");return Xd;case"html":if(_e.insertionMode===0&&Q.htmlChunks===null){Q.htmlChunks=[Nn];var ea=Ft(Q.htmlChunks,z,"html")}else ea=Ft(E,z,"html");return ea;default:if(A.indexOf("-")!==-1){E.push(Gt(A));var Kf=null,fm=null,fc;for(fc in z)if(Oe.call(z,fc)){var Ks=z[fc];if(Ks!=null){var Wh=fc;switch(fc){case"children":Kf=Ks;break;case"dangerouslySetInnerHTML":fm=Ks;break;case"style":Wt(E,Ks);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":Wh="class";default:if($e(fc)&&typeof Ks!="function"&&typeof Ks!="symbol"&&Ks!==!1){if(Ks===!0)Ks="";else if(typeof Ks=="object")continue;E.push($t,F(Wh),Sn,F(kt(Ks)),bn)}}}}return E.push(pn),Br(E,fm,Kf),Kf}}return Ft(E,z,A)}var di=new Map;function Cn(E){var A=di.get(E);return A===void 0&&(A=J("</"+E+">"),di.set(E,A)),A}function Rn(E,A){A=A.bootstrapChunks;for(var z=0;z<A.length-1;z++)ee(E,A[z]);return z<A.length?(z=A[z],A.length=0,le(E,z)):!0}var Qt=J('<template id="'),wi=J('"></template>'),Wn=J("<!--$-->"),_r=J('<!--$?--><template id="'),Zr=J('"></template>'),ur=J("<!--$!-->"),vl=J("<!--/$-->"),Bn=J("<template"),Sr=J('"'),fa=J(' data-dgst="');J(' data-msg="'),J(' data-stck="'),J(' data-cstck="');var Er=J("></template>");function ir(E,A,z){if(ee(E,_r),z===null)throw Error(t(395));return ee(E,A.boundaryPrefix),ee(E,F(z.toString(16))),le(E,Zr)}var ss=J('<div hidden id="'),Fr=J('">'),ou=J("</div>"),lu=J('<svg aria-hidden="true" style="display:none" id="'),xl=J('">'),Ph=J("</svg>"),Pc=J('<math aria-hidden="true" style="display:none" id="'),uo=J('">'),Cf=J("</math>"),uu=J('<table hidden id="'),ju=J('">'),bl=J("</table>"),oi=J('<table hidden><tbody id="'),Is=J('">'),cu=J("</tbody></table>"),_l=J('<table hidden><tr id="'),fu=J('">'),co=J("</tr></table>"),Sl=J('<table hidden><colgroup id="'),zs=J('">'),ha=J("</colgroup></table>");function qu(E,A,z,Y){switch(z.insertionMode){case 0:case 1:case 2:return ee(E,ss),ee(E,A.segmentPrefix),ee(E,F(Y.toString(16))),le(E,Fr);case 3:return ee(E,lu),ee(E,A.segmentPrefix),ee(E,F(Y.toString(16))),le(E,xl);case 4:return ee(E,Pc),ee(E,A.segmentPrefix),ee(E,F(Y.toString(16))),le(E,uo);case 5:return ee(E,uu),ee(E,A.segmentPrefix),ee(E,F(Y.toString(16))),le(E,ju);case 6:return ee(E,oi),ee(E,A.segmentPrefix),ee(E,F(Y.toString(16))),le(E,Is);case 7:return ee(E,_l),ee(E,A.segmentPrefix),ee(E,F(Y.toString(16))),le(E,fu);case 8:return ee(E,Sl),ee(E,A.segmentPrefix),ee(E,F(Y.toString(16))),le(E,zs);default:throw Error(t(397))}}function Ss(E,A){switch(A.insertionMode){case 0:case 1:case 2:return le(E,ou);case 3:return le(E,Ph);case 4:return le(E,Cf);case 5:return le(E,bl);case 6:return le(E,cu);case 7:return le(E,co);case 8:return le(E,ha);default:throw Error(t(397))}}var Rf=J('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),fo=J('$RS("'),ks=J('","'),Vo=J('")<\/script>');J('<template data-rsi="" data-sid="'),J('" data-pid="');var da=J('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("'),Go=J('$RC("'),hu=J(`$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`),Zu=J(`$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`),Od=J('$RR("'),Xo=J('","'),du=J('",'),pu=J('"'),Ku=J(")<\/script>");J('<template data-rci="" data-bid="'),J('<template data-rri="" data-bid="'),J('" data-sid="'),J('" data-sty="');var mu=J('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),Lc=J('$RX("'),Df=J('"'),Kr=J(","),Qu=J(")<\/script>");J('<template data-rxi="" data-bid="'),J('" data-dgst="'),J('" data-msg="'),J('" data-stck="'),J('" data-cstck="');var Lh=/[<\u2028\u2029]/g;function gu(E){return JSON.stringify(E).replace(Lh,function(A){switch(A){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Of=/[&><\u2028\u2029]/g;function Wo(E){return JSON.stringify(E).replace(Of,function(A){switch(A){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Ju=J('<style media="not all" data-precedence="'),Pf=J('" data-href="'),yu=J('">'),Pd=J("</style>"),Nc=!1,cr=!0;function $u(E){var A=E.rules,z=E.hrefs,Y=0;if(z.length){for(ee(this,Ju),ee(this,E.precedence),ee(this,Pf);Y<z.length-1;Y++)ee(this,z[Y]),ee(this,Xa);for(ee(this,z[Y]),ee(this,yu),Y=0;Y<A.length;Y++)ee(this,A[Y]);cr=le(this,Pd),Nc=!0,A.length=0,z.length=0}}function Lf(E){return E.state!==2?Nc=!0:!1}function vu(E,A,z){return Nc=!1,cr=!0,A.styles.forEach($u,E),A.stylesheets.forEach(Lf),Nc&&(z.stylesToHoist=!0),cr}function Va(E){for(var A=0;A<E.length;A++)ee(this,E[A]);E.length=0}var Pa=[];function ec(E){we(Pa,E.props);for(var A=0;A<Pa.length;A++)ee(this,Pa[A]);Pa.length=0,E.state=2}var Yo=J('<style data-precedence="'),Ga=J('" data-href="'),Xa=J(" "),Nf=J('">'),Ld=J("</style>");function Uc(E){var A=0<E.sheets.size;E.sheets.forEach(ec,this),E.sheets.clear();var z=E.rules,Y=E.hrefs;if(!A||Y.length){if(ee(this,Yo),ee(this,E.precedence),E=0,Y.length){for(ee(this,Ga);E<Y.length-1;E++)ee(this,Y[E]),ee(this,Xa);ee(this,Y[E])}for(ee(this,Nf),E=0;E<z.length;E++)ee(this,z[E]);ee(this,Ld),z.length=0,Y.length=0}}function ho(E){if(E.state===0){E.state=1;var A=E.props;for(we(Pa,{rel:"preload",as:"style",href:E.props.href,crossOrigin:A.crossOrigin,fetchPriority:A.fetchPriority,integrity:A.integrity,media:A.media,hrefLang:A.hrefLang,referrerPolicy:A.referrerPolicy}),E=0;E<Pa.length;E++)ee(this,Pa[E]);Pa.length=0}}function Tr(E){E.sheets.forEach(ho,this),E.sheets.clear()}var El=J("["),po=J(",["),jo=J(","),Tl=J("]");function qo(E,A){ee(E,El);var z=El;A.stylesheets.forEach(function(Y){if(Y.state!==2)if(Y.state===3)ee(E,z),ee(E,F(Wo(""+Y.props.href))),ee(E,Tl),z=po;else{ee(E,z);var Q=Y.props["data-precedence"],ue=Y.props,_e=et(""+Y.props.href);ee(E,F(Wo(_e))),Q=""+Q,ee(E,jo),ee(E,F(Wo(Q)));for(var Ne in ue)if(Oe.call(ue,Ne)&&(Q=ue[Ne],Q!=null))switch(Ne){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:Mi(E,Ne,Q)}ee(E,Tl),z=po,Y.state=3}}),ee(E,Tl)}function Mi(E,A,z){var Y=A.toLowerCase();switch(typeof z){case"function":case"symbol":return}switch(A){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":Y="class",A=""+z;break;case"hidden":if(z===!1)return;A="";break;case"src":case"href":z=et(z),A=""+z;break;default:if(2<A.length&&(A[0]==="o"||A[0]==="O")&&(A[1]==="n"||A[1]==="N")||!$e(A))return;A=""+z}ee(E,jo),ee(E,F(Wo(Y))),ee(E,jo),ee(E,F(Wo(A)))}function tc(){return{styles:new Set,stylesheets:new Set}}function xu(E){var A=Vi||null;if(A){var z=A.resumableState,Y=A.renderState;if(typeof E=="string"&&E){if(!z.dnsResources.hasOwnProperty(E)){z.dnsResources[E]=null,z=Y.headers;var Q,ue;(ue=z&&0<z.remainingCapacity)&&(ue=(Q="<"+(""+E).replace(Eu,Ko)+">; rel=dns-prefetch",0<=(z.remainingCapacity-=Q.length+2))),ue?(Y.resets.dns[E]=null,z.preconnects&&(z.preconnects+=", "),z.preconnects+=Q):(Q=[],we(Q,{href:E,rel:"dns-prefetch"}),Y.preconnects.add(Q))}zi(A)}}else mt.D(E)}function Zo(E,A){var z=Vi||null;if(z){var Y=z.resumableState,Q=z.renderState;if(typeof E=="string"&&E){var ue=A==="use-credentials"?"credentials":typeof A=="string"?"anonymous":"default";if(!Y.connectResources[ue].hasOwnProperty(E)){Y.connectResources[ue][E]=null,Y=Q.headers;var _e,Ne;if(Ne=Y&&0<Y.remainingCapacity){if(Ne="<"+(""+E).replace(Eu,Ko)+">; rel=preconnect",typeof A=="string"){var Ae=(""+A).replace(Tu,wu);Ne+='; crossorigin="'+Ae+'"'}Ne=(_e=Ne,0<=(Y.remainingCapacity-=_e.length+2))}Ne?(Q.resets.connect[ue][E]=null,Y.preconnects&&(Y.preconnects+=", "),Y.preconnects+=_e):(ue=[],we(ue,{rel:"preconnect",href:E,crossOrigin:A}),Q.preconnects.add(ue))}zi(z)}}else mt.C(E,A)}function bu(E,A,z){var Y=Vi||null;if(Y){var Q=Y.resumableState,ue=Y.renderState;if(A&&E){switch(A){case"image":if(z)var _e=z.imageSrcSet,Ne=z.imageSizes,Ae=z.fetchPriority;var Ke=_e?_e+`
`+(Ne||""):E;if(Q.imageResources.hasOwnProperty(Ke))return;Q.imageResources[Ke]=Rt,Q=ue.headers;var dt;Q&&0<Q.remainingCapacity&&Ae==="high"&&(dt=os(E,A,z),0<=(Q.remainingCapacity-=dt.length+2))?(ue.resets.image[Ke]=Rt,Q.highImagePreloads&&(Q.highImagePreloads+=", "),Q.highImagePreloads+=dt):(Q=[],we(Q,te({rel:"preload",href:_e?void 0:E,as:A},z)),Ae==="high"?ue.highImagePreloads.add(Q):(ue.bulkPreloads.add(Q),ue.preloads.images.set(Ke,Q)));break;case"style":if(Q.styleResources.hasOwnProperty(E))return;_e=[],we(_e,te({rel:"preload",href:E,as:A},z)),Q.styleResources[E]=!z||typeof z.crossOrigin!="string"&&typeof z.integrity!="string"?Rt:[z.crossOrigin,z.integrity],ue.preloads.stylesheets.set(E,_e),ue.bulkPreloads.add(_e);break;case"script":if(Q.scriptResources.hasOwnProperty(E))return;_e=[],ue.preloads.scripts.set(E,_e),ue.bulkPreloads.add(_e),we(_e,te({rel:"preload",href:E,as:A},z)),Q.scriptResources[E]=!z||typeof z.crossOrigin!="string"&&typeof z.integrity!="string"?Rt:[z.crossOrigin,z.integrity];break;default:if(Q.unknownResources.hasOwnProperty(A)){if(_e=Q.unknownResources[A],_e.hasOwnProperty(E))return}else _e={},Q.unknownResources[A]=_e;if(_e[E]=Rt,(Q=ue.headers)&&0<Q.remainingCapacity&&A==="font"&&(Ke=os(E,A,z),0<=(Q.remainingCapacity-=Ke.length+2)))ue.resets.font[E]=Rt,Q.fontPreloads&&(Q.fontPreloads+=", "),Q.fontPreloads+=Ke;else switch(Q=[],E=te({rel:"preload",href:E,as:A},z),we(Q,E),A){case"font":ue.fontPreloads.add(Q);break;default:ue.bulkPreloads.add(Q)}}zi(Y)}}else mt.L(E,A,z)}function Ic(E,A){var z=Vi||null;if(z){var Y=z.resumableState,Q=z.renderState;if(E){var ue=A&&typeof A.as=="string"?A.as:"script";switch(ue){case"script":if(Y.moduleScriptResources.hasOwnProperty(E))return;ue=[],Y.moduleScriptResources[E]=!A||typeof A.crossOrigin!="string"&&typeof A.integrity!="string"?Rt:[A.crossOrigin,A.integrity],Q.preloads.moduleScripts.set(E,ue);break;default:if(Y.moduleUnknownResources.hasOwnProperty(ue)){var _e=Y.unknownResources[ue];if(_e.hasOwnProperty(E))return}else _e={},Y.moduleUnknownResources[ue]=_e;ue=[],_e[E]=Rt}we(ue,te({rel:"modulepreload",href:E},A)),Q.bulkPreloads.add(ue),zi(z)}}else mt.m(E,A)}function _u(E,A,z){var Y=Vi||null;if(Y){var Q=Y.resumableState,ue=Y.renderState;if(E){A=A||"default";var _e=ue.styles.get(A),Ne=Q.styleResources.hasOwnProperty(E)?Q.styleResources[E]:void 0;Ne!==null&&(Q.styleResources[E]=null,_e||(_e={precedence:F(kt(A)),rules:[],hrefs:[],sheets:new Map},ue.styles.set(A,_e)),A={state:0,props:te({rel:"stylesheet",href:E,"data-precedence":A},z)},Ne&&(Ne.length===2&&Bs(A.props,Ne),(ue=ue.preloads.stylesheets.get(E))&&0<ue.length?ue.length=0:A.state=1),_e.sheets.set(E,A),zi(Y))}}else mt.S(E,A,z)}function Su(E,A){var z=Vi||null;if(z){var Y=z.resumableState,Q=z.renderState;if(E){var ue=Y.scriptResources.hasOwnProperty(E)?Y.scriptResources[E]:void 0;ue!==null&&(Y.scriptResources[E]=null,A=te({src:E,async:!0},A),ue&&(ue.length===2&&Bs(A,ue),E=Q.preloads.scripts.get(E))&&(E.length=0),E=[],Q.scripts.add(E),Nt(E,A),zi(z))}}else mt.X(E,A)}function pa(E,A){var z=Vi||null;if(z){var Y=z.resumableState,Q=z.renderState;if(E){var ue=Y.moduleScriptResources.hasOwnProperty(E)?Y.moduleScriptResources[E]:void 0;ue!==null&&(Y.moduleScriptResources[E]=null,A=te({src:E,type:"module",async:!0},A),ue&&(ue.length===2&&Bs(A,ue),E=Q.preloads.moduleScripts.get(E))&&(E.length=0),E=[],Q.scripts.add(E),Nt(E,A),zi(z))}}else mt.M(E,A)}function Bs(E,A){E.crossOrigin==null&&(E.crossOrigin=A[0]),E.integrity==null&&(E.integrity=A[1])}function os(E,A,z){E=(""+E).replace(Eu,Ko),A=(""+A).replace(Tu,wu),A="<"+E+'>; rel=preload; as="'+A+'"';for(var Y in z)Oe.call(z,Y)&&(E=z[Y],typeof E=="string"&&(A+="; "+Y.toLowerCase()+'="'+(""+E).replace(Tu,wu)+'"'));return A}var Eu=/[<>\r\n]/g;function Ko(E){switch(E){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var Tu=/["';,\r\n]/g;function wu(E){switch(E){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function wl(E){this.styles.add(E)}function ls(E){this.stylesheets.add(E)}var nc=Function.prototype.bind,Hi=Symbol.for("react.client.reference");function zc(E){if(E==null)return null;if(typeof E=="function")return E.$$typeof===Hi?null:E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case a:return"Fragment";case r:return"Portal";case l:return"Profiler";case s:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if(typeof E=="object")switch(E.$$typeof){case p:return(E.displayName||"Context")+".Provider";case f:return(E._context.displayName||"Context")+".Consumer";case g:var A=E.render;return E=E.displayName,E||(E=A.displayName||A.name||"",E=E!==""?"ForwardRef("+E+")":"ForwardRef"),E;case _:return A=E.displayName||null,A!==null?A:zc(E.type)||"Memo";case D:A=E._payload,E=E._init;try{return zc(E(A))}catch{}}return null}var Nh={},T=null;function R(E,A){if(E!==A){E.context._currentValue=E.parentValue,E=E.parent;var z=A.parent;if(E===null){if(z!==null)throw Error(t(401))}else{if(z===null)throw Error(t(401));R(E,z)}A.context._currentValue=A.value}}function k(E){E.context._currentValue=E.parentValue,E=E.parent,E!==null&&k(E)}function j(E){var A=E.parent;A!==null&&j(A),E.context._currentValue=E.value}function K(E,A){if(E.context._currentValue=E.parentValue,E=E.parent,E===null)throw Error(t(402));E.depth===A.depth?R(E,A):K(E,A)}function ce(E,A){var z=A.parent;if(z===null)throw Error(t(402));E.depth===z.depth?R(E,z):ce(E,z),A.context._currentValue=A.value}function Se(E){var A=T;A!==E&&(A===null?j(E):E===null?k(A):A.depth===E.depth?R(A,E):A.depth>E.depth?K(A,E):ce(A,E),T=E)}var Ve={isMounted:function(){return!1},enqueueSetState:function(E,A){E=E._reactInternals,E.queue!==null&&E.queue.push(A)},enqueueReplaceState:function(E,A){E=E._reactInternals,E.replace=!0,E.queue=[A]},enqueueForceUpdate:function(){}},Ge={id:1,overflow:""};function ht(E,A,z){var Y=E.id;E=E.overflow;var Q=32-Bt(Y)-1;Y&=~(1<<Q),z+=1;var ue=32-Bt(A)+Q;if(30<ue){var _e=Q-Q%5;return ue=(Y&(1<<_e)-1).toString(32),Y>>=_e,Q-=_e,{id:1<<32-Bt(A)+Q|z<<Q|Y,overflow:ue+E}}return{id:1<<ue|z<<Q|Y,overflow:E}}var Bt=Math.clz32?Math.clz32:Dn,Mt=Math.log,nn=Math.LN2;function Dn(E){return E>>>=0,E===0?32:31-(Mt(E)/nn|0)|0}var Jt=Error(t(460));function gn(){}function bi(E,A,z){switch(z=E[z],z===void 0?E.push(A):z!==A&&(A.then(gn,gn),A=z),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(gn,gn):(E=A,E.status="pending",E.then(function(Y){if(A.status==="pending"){var Q=A;Q.status="fulfilled",Q.value=Y}},function(Y){if(A.status==="pending"){var Q=A;Q.status="rejected",Q.reason=Y}})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}throw xn=A,Jt}}var xn=null;function Yn(){if(xn===null)throw Error(t(459));var E=xn;return xn=null,E}function jn(E,A){return E===A&&(E!==0||1/E===1/A)||E!==E&&A!==A}var pi=typeof Object.is=="function"?Object.is:jn,Hn=null,qn=null,Wa=null,Ni=null,Ui=null,yn=null,Pi=!1,Qr=!1,Hr=0,La=0,rr=-1,ma=0,Zi=null,Vr=null,us=0;function Ya(){if(Hn===null)throw Error(t(321));return Hn}function Ml(){if(0<us)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Fs(){return yn===null?Ui===null?(Pi=!1,Ui=yn=Ml()):(Pi=!0,yn=Ui):yn.next===null?(Pi=!1,yn=yn.next=Ml()):(Pi=!0,yn=yn.next),yn}function ga(){var E=Zi;return Zi=null,E}function Hs(){Ni=Wa=qn=Hn=null,Qr=!1,Ui=null,us=0,yn=Vr=null}function mo(E,A){return typeof A=="function"?A(E):A}function Lr(E,A,z){if(Hn=Ya(),yn=Fs(),Pi){var Y=yn.queue;if(A=Y.dispatch,Vr!==null&&(z=Vr.get(Y),z!==void 0)){Vr.delete(Y),Y=yn.memoizedState;do Y=E(Y,z.action),z=z.next;while(z!==null);return yn.memoizedState=Y,[Y,A]}return[yn.memoizedState,A]}return E=E===mo?typeof A=="function"?A():A:z!==void 0?z(A):A,yn.memoizedState=E,E=yn.queue={last:null,dispatch:null},E=E.dispatch=Gr.bind(null,Hn,E),[yn.memoizedState,E]}function ic(E,A){if(Hn=Ya(),yn=Fs(),A=A===void 0?null:A,yn!==null){var z=yn.memoizedState;if(z!==null&&A!==null){var Y=z[1];e:if(Y===null)Y=!1;else{for(var Q=0;Q<Y.length&&Q<A.length;Q++)if(!pi(A[Q],Y[Q])){Y=!1;break e}Y=!0}if(Y)return z[0]}}return E=E(),yn.memoizedState=[E,A],E}function Gr(E,A,z){if(25<=us)throw Error(t(301));if(E===Hn)if(Qr=!0,E={action:z,next:null},Vr===null&&(Vr=new Map),z=Vr.get(A),z===void 0)Vr.set(A,E);else{for(A=z;A.next!==null;)A=A.next;A.next=E}}function Al(){throw Error(t(394))}function Qo(){throw Error(t(479))}function Xr(E,A,z){Ya();var Y=La++,Q=Wa;if(typeof E.$$FORM_ACTION=="function"){var ue=null,_e=Ni;Q=Q.formState;var Ne=E.$$IS_SIGNATURE_EQUAL;if(Q!==null&&typeof Ne=="function"){var Ae=Q[1];Ne.call(E,Q[2],Q[3])&&(ue=z!==void 0?"p"+z:"k"+G(JSON.stringify([_e,null,Y]),0),Ae===ue&&(rr=Y,A=Q[0]))}var Ke=E.bind(null,A);return E=function(nt){Ke(nt)},typeof Ke.$$FORM_ACTION=="function"&&(E.$$FORM_ACTION=function(nt){nt=Ke.$$FORM_ACTION(nt),z!==void 0&&(z+="",nt.action=z);var wt=nt.data;return wt&&(ue===null&&(ue=z!==void 0?"p"+z:"k"+G(JSON.stringify([_e,null,Y]),0)),wt.append("$ACTION_KEY",ue)),nt}),[A,E,!1]}var dt=E.bind(null,A);return[A,function(nt){dt(nt)},!1]}function Mu(E){var A=ma;return ma+=1,Zi===null&&(Zi=[]),bi(Zi,E,A)}function Ai(){throw Error(t(393))}function Wr(){}var ya={readContext:function(E){return E._currentValue},use:function(E){if(E!==null&&typeof E=="object"){if(typeof E.then=="function")return Mu(E);if(E.$$typeof===p)return E._currentValue}throw Error(t(438,String(E)))},useContext:function(E){return Ya(),E._currentValue},useMemo:ic,useReducer:Lr,useRef:function(E){Hn=Ya(),yn=Fs();var A=yn.memoizedState;return A===null?(E={current:E},yn.memoizedState=E):A},useState:function(E){return Lr(mo,E)},useInsertionEffect:Wr,useLayoutEffect:Wr,useCallback:function(E,A){return ic(function(){return E},A)},useImperativeHandle:Wr,useEffect:Wr,useDebugValue:Wr,useDeferredValue:function(E,A){return Ya(),A!==void 0?A:E},useTransition:function(){return Ya(),[!1,Al]},useId:function(){var E=qn.treeContext,A=E.overflow;E=E.id,E=(E&~(1<<32-Bt(E)-1)).toString(32)+A;var z=fr;if(z===null)throw Error(t(404));return A=Hr++,E=":"+z.idPrefix+"R"+E,0<A&&(E+="H"+A.toString(32)),E+":"},useSyncExternalStore:function(E,A,z){if(z===void 0)throw Error(t(407));return z()},useCacheRefresh:function(){return Ai},useMemoCache:function(E){for(var A=Array(E),z=0;z<E;z++)A[z]=U;return A},useHostTransitionStatus:function(){return Ya(),yt},useOptimistic:function(E){return Ya(),[E,Qo]}};ya.useFormState=Xr,ya.useActionState=Xr;var fr=null,go={getCacheForType:function(){throw Error(t(248))}},Yr,Cl;function Vs(E){if(Yr===void 0)try{throw Error()}catch(z){var A=z.stack.trim().match(/\n( *(at )?)/);Yr=A&&A[1]||"",Cl=-1<z.stack.indexOf(`
    at`)?" (<anonymous>)":-1<z.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+E+Cl}var va=!1;function Ki(E,A){if(!E||va)return"";va=!0;var z=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Y={DetermineComponentFrameRoot:function(){try{if(A){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Ut){var wt=Ut}Reflect.construct(E,[],nt)}else{try{nt.call()}catch(Ut){wt=Ut}E.call(nt.prototype)}}else{try{throw Error()}catch(Ut){wt=Ut}(nt=E())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Ut){if(Ut&&wt&&typeof Ut.stack=="string")return[Ut.stack,wt.stack]}return[null,null]}};Y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Q=Object.getOwnPropertyDescriptor(Y.DetermineComponentFrameRoot,"name");Q&&Q.configurable&&Object.defineProperty(Y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ue=Y.DetermineComponentFrameRoot(),_e=ue[0],Ne=ue[1];if(_e&&Ne){var Ae=_e.split(`
`),Ke=Ne.split(`
`);for(Q=Y=0;Y<Ae.length&&!Ae[Y].includes("DetermineComponentFrameRoot");)Y++;for(;Q<Ke.length&&!Ke[Q].includes("DetermineComponentFrameRoot");)Q++;if(Y===Ae.length||Q===Ke.length)for(Y=Ae.length-1,Q=Ke.length-1;1<=Y&&0<=Q&&Ae[Y]!==Ke[Q];)Q--;for(;1<=Y&&0<=Q;Y--,Q--)if(Ae[Y]!==Ke[Q]){if(Y!==1||Q!==1)do if(Y--,Q--,0>Q||Ae[Y]!==Ke[Q]){var dt=`
`+Ae[Y].replace(" at new "," at ");return E.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",E.displayName)),dt}while(1<=Y&&0<=Q);break}}}finally{va=!1,Error.prepareStackTrace=z}return(z=E?E.displayName||E.name:"")?Vs(z):""}function Qi(E){if(typeof E=="string")return Vs(E);if(typeof E=="function")return E.prototype&&E.prototype.isReactComponent?(E=Ki(E,!0),E):Ki(E,!1);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case g:return Ki(E.render,!1);case _:return Ki(E.type,!1);case D:var A=E,z=A._payload;A=A._init;try{E=A(z)}catch{return Vs("Lazy")}return Qi(E)}if(typeof E.name=="string")return z=E.env,Vs(E.name+(z?" ["+z+"]":""))}switch(E){case v:return Vs("SuspenseList");case y:return Vs("Suspense")}return""}function Gn(E){if(typeof E=="object"&&E!==null&&typeof E.environmentName=="string"){var A=E.environmentName;E=[E].slice(0),typeof E[0]=="string"?E.splice(0,1,"%c%s%c "+E[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+A+" ",""):E.splice(0,0,"%c%s%c ","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+A+" ",""),E.unshift(console),A=nc.apply(console.error,E),A()}else console.error(E);return null}function hr(){}function Nr(E,A,z,Y,Q,ue,_e,Ne,Ae,Ke,dt){var nt=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=E,this.renderState=A,this.rootFormatContext=z,this.progressiveChunkSize=Y===void 0?12800:Y,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedRootSegment=null,this.abortableTasks=nt,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=Q===void 0?Gn:Q,this.onPostpone=Ke===void 0?hr:Ke,this.onAllReady=ue===void 0?hr:ue,this.onShellReady=_e===void 0?hr:_e,this.onShellError=Ne===void 0?hr:Ne,this.onFatalError=Ae===void 0?hr:Ae,this.formState=dt===void 0?null:dt}function Rl(E,A,z,Y,Q,ue,_e,Ne,Ae,Ke,dt,nt){return A=new Nr(A,z,Y,Q,ue,_e,Ne,Ae,Ke,dt,nt),z=cs(A,0,null,Y,!1,!1),z.parentFlushed=!0,E=yo(A,null,E,-1,null,z,null,A.abortableTasks,null,Y,null,Ge,null,!1),Xs(E),A.pingedTasks.push(E),A}function Jo(E,A,z,Y,Q,ue,_e,Ne,Ae,Ke,dt){return E=Rl(E,A,z,Y,Q,ue,_e,Ne,Ae,Ke,dt,void 0),E.trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},E}var Vi=null;function Uf(E,A){E.pingedTasks.push(A),E.pingedTasks.length===1&&(E.flushScheduled=E.destination!==null,E.trackedPostpones!==null||E.status===10?se(function(){return Za(E)}):I(function(){return Za(E)}))}function Gs(E,A){return{status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,completedSegments:[],byteSize:0,fallbackAbortableTasks:A,errorDigest:null,contentState:tc(),fallbackState:tc(),trackedContentKeyPath:null,trackedFallbackNode:null}}function yo(E,A,z,Y,Q,ue,_e,Ne,Ae,Ke,dt,nt,wt,Ut){E.allPendingTasks++,Q===null?E.pendingRootTasks++:Q.pendingTasks++;var Vt={replay:null,node:z,childIndex:Y,ping:function(){return Uf(E,Vt)},blockedBoundary:Q,blockedSegment:ue,hoistableState:_e,abortSet:Ne,keyPath:Ae,formatContext:Ke,context:dt,treeContext:nt,componentStack:wt,thenableState:A,isFallback:Ut};return Ne.add(Vt),Vt}function Na(E,A,z,Y,Q,ue,_e,Ne,Ae,Ke,dt,nt,wt,Ut){E.allPendingTasks++,ue===null?E.pendingRootTasks++:ue.pendingTasks++,z.pendingTasks++;var Vt={replay:z,node:Y,childIndex:Q,ping:function(){return Uf(E,Vt)},blockedBoundary:ue,blockedSegment:null,hoistableState:_e,abortSet:Ne,keyPath:Ae,formatContext:Ke,context:dt,treeContext:nt,componentStack:wt,thenableState:A,isFallback:Ut};return Ne.add(Vt),Vt}function cs(E,A,z,Y,Q,ue){return{status:0,id:-1,index:A,parentFlushed:!1,chunks:[],children:[],parentFormatContext:Y,boundary:z,lastPushedText:Q,textEmbedded:ue}}function Xs(E){var A=E.node;if(typeof A=="object"&&A!==null)switch(A.$$typeof){case i:E.componentStack={parent:E.componentStack,type:A.type}}}function ja(E){var A={};return E&&Object.defineProperty(A,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var z="",Y=E;do z+=Qi(Y.type),Y=Y.parent;while(Y);var Q=z}catch(ue){Q=`
Error generating stack: `+ue.message+`
`+ue.stack}return Object.defineProperty(A,"componentStack",{value:Q}),Q}}),A}function Ua(E,A,z){if(E=E.onError,A=E(A,z),A==null||typeof A=="string")return A}function vo(E,A){var z=E.onShellError,Y=E.onFatalError;z(A),Y(A),E.destination!==null?(E.status=14,Le(E.destination,A)):(E.status=13,E.fatalError=A)}function Ws(E,A,z,Y,Q,ue){var _e=A.thenableState;for(A.thenableState=null,Hn={},qn=A,Wa=E,Ni=z,La=Hr=0,rr=-1,ma=0,Zi=_e,E=Y(Q,ue);Qr;)Qr=!1,La=Hr=0,rr=-1,ma=0,us+=1,yn=null,E=Y(Q,ue);return Hs(),E}function Au(E,A,z,Y,Q,ue,_e){var Ne=!1;if(ue!==0&&E.formState!==null){var Ae=A.blockedSegment;if(Ae!==null){Ne=!0,Ae=Ae.chunks;for(var Ke=0;Ke<ue;Ke++)Ke===_e?Ae.push(su):Ae.push(ne)}}ue=A.keyPath,A.keyPath=z,Q?(z=A.treeContext,A.treeContext=ht(z,1,0),dr(E,A,Y,-1),A.treeContext=z):Ne?dr(E,A,Y,-1):wr(E,A,Y,-1),A.keyPath=ue}function Un(E,A,z,Y,Q,ue){if(typeof Y=="function")if(Y.prototype&&Y.prototype.isReactComponent){var _e=Q;if("ref"in Q){_e={};for(var Ne in Q)Ne!=="ref"&&(_e[Ne]=Q[Ne])}var Ae=Y.defaultProps;if(Ae){_e===Q&&(_e=te({},_e,Q));for(var Ke in Ae)_e[Ke]===void 0&&(_e[Ke]=Ae[Ke])}Q=_e,_e=Nh,Ae=Y.contextType,typeof Ae=="object"&&Ae!==null&&(_e=Ae._currentValue),_e=new Y(Q,_e);var dt=_e.state!==void 0?_e.state:null;if(_e.updater=Ve,_e.props=Q,_e.state=dt,Ae={queue:[],replace:!1},_e._reactInternals=Ae,ue=Y.contextType,_e.context=typeof ue=="object"&&ue!==null?ue._currentValue:Nh,ue=Y.getDerivedStateFromProps,typeof ue=="function"&&(ue=ue(Q,dt),dt=ue==null?dt:te({},dt,ue),_e.state=dt),typeof Y.getDerivedStateFromProps!="function"&&typeof _e.getSnapshotBeforeUpdate!="function"&&(typeof _e.UNSAFE_componentWillMount=="function"||typeof _e.componentWillMount=="function"))if(Y=_e.state,typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount(),Y!==_e.state&&Ve.enqueueReplaceState(_e,_e.state,null),Ae.queue!==null&&0<Ae.queue.length)if(Y=Ae.queue,ue=Ae.replace,Ae.queue=null,Ae.replace=!1,ue&&Y.length===1)_e.state=Y[0];else{for(Ae=ue?Y[0]:_e.state,dt=!0,ue=ue?1:0;ue<Y.length;ue++)Ke=Y[ue],Ke=typeof Ke=="function"?Ke.call(_e,Ae,Q,void 0):Ke,Ke!=null&&(dt?(dt=!1,Ae=te({},Ae,Ke)):te(Ae,Ke));_e.state=Ae}else Ae.queue=null;if(Y=_e.render(),E.status===12)throw null;Q=A.keyPath,A.keyPath=z,wr(E,A,Y,-1),A.keyPath=Q}else{if(Y=Ws(E,A,z,Y,Q,void 0),E.status===12)throw null;Au(E,A,z,Y,Hr!==0,La,rr)}else if(typeof Y=="string")if(_e=A.blockedSegment,_e===null)_e=Q.children,Ae=A.formatContext,dt=A.keyPath,A.formatContext=ln(Ae,Y,Q),A.keyPath=z,dr(E,A,_e,-1),A.formatContext=Ae,A.keyPath=dt;else{dt=ni(_e.chunks,Y,Q,E.resumableState,E.renderState,A.hoistableState,A.formatContext,_e.lastPushedText,A.isFallback),_e.lastPushedText=!1,Ae=A.formatContext,ue=A.keyPath,A.formatContext=ln(Ae,Y,Q),A.keyPath=z,dr(E,A,dt,-1),A.formatContext=Ae,A.keyPath=ue;e:{switch(A=_e.chunks,E=E.resumableState,Y){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=Ae.insertionMode){E.hasBody=!0;break e}break;case"html":if(Ae.insertionMode===0){E.hasHtml=!0;break e}}A.push(Cn(Y))}_e.lastPushedText=!1}else{switch(Y){case P:case S:case s:case l:case a:Y=A.keyPath,A.keyPath=z,wr(E,A,Q.children,-1),A.keyPath=Y;return;case N:Q.mode!=="hidden"&&(Y=A.keyPath,A.keyPath=z,wr(E,A,Q.children,-1),A.keyPath=Y);return;case v:Y=A.keyPath,A.keyPath=z,wr(E,A,Q.children,-1),A.keyPath=Y;return;case M:throw Error(t(343));case y:e:if(A.replay!==null){Y=A.keyPath,A.keyPath=z,z=Q.children;try{dr(E,A,z,-1)}finally{A.keyPath=Y}}else{Y=A.keyPath;var nt=A.blockedBoundary,wt=A.hoistableState;ue=A.blockedSegment,Ke=Q.fallback,Q=Q.children;var Ut=new Set;Ne=Gs(E,Ut),E.trackedPostpones!==null&&(Ne.trackedContentKeyPath=z);var Vt=cs(E,ue.chunks.length,Ne,A.formatContext,!1,!1);ue.children.push(Vt),ue.lastPushedText=!1;var en=cs(E,0,null,A.formatContext,!1,!1);if(en.parentFlushed=!0,E.trackedPostpones!==null){_e=[z[0],"Suspense Fallback",z[2]],Ae=[_e[1],_e[2],[],null],E.trackedPostpones.workingMap.set(_e,Ae),Ne.trackedFallbackNode=Ae,A.blockedSegment=Vt,A.keyPath=_e,Vt.status=6;try{dr(E,A,Ke,-1),Vt.lastPushedText&&Vt.textEmbedded&&Vt.chunks.push(Me),Vt.status=1}catch(Kt){throw Vt.status=E.status===12?3:4,Kt}finally{A.blockedSegment=ue,A.keyPath=Y}A=yo(E,null,Q,-1,Ne,en,Ne.contentState,A.abortSet,z,A.formatContext,A.context,A.treeContext,A.componentStack,A.isFallback),Xs(A),E.pingedTasks.push(A)}else{A.blockedBoundary=Ne,A.hoistableState=Ne.contentState,A.blockedSegment=en,A.keyPath=z,en.status=6;try{if(dr(E,A,Q,-1),en.lastPushedText&&en.textEmbedded&&en.chunks.push(Me),en.status=1,Ur(Ne,en),Ne.pendingTasks===0&&Ne.status===0){Ne.status=1;break e}}catch(Kt){Ne.status=4,E.status===12?(en.status=3,_e=E.fatalError):(en.status=4,_e=Kt),Ae=ja(A.componentStack),dt=Ua(E,_e,Ae),Ne.errorDigest=dt,$o(E,Ne)}finally{A.blockedBoundary=nt,A.hoistableState=wt,A.blockedSegment=ue,A.keyPath=Y}A=yo(E,null,Ke,-1,nt,Vt,Ne.fallbackState,Ut,[z[0],"Suspense Fallback",z[2]],A.formatContext,A.context,A.treeContext,A.componentStack,!0),Xs(A),E.pingedTasks.push(A)}}return}if(typeof Y=="object"&&Y!==null)switch(Y.$$typeof){case g:if("ref"in Q)for(Vt in _e={},Q)Vt!=="ref"&&(_e[Vt]=Q[Vt]);else _e=Q;Y=Ws(E,A,z,Y.render,_e,ue),Au(E,A,z,Y,Hr!==0,La,rr);return;case _:Un(E,A,z,Y.type,Q,ue);return;case c:case p:if(Ae=Q.children,_e=A.keyPath,Q=Q.value,dt=Y._currentValue,Y._currentValue=Q,ue=T,T=Y={parent:ue,depth:ue===null?0:ue.depth+1,context:Y,parentValue:dt,value:Q},A.context=Y,A.keyPath=z,wr(E,A,Ae,-1),E=T,E===null)throw Error(t(403));E.context._currentValue=E.parentValue,E=T=E.parent,A.context=E,A.keyPath=_e;return;case f:Q=Q.children,Y=Q(Y._context._currentValue),Q=A.keyPath,A.keyPath=z,wr(E,A,Y,-1),A.keyPath=Q;return;case D:if(_e=Y._init,Y=_e(Y._payload),E.status===12)throw null;Un(E,A,z,Y,Q,ue);return}throw Error(t(130,Y==null?Y:typeof Y,""))}}function fs(E,A,z,Y,Q){var ue=A.replay,_e=A.blockedBoundary,Ne=cs(E,0,null,A.formatContext,!1,!1);Ne.id=z,Ne.parentFlushed=!0;try{A.replay=null,A.blockedSegment=Ne,dr(E,A,Y,Q),Ne.status=1,_e===null?E.completedRootSegment=Ne:(Ur(_e,Ne),_e.parentFlushed&&E.partialBoundaries.push(_e))}finally{A.replay=ue,A.blockedSegment=null}}function wr(E,A,z,Y){A.replay!==null&&typeof A.replay.slots=="number"?fs(E,A,A.replay.slots,z,Y):(A.node=z,A.childIndex=Y,z=A.componentStack,Xs(A),Es(E,A),A.componentStack=z)}function Es(E,A){var z=A.node,Y=A.childIndex;if(z!==null){if(typeof z=="object"){switch(z.$$typeof){case i:var Q=z.type,ue=z.key,_e=z.props;z=_e.ref;var Ne=z!==void 0?z:null,Ae=zc(Q),Ke=ue??(Y===-1?0:Y);if(ue=[A.keyPath,Ae,Ke],A.replay!==null)e:{var dt=A.replay;for(Y=dt.nodes,z=0;z<Y.length;z++){var nt=Y[z];if(Ke===nt[1]){if(nt.length===4){if(Ae!==null&&Ae!==nt[0])throw Error(t(490,nt[0],Ae));var wt=nt[2];Ae=nt[3],Ke=A.node,A.replay={nodes:wt,slots:Ae,pendingTasks:1};try{if(Un(E,A,ue,Q,_e,Ne),A.replay.pendingTasks===1&&0<A.replay.nodes.length)throw Error(t(488));A.replay.pendingTasks--}catch(Bi){if(typeof Bi=="object"&&Bi!==null&&(Bi===Jt||typeof Bi.then=="function"))throw A.node===Ke&&(A.replay=dt),Bi;A.replay.pendingTasks--,_e=ja(A.componentStack),ue=A.blockedBoundary,Q=Bi,_e=Ua(E,Q,_e),qa(E,ue,wt,Ae,Q,_e)}A.replay=dt}else{if(Q!==y)throw Error(t(490,"Suspense",zc(Q)||"Unknown"));t:{dt=void 0,Q=nt[5],Ne=nt[2],Ae=nt[3],Ke=nt[4]===null?[]:nt[4][2],nt=nt[4]===null?null:nt[4][3];var Ut=A.keyPath,Vt=A.replay,en=A.blockedBoundary,Kt=A.hoistableState,ki=_e.children;_e=_e.fallback;var ar=new Set,Ci=Gs(E,ar);Ci.parentFlushed=!0,Ci.rootSegmentID=Q,A.blockedBoundary=Ci,A.hoistableState=Ci.contentState,A.keyPath=ue,A.replay={nodes:Ne,slots:Ae,pendingTasks:1};try{if(dr(E,A,ki,-1),A.replay.pendingTasks===1&&0<A.replay.nodes.length)throw Error(t(488));if(A.replay.pendingTasks--,Ci.pendingTasks===0&&Ci.status===0){Ci.status=1,E.completedBoundaries.push(Ci);break t}}catch(Bi){Ci.status=4,wt=ja(A.componentStack),dt=Ua(E,Bi,wt),Ci.errorDigest=dt,A.replay.pendingTasks--,E.clientRenderedBoundaries.push(Ci)}finally{A.blockedBoundary=en,A.hoistableState=Kt,A.replay=Vt,A.keyPath=Ut}A=Na(E,null,{nodes:Ke,slots:nt,pendingTasks:0},_e,-1,en,Ci.fallbackState,ar,[ue[0],"Suspense Fallback",ue[2]],A.formatContext,A.context,A.treeContext,A.componentStack,!0),Xs(A),E.pingedTasks.push(A)}}Y.splice(z,1);break e}}}else Un(E,A,ue,Q,_e,Ne);return;case r:throw Error(t(257));case D:if(wt=z._init,z=wt(z._payload),E.status===12)throw null;wr(E,A,z,Y);return}if(H(z)){xo(E,A,z,Y);return}if(z===null||typeof z!="object"?wt=null:(wt=X&&z[X]||z["@@iterator"],wt=typeof wt=="function"?wt:null),wt&&(wt=wt.call(z))){if(z=wt.next(),!z.done){_e=[];do _e.push(z.value),z=wt.next();while(!z.done);xo(E,A,_e,Y)}return}if(typeof z.then=="function")return A.thenableState=null,wr(E,A,Mu(z),Y);if(z.$$typeof===p)return wr(E,A,z._currentValue,Y);throw Y=Object.prototype.toString.call(z),Error(t(31,Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y))}typeof z=="string"?(Y=A.blockedSegment,Y!==null&&(Y.lastPushedText=Dt(Y.chunks,z,E.renderState,Y.lastPushedText))):(typeof z=="number"||typeof z=="bigint")&&(Y=A.blockedSegment,Y!==null&&(Y.lastPushedText=Dt(Y.chunks,""+z,E.renderState,Y.lastPushedText)))}}function xo(E,A,z,Y){var Q=A.keyPath;if(Y!==-1&&(A.keyPath=[A.keyPath,"Fragment",Y],A.replay!==null)){for(var ue=A.replay,_e=ue.nodes,Ne=0;Ne<_e.length;Ne++){var Ae=_e[Ne];if(Ae[1]===Y){Y=Ae[2],Ae=Ae[3],A.replay={nodes:Y,slots:Ae,pendingTasks:1};try{if(xo(E,A,z,-1),A.replay.pendingTasks===1&&0<A.replay.nodes.length)throw Error(t(488));A.replay.pendingTasks--}catch(nt){if(typeof nt=="object"&&nt!==null&&(nt===Jt||typeof nt.then=="function"))throw nt;A.replay.pendingTasks--,z=ja(A.componentStack);var Ke=A.blockedBoundary,dt=nt;z=Ua(E,dt,z),qa(E,Ke,Y,Ae,dt,z)}A.replay=ue,_e.splice(Ne,1);break}}A.keyPath=Q;return}if(ue=A.treeContext,_e=z.length,A.replay!==null&&(Ne=A.replay.slots,Ne!==null&&typeof Ne=="object")){for(Y=0;Y<_e;Y++)Ae=z[Y],A.treeContext=ht(ue,_e,Y),Ke=Ne[Y],typeof Ke=="number"?(fs(E,A,Ke,Ae,Y),delete Ne[Y]):dr(E,A,Ae,Y);A.treeContext=ue,A.keyPath=Q;return}for(Ne=0;Ne<_e;Ne++)Y=z[Ne],A.treeContext=ht(ue,_e,Ne),dr(E,A,Y,Ne);A.treeContext=ue,A.keyPath=Q}function $o(E,A){E=E.trackedPostpones,E!==null&&(A=A.trackedContentKeyPath,A!==null&&(A=E.workingMap.get(A),A!==void 0&&(A.length=4,A[2]=[],A[3]=null)))}function kc(E,A,z){return Na(E,z,A.replay,A.node,A.childIndex,A.blockedBoundary,A.hoistableState,A.abortSet,A.keyPath,A.formatContext,A.context,A.treeContext,A.componentStack,A.isFallback)}function If(E,A,z){var Y=A.blockedSegment,Q=cs(E,Y.chunks.length,null,A.formatContext,Y.lastPushedText,!0);return Y.children.push(Q),Y.lastPushedText=!1,yo(E,z,A.node,A.childIndex,A.blockedBoundary,Q,A.hoistableState,A.abortSet,A.keyPath,A.formatContext,A.context,A.treeContext,A.componentStack,A.isFallback)}function dr(E,A,z,Y){var Q=A.formatContext,ue=A.context,_e=A.keyPath,Ne=A.treeContext,Ae=A.componentStack,Ke=A.blockedSegment;if(Ke===null)try{return wr(E,A,z,Y)}catch(wt){if(Hs(),z=wt===Jt?Yn():wt,typeof z=="object"&&z!==null){if(typeof z.then=="function"){Y=ga(),E=kc(E,A,Y).ping,z.then(E,E),A.formatContext=Q,A.context=ue,A.keyPath=_e,A.treeContext=Ne,A.componentStack=Ae,Se(ue);return}if(z.message==="Maximum call stack size exceeded"){z=ga(),z=kc(E,A,z),E.pingedTasks.push(z),A.formatContext=Q,A.context=ue,A.keyPath=_e,A.treeContext=Ne,A.componentStack=Ae,Se(ue);return}}}else{var dt=Ke.children.length,nt=Ke.chunks.length;try{return wr(E,A,z,Y)}catch(wt){if(Hs(),Ke.children.length=dt,Ke.chunks.length=nt,z=wt===Jt?Yn():wt,typeof z=="object"&&z!==null){if(typeof z.then=="function"){Y=ga(),E=If(E,A,Y).ping,z.then(E,E),A.formatContext=Q,A.context=ue,A.keyPath=_e,A.treeContext=Ne,A.componentStack=Ae,Se(ue);return}if(z.message==="Maximum call stack size exceeded"){z=ga(),z=If(E,A,z),E.pingedTasks.push(z),A.formatContext=Q,A.context=ue,A.keyPath=_e,A.treeContext=Ne,A.componentStack=Ae,Se(ue);return}}}}throw A.formatContext=Q,A.context=ue,A.keyPath=_e,A.treeContext=Ne,Se(ue),z}function bo(E){var A=E.blockedBoundary;E=E.blockedSegment,E!==null&&(E.status=3,hs(this,A,E))}function qa(E,A,z,Y,Q,ue){for(var _e=0;_e<z.length;_e++){var Ne=z[_e];if(Ne.length===4)qa(E,A,Ne[2],Ne[3],Q,ue);else{Ne=Ne[5];var Ae=E,Ke=ue,dt=Gs(Ae,new Set);dt.parentFlushed=!0,dt.rootSegmentID=Ne,dt.status=4,dt.errorDigest=Ke,dt.parentFlushed&&Ae.clientRenderedBoundaries.push(dt)}}if(z.length=0,Y!==null){if(A===null)throw Error(t(487));if(A.status!==4&&(A.status=4,A.errorDigest=ue,A.parentFlushed&&E.clientRenderedBoundaries.push(A)),typeof Y=="object")for(var nt in Y)delete Y[nt]}}function Ys(E,A,z){var Y=E.blockedBoundary,Q=E.blockedSegment;if(Q!==null){if(Q.status===6)return;Q.status=3}if(Q=ja(E.componentStack),Y===null){if(A.status!==13&&A.status!==14){if(Y=E.replay,Y===null){Ua(A,z,Q),vo(A,z);return}Y.pendingTasks--,Y.pendingTasks===0&&0<Y.nodes.length&&(E=Ua(A,z,Q),qa(A,null,Y.nodes,Y.slots,z,E)),A.pendingRootTasks--,A.pendingRootTasks===0&&el(A)}}else Y.pendingTasks--,Y.status!==4&&(Y.status=4,E=Ua(A,z,Q),Y.status=4,Y.errorDigest=E,$o(A,Y),Y.parentFlushed&&A.clientRenderedBoundaries.push(Y)),Y.fallbackAbortableTasks.forEach(function(ue){return Ys(ue,A,z)}),Y.fallbackAbortableTasks.clear();A.allPendingTasks--,A.allPendingTasks===0&&_o(A)}function js(E,A){try{var z=E.renderState,Y=z.onHeaders;if(Y){var Q=z.headers;if(Q){z.headers=null;var ue=Q.preconnects;if(Q.fontPreloads&&(ue&&(ue+=", "),ue+=Q.fontPreloads),Q.highImagePreloads&&(ue&&(ue+=", "),ue+=Q.highImagePreloads),!A){var _e=z.styles.values(),Ne=_e.next();e:for(;0<Q.remainingCapacity&&!Ne.done;Ne=_e.next())for(var Ae=Ne.value.sheets.values(),Ke=Ae.next();0<Q.remainingCapacity&&!Ke.done;Ke=Ae.next()){var dt=Ke.value,nt=dt.props,wt=nt.href,Ut=dt.props,Vt=os(Ut.href,"style",{crossOrigin:Ut.crossOrigin,integrity:Ut.integrity,nonce:Ut.nonce,type:Ut.type,fetchPriority:Ut.fetchPriority,referrerPolicy:Ut.referrerPolicy,media:Ut.media});if(0<=(Q.remainingCapacity-=Vt.length+2))z.resets.style[wt]=Rt,ue&&(ue+=", "),ue+=Vt,z.resets.style[wt]=typeof nt.crossOrigin=="string"||typeof nt.integrity=="string"?[nt.crossOrigin,nt.integrity]:Rt;else break e}}Y(ue?{Link:ue}:{})}}}catch(en){Ua(E,en,{})}}function el(E){E.trackedPostpones===null&&js(E,!0),E.onShellError=hr,E=E.onShellReady,E()}function _o(E){js(E,E.trackedPostpones===null?!0:E.completedRootSegment===null||E.completedRootSegment.status!==5),E=E.onAllReady,E()}function Ur(E,A){if(A.chunks.length===0&&A.children.length===1&&A.children[0].boundary===null&&A.children[0].id===-1){var z=A.children[0];z.id=A.id,z.parentFlushed=!0,z.status===1&&Ur(E,z)}else E.completedSegments.push(A)}function hs(E,A,z){if(A===null){if(z!==null&&z.parentFlushed){if(E.completedRootSegment!==null)throw Error(t(389));E.completedRootSegment=z}E.pendingRootTasks--,E.pendingRootTasks===0&&el(E)}else A.pendingTasks--,A.status!==4&&(A.pendingTasks===0?(A.status===0&&(A.status=1),z!==null&&z.parentFlushed&&z.status===1&&Ur(A,z),A.parentFlushed&&E.completedBoundaries.push(A),A.status===1&&(A.fallbackAbortableTasks.forEach(bo,E),A.fallbackAbortableTasks.clear())):z!==null&&z.parentFlushed&&z.status===1&&(Ur(A,z),A.completedSegments.length===1&&A.parentFlushed&&E.partialBoundaries.push(A)));E.allPendingTasks--,E.allPendingTasks===0&&_o(E)}function Za(E){if(E.status!==14&&E.status!==13){var A=T,z=Je.H;Je.H=ya;var Y=Je.A;Je.A=go;var Q=Vi;Vi=E;var ue=fr;fr=E.resumableState;try{var _e=E.pingedTasks,Ne;for(Ne=0;Ne<_e.length;Ne++){var Ae=_e[Ne],Ke=E,dt=Ae.blockedSegment;if(dt===null){var nt=Ke;if(Ae.replay.pendingTasks!==0){Se(Ae.context);try{if(typeof Ae.replay.slots=="number"?fs(nt,Ae,Ae.replay.slots,Ae.node,Ae.childIndex):Es(nt,Ae),Ae.replay.pendingTasks===1&&0<Ae.replay.nodes.length)throw Error(t(488));Ae.replay.pendingTasks--,Ae.abortSet.delete(Ae),hs(nt,Ae.blockedBoundary,null)}catch(Ka){Hs();var wt=Ka===Jt?Yn():Ka;if(typeof wt=="object"&&wt!==null&&typeof wt.then=="function"){var Ut=Ae.ping;wt.then(Ut,Ut),Ae.thenableState=ga()}else{Ae.replay.pendingTasks--,Ae.abortSet.delete(Ae);var Vt=ja(Ae.componentStack);Ke=void 0;var en=nt,Kt=Ae.blockedBoundary,ki=nt.status===12?nt.fatalError:wt,ar=Ae.replay.nodes,Ci=Ae.replay.slots;Ke=Ua(en,ki,Vt),qa(en,Kt,ar,Ci,ki,Ke),nt.pendingRootTasks--,nt.pendingRootTasks===0&&el(nt),nt.allPendingTasks--,nt.allPendingTasks===0&&_o(nt)}}finally{}}}else if(nt=void 0,en=dt,en.status===0){en.status=6,Se(Ae.context);var Bi=en.children.length,Mr=en.chunks.length;try{Es(Ke,Ae),en.lastPushedText&&en.textEmbedded&&en.chunks.push(Me),Ae.abortSet.delete(Ae),en.status=1,hs(Ke,Ae.blockedBoundary,en)}catch(Ka){Hs(),en.children.length=Bi,en.chunks.length=Mr;var Ia=Ka===Jt?Yn():Ke.status===12?Ke.fatalError:Ka;if(typeof Ia=="object"&&Ia!==null&&typeof Ia.then=="function"){en.status=0,Ae.thenableState=ga();var Fn=Ae.ping;Ia.then(Fn,Fn)}else{var _i=ja(Ae.componentStack);Ae.abortSet.delete(Ae),en.status=4;var Ir=Ae.blockedBoundary;nt=Ua(Ke,Ia,_i),Ir===null?vo(Ke,Ia):(Ir.pendingTasks--,Ir.status!==4&&(Ir.status=4,Ir.errorDigest=nt,$o(Ke,Ir),Ir.parentFlushed&&Ke.clientRenderedBoundaries.push(Ir))),Ke.allPendingTasks--,Ke.allPendingTasks===0&&_o(Ke)}}finally{}}}_e.splice(0,Ne),E.destination!==null&&Mn(E,E.destination)}catch(Ka){Ua(E,Ka,{}),vo(E,Ka)}finally{fr=ue,Je.H=z,Je.A=Y,z===ya&&Se(A),Vi=Q}}}function Ts(E,A,z,Y){switch(z.parentFlushed=!0,z.status){case 0:z.id=E.nextSegmentId++;case 5:return Y=z.id,z.lastPushedText=!1,z.textEmbedded=!1,E=E.renderState,ee(A,Qt),ee(A,E.placeholderPrefix),E=F(Y.toString(16)),ee(A,E),le(A,wi);case 1:z.status=2;var Q=!0,ue=z.chunks,_e=0;z=z.children;for(var Ne=0;Ne<z.length;Ne++){for(Q=z[Ne];_e<Q.index;_e++)ee(A,ue[_e]);Q=Jr(E,A,Q,Y)}for(;_e<ue.length-1;_e++)ee(A,ue[_e]);return _e<ue.length&&(Q=le(A,ue[_e])),Q;default:throw Error(t(390))}}function Jr(E,A,z,Y){var Q=z.boundary;if(Q===null)return Ts(E,A,z,Y);if(Q.parentFlushed=!0,Q.status===4)Q=Q.errorDigest,le(A,ur),ee(A,Bn),Q&&(ee(A,fa),ee(A,F(kt(Q))),ee(A,Sr)),le(A,Er),Ts(E,A,z,Y);else if(Q.status!==1)Q.status===0&&(Q.rootSegmentID=E.nextSegmentId++),0<Q.completedSegments.length&&E.partialBoundaries.push(Q),ir(A,E.renderState,Q.rootSegmentID),Y&&(Q=Q.fallbackState,Q.styles.forEach(wl,Y),Q.stylesheets.forEach(ls,Y)),Ts(E,A,z,Y);else if(Q.byteSize>E.progressiveChunkSize)Q.rootSegmentID=E.nextSegmentId++,E.completedBoundaries.push(Q),ir(A,E.renderState,Q.rootSegmentID),Ts(E,A,z,Y);else{if(Y&&(z=Q.contentState,z.styles.forEach(wl,Y),z.stylesheets.forEach(ls,Y)),le(A,Wn),z=Q.completedSegments,z.length!==1)throw Error(t(391));Jr(E,A,z[0],Y)}return le(A,vl)}function ds(E,A,z,Y){return qu(A,E.renderState,z.parentFormatContext,z.id),Jr(E,A,z,Y),Ss(A,z.parentFormatContext)}function Ii(E,A,z){for(var Y=z.completedSegments,Q=0;Q<Y.length;Q++)So(E,A,z,Y[Q]);Y.length=0,vu(A,z.contentState,E.renderState),Y=E.resumableState,E=E.renderState,Q=z.rootSegmentID,z=z.contentState;var ue=E.stylesToHoist;return E.stylesToHoist=!1,ee(A,E.startInlineScript),ue?(Y.instructions&2)===0?(Y.instructions|=10,ee(A,hu)):(Y.instructions&8)===0?(Y.instructions|=8,ee(A,Zu)):ee(A,Od):(Y.instructions&2)===0?(Y.instructions|=2,ee(A,da)):ee(A,Go),Y=F(Q.toString(16)),ee(A,E.boundaryPrefix),ee(A,Y),ee(A,Xo),ee(A,E.segmentPrefix),ee(A,Y),ue?(ee(A,du),qo(A,z)):ee(A,pu),z=le(A,Ku),Rn(A,E)&&z}function So(E,A,z,Y){if(Y.status===2)return!0;var Q=z.contentState,ue=Y.id;if(ue===-1){if((Y.id=z.rootSegmentID)===-1)throw Error(t(392));return ds(E,A,Y,Q)}return ue===z.rootSegmentID?ds(E,A,Y,Q):(ds(E,A,Y,Q),z=E.resumableState,E=E.renderState,ee(A,E.startInlineScript),(z.instructions&1)===0?(z.instructions|=1,ee(A,Rf)):ee(A,fo),ee(A,E.segmentPrefix),ue=F(ue.toString(16)),ee(A,ue),ee(A,ks),ee(A,E.placeholderPrefix),ee(A,ue),A=le(A,Vo),A)}function Mn(E,A){ge=new Uint8Array(2048),xe=0;try{if(!(0<E.pendingRootTasks)){var z,Y=E.completedRootSegment;if(Y!==null){if(Y.status===5)return;var Q=E.renderState,ue=Q.htmlChunks,_e=Q.headChunks,Ne;if(ue){for(Ne=0;Ne<ue.length;Ne++)ee(A,ue[Ne]);if(_e)for(Ne=0;Ne<_e.length;Ne++)ee(A,_e[Ne]);else ee(A,Gt("head")),ee(A,pn)}else if(_e)for(Ne=0;Ne<_e.length;Ne++)ee(A,_e[Ne]);var Ae=Q.charsetChunks;for(Ne=0;Ne<Ae.length;Ne++)ee(A,Ae[Ne]);Ae.length=0,Q.preconnects.forEach(Va,A),Q.preconnects.clear();var Ke=Q.viewportChunks;for(Ne=0;Ne<Ke.length;Ne++)ee(A,Ke[Ne]);Ke.length=0,Q.fontPreloads.forEach(Va,A),Q.fontPreloads.clear(),Q.highImagePreloads.forEach(Va,A),Q.highImagePreloads.clear(),Q.styles.forEach(Uc,A);var dt=Q.importMapChunks;for(Ne=0;Ne<dt.length;Ne++)ee(A,dt[Ne]);dt.length=0,Q.bootstrapScripts.forEach(Va,A),Q.scripts.forEach(Va,A),Q.scripts.clear(),Q.bulkPreloads.forEach(Va,A),Q.bulkPreloads.clear();var nt=Q.hoistableChunks;for(Ne=0;Ne<nt.length;Ne++)ee(A,nt[Ne]);nt.length=0,ue&&_e===null&&ee(A,Cn("head")),Jr(E,A,Y,null),E.completedRootSegment=null,Rn(A,E.renderState)}var wt=E.renderState;Y=0;var Ut=wt.viewportChunks;for(Y=0;Y<Ut.length;Y++)ee(A,Ut[Y]);Ut.length=0,wt.preconnects.forEach(Va,A),wt.preconnects.clear(),wt.fontPreloads.forEach(Va,A),wt.fontPreloads.clear(),wt.highImagePreloads.forEach(Va,A),wt.highImagePreloads.clear(),wt.styles.forEach(Tr,A),wt.scripts.forEach(Va,A),wt.scripts.clear(),wt.bulkPreloads.forEach(Va,A),wt.bulkPreloads.clear();var Vt=wt.hoistableChunks;for(Y=0;Y<Vt.length;Y++)ee(A,Vt[Y]);Vt.length=0;var en=E.clientRenderedBoundaries;for(z=0;z<en.length;z++){var Kt=en[z];wt=A;var ki=E.resumableState,ar=E.renderState,Ci=Kt.rootSegmentID,Bi=Kt.errorDigest;ee(wt,ar.startInlineScript),(ki.instructions&4)===0?(ki.instructions|=4,ee(wt,mu)):ee(wt,Lc),ee(wt,ar.boundaryPrefix),ee(wt,F(Ci.toString(16))),ee(wt,Df),Bi&&(ee(wt,Kr),ee(wt,F(gu(Bi||""))));var Mr=le(wt,Qu);if(!Mr){E.destination=null,z++,en.splice(0,z);return}}en.splice(0,z);var Ia=E.completedBoundaries;for(z=0;z<Ia.length;z++)if(!Ii(E,A,Ia[z])){E.destination=null,z++,Ia.splice(0,z);return}Ia.splice(0,z),ve(A),ge=new Uint8Array(2048),xe=0;var Fn=E.partialBoundaries;for(z=0;z<Fn.length;z++){var _i=Fn[z];e:{en=E,Kt=A;var Ir=_i.completedSegments;for(Mr=0;Mr<Ir.length;Mr++)if(!So(en,Kt,_i,Ir[Mr])){Mr++,Ir.splice(0,Mr);var Ka=!1;break e}Ir.splice(0,Mr),Ka=vu(Kt,_i.contentState,en.renderState)}if(!Ka){E.destination=null,z++,Fn.splice(0,z);return}}Fn.splice(0,z);var Qa=E.completedBoundaries;for(z=0;z<Qa.length;z++)if(!Ii(E,A,Qa[z])){E.destination=null,z++,Qa.splice(0,z);return}Qa.splice(0,z)}}finally{E.allPendingTasks===0&&E.pingedTasks.length===0&&E.clientRenderedBoundaries.length===0&&E.completedBoundaries.length===0?(E.flushScheduled=!1,z=E.resumableState,z.hasBody&&ee(A,Cn("body")),z.hasHtml&&ee(A,Cn("html")),ve(A),E.status=14,A.close(),E.destination=null):ve(A)}}function Uh(E){E.flushScheduled=E.destination!==null,se(function(){return Za(E)}),I(function(){E.status===10&&(E.status=11),E.trackedPostpones===null&&js(E,E.pendingRootTasks===0)})}function zi(E){E.flushScheduled===!1&&E.pingedTasks.length===0&&E.destination!==null&&(E.flushScheduled=!0,I(function(){var A=E.destination;A?Mn(E,A):E.flushScheduled=!1}))}function Ji(E,A){if(E.status===13)E.status=14,Le(A,E.fatalError);else if(E.status!==14&&E.destination===null){E.destination=A;try{Mn(E,A)}catch(z){Ua(E,z,{}),vo(E,z)}}}function ps(E,A){(E.status===11||E.status===10)&&(E.status=12);try{var z=E.abortableTasks;if(0<z.size){var Y=A===void 0?Error(t(432)):typeof A=="object"&&A!==null&&typeof A.then=="function"?Error(t(530)):A;E.fatalError=Y,z.forEach(function(Q){return Ys(Q,E,Y)}),z.clear()}E.destination!==null&&Mn(E,E.destination)}catch(Q){Ua(E,Q,{}),vo(E,Q)}}function Eo(){var E=n.version;if(E!=="19.0.0")throw Error(t(527,E,"19.0.0"))}return Eo(),Eo(),u0.prerender=function(E,A){return new Promise(function(z,Y){var Q=A?A.onHeaders:void 0,ue;Q&&(ue=function(dt){Q(new Headers(dt))});var _e=sn(A?A.identifierPrefix:void 0,A?A.unstable_externalRuntimeSrc:void 0,A?A.bootstrapScriptContent:void 0,A?A.bootstrapScripts:void 0,A?A.bootstrapModules:void 0),Ne=Jo(E,_e,at(_e,void 0,A?A.unstable_externalRuntimeSrc:void 0,A?A.importMap:void 0,ue,A?A.maxHeadersLength:void 0),gt(A?A.namespaceURI:void 0),A?A.progressiveChunkSize:void 0,A?A.onError:void 0,function(){var dt={prelude:new ReadableStream({type:"bytes",pull:function(nt){Ji(Ne,nt)},cancel:function(nt){Ne.destination=null,ps(Ne,nt)}},{highWaterMark:0})};z(dt)},void 0,void 0,Y,A?A.onPostpone:void 0);if(A&&A.signal){var Ae=A.signal;if(Ae.aborted)ps(Ne,Ae.reason);else{var Ke=function(){ps(Ne,Ae.reason),Ae.removeEventListener("abort",Ke)};Ae.addEventListener("abort",Ke)}}Uh(Ne)})},u0.renderToReadableStream=function(E,A){return new Promise(function(z,Y){var Q,ue,_e=new Promise(function(Ut,Vt){ue=Ut,Q=Vt}),Ne=A?A.onHeaders:void 0,Ae;Ne&&(Ae=function(Ut){Ne(new Headers(Ut))});var Ke=sn(A?A.identifierPrefix:void 0,A?A.unstable_externalRuntimeSrc:void 0,A?A.bootstrapScriptContent:void 0,A?A.bootstrapScripts:void 0,A?A.bootstrapModules:void 0),dt=Rl(E,Ke,at(Ke,A?A.nonce:void 0,A?A.unstable_externalRuntimeSrc:void 0,A?A.importMap:void 0,Ae,A?A.maxHeadersLength:void 0),gt(A?A.namespaceURI:void 0),A?A.progressiveChunkSize:void 0,A?A.onError:void 0,ue,function(){var Ut=new ReadableStream({type:"bytes",pull:function(Vt){Ji(dt,Vt)},cancel:function(Vt){dt.destination=null,ps(dt,Vt)}},{highWaterMark:0});Ut.allReady=_e,z(Ut)},function(Ut){_e.catch(function(){}),Y(Ut)},Q,A?A.onPostpone:void 0,A?A.formState:void 0);if(A&&A.signal){var nt=A.signal;if(nt.aborted)ps(dt,nt.reason);else{var wt=function(){ps(dt,nt.reason),nt.removeEventListener("abort",wt)};nt.addEventListener("abort",wt)}}Uh(dt)})},u0.version="19.0.0",u0}var fP;function Bee(){if(fP)return Fm;fP=1;var n,e;return n=zee(),e=kee(),Fm.version=n.version,Fm.renderToString=n.renderToString,Fm.renderToStaticMarkup=n.renderToStaticMarkup,Fm.renderToReadableStream=e.renderToReadableStream,e.resume&&(Fm.resume=e.resume),Fm}var Fee=Bee();function Hee(n){return 1-Math.pow(1-n,3)}function Vee({icons:n,images:e}){const t=oe.useRef(null),[i,r]=oe.useState([]),[a,s]=oe.useState({x:0,y:0}),[l,c]=oe.useState(!1),[f,p]=oe.useState({x:0,y:0}),[g,y]=oe.useState({x:0,y:0}),[v,_]=oe.useState(null),D=oe.useRef(),M=oe.useRef(a),S=oe.useRef([]),N=oe.useRef([]);oe.useEffect(()=>{if(!n&&!e)return;const H=n||e||[];N.current=new Array(H.length).fill(!1);const G=H.map((W,B)=>{const I=document.createElement("canvas");I.width=40,I.height=40;const Z=I.getContext("2d");if(Z)if(e){const ae=new Image;ae.crossOrigin="anonymous",ae.src=H[B],ae.onload=()=>{Z.clearRect(0,0,I.width,I.height),Z.beginPath(),Z.arc(20,20,20,0,Math.PI*2),Z.closePath(),Z.clip(),Z.drawImage(ae,0,0,40,40),N.current[B]=!0}}else{Z.scale(.4,.4);const ae=Fee.renderToString(W),se=new Image;se.src="data:image/svg+xml;base64,"+btoa(ae),se.onload=()=>{Z.clearRect(0,0,I.width,I.height),Z.drawImage(se,0,0),N.current[B]=!0}}return I});S.current=G},[n,e]),oe.useEffect(()=>{const H=n||e||[],G=[],W=H.length||20,B=2/W,I=Math.PI*(3-Math.sqrt(5));for(let Z=0;Z<W;Z++){const ae=Z*B-1+B/2,se=Math.sqrt(1-ae*ae),ge=Z*I,xe=Math.cos(ge)*se,ee=Math.sin(ge)*se;G.push({x:xe*180,y:ae*180,z:ee*180,scale:1,opacity:1,id:Z})}r(G)},[n,e]);const P=H=>{var Z;const G=(Z=t.current)==null?void 0:Z.getBoundingClientRect();if(!G||!t.current)return;const W=H.clientX-G.left,B=H.clientY-G.top;t.current.getContext("2d")&&(i.forEach(ae=>{const se=Math.cos(M.current.x),ge=Math.sin(M.current.x),xe=Math.cos(M.current.y),ee=Math.sin(M.current.y),le=ae.x*xe-ae.z*ee,ve=ae.x*ee+ae.z*xe,pe=ae.y*se+ve*ge,F=t.current.width/2+le,J=t.current.height/2+pe,te=20*((ve+200)/300),Oe=W-F,tt=B-J;if(Oe*Oe+tt*tt<te*te){const Te=-Math.atan2(ae.y,Math.sqrt(ae.x*ae.x+ae.z*ae.z)),je=Math.atan2(ae.x,ae.z),$e=M.current.x,St=M.current.y,ut=Math.sqrt(Math.pow(Te-$e,2)+Math.pow(je-St,2)),Yt=Math.min(2e3,Math.max(800,ut*1e3));_({x:Te,y:je,startX:$e,startY:St,distance:ut,startTime:performance.now(),duration:Yt});return}}),c(!0),p({x:H.clientX,y:H.clientY}))},U=H=>{var W;const G=(W=t.current)==null?void 0:W.getBoundingClientRect();if(G){const B=H.clientX-G.left,I=H.clientY-G.top;y({x:B,y:I})}if(l){const B=H.clientX-f.x,I=H.clientY-f.y;M.current={x:M.current.x+I*.002,y:M.current.y+B*.002},p({x:H.clientX,y:H.clientY})}},X=()=>{c(!1)};return oe.useEffect(()=>{const H=t.current,G=H==null?void 0:H.getContext("2d");if(!H||!G)return;const W=()=>{G.clearRect(0,0,H.width,H.height);const B=H.width/2,I=H.height/2,Z=Math.sqrt(B*B+I*I),ae=g.x-B,se=g.y-I,xe=.003+Math.sqrt(ae*ae+se*se)/Z*.01;if(v){const ee=performance.now()-v.startTime,le=Math.min(1,ee/v.duration),ve=Hee(le);M.current={x:v.startX+(v.x-v.startX)*ve,y:v.startY+(v.y-v.startY)*ve},le>=1&&_(null)}else l||(M.current={x:M.current.x+se/H.height*xe,y:M.current.y+ae/H.width*xe});i.forEach((ee,le)=>{const ve=Math.cos(M.current.x),pe=Math.sin(M.current.x),F=Math.cos(M.current.y),J=Math.sin(M.current.y),Le=ee.x*F-ee.z*J,te=ee.x*J+ee.z*F,Oe=ee.y*ve+te*pe,tt=(te+200)/300,Te=Math.max(.2,Math.min(1,(te+150)/200));G.save(),G.translate(H.width/2+Le,H.height/2+Oe),G.scale(tt,tt),G.globalAlpha=Te,n||e?S.current[le]&&N.current[le]&&G.drawImage(S.current[le],-20,-20,40,40):(G.beginPath(),G.arc(0,0,20,0,Math.PI*2),G.fillStyle="#4444ff",G.fill(),G.fillStyle="white",G.textAlign="center",G.textBaseline="middle",G.font="16px Arial",G.fillText(`${ee.id+1}`,0,0)),G.restore()}),D.current=requestAnimationFrame(W)};return W(),()=>{D.current&&cancelAnimationFrame(D.current)}},[n,e,i,l,g,v]),fe.jsx("canvas",{ref:t,width:400,height:400,onMouseDown:P,onMouseMove:U,onMouseUp:X,onMouseLeave:X,className:"rounded-lg","aria-label":"Interactive 3D Icon Cloud",role:"img"})}const Gee=["typescript","javascript","react","html5","nodedotjs","express","nextdotjs","postgresql","firebase","nginx","vercel","jest","supabase","github","figma","postman","archlinux","linux","digitalocean","lunacy","mongodb","stripe"];function Xee(){const n=Gee.map(e=>`https://cdn.simpleicons.org/${e}`);return fe.jsx("div",{className:"relative flex size-full items-center justify-center overflow-hidden ",children:fe.jsx(Vee,{images:n})})}var fw={},w_={},hw={exports:{}},dw,hP;function Wee(){if(hP)return dw;hP=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dw=n,dw}var pw,dP;function Yee(){if(dP)return pw;dP=1;var n=Wee();function e(){}function t(){}return t.resetWarningCache=e,pw=function(){function i(s,l,c,f,p,g){if(g!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},pw}var pP;function jee(){return pP||(pP=1,hw.exports=Yee()()),hw.exports}var mw,mP;function qee(){if(mP)return mw;mP=1;function n(e,t){if(!Array.isArray(e))throw new Error("shuffle expect an array as parameter.");t=t||{};var i=e,r=e.length,a=t.rng||Math.random,s,l;for(t.copy===!0&&(i=e.slice());r;)s=Math.floor(a()*r),r-=1,l=i[r],i[r]=i[s],i[s]=l;return i}return n.pick=function(e,t){if(!Array.isArray(e))throw new Error("shuffle.pick() expect an array as parameter.");t=t||{};var i=t.rng||Math.random,r=t.picks||1;if(typeof r=="number"&&r!==1){for(var a=e.length,s=e.slice(),l=[],c;r&&a;)c=Math.floor(i()*a),l.push(s[c]),s.splice(c,1),a-=1,r-=1;return l}return e[Math.floor(i()*e.length)]},mw=n,mw}var E0={exports:{}},Zee=E0.exports,gP;function Kee(){return gP||(gP=1,(function(n,e){(function(t,i){{var r=i();n&&n.exports&&(e=n.exports=r),e.randomColor=r}})(Zee,function(){var t=null,i={};S();var r=[],a=function(G){if(G=G||{},G.seed!==void 0&&G.seed!==null&&G.seed===parseInt(G.seed,10))t=G.seed;else if(typeof G.seed=="string")t=X(G.seed);else{if(G.seed!==void 0&&G.seed!==null)throw new TypeError("The seed value must be an integer or string");t=null}var W,B,I;if(G.count!==null&&G.count!==void 0){for(var Z=G.count,ae=[],se=0;se<G.count;se++)r.push(!1);for(G.count=null;Z>ae.length;){var ge=a(G);t!==null&&(G.seed=t),ae.push(ge)}return G.count=Z,ae}return W=s(G),B=l(W,G),I=c(W,B,G),f([W,B,I],G)};function s(G){if(r.length>0){var W=H(G.hue),B=_(W),I=(W[1]-W[0])/r.length,Z=parseInt((B-W[0])/I);r[Z]===!0?Z=(Z+2)%r.length:r[Z]=!0;var ae=(W[0]+Z*I)%359,se=(W[0]+(Z+1)*I)%359;return W=[ae,se],B=_(W),B<0&&(B=360+B),B}else{var W=g(G.hue);return B=_(W),B<0&&(B=360+B),B}}function l(G,W){if(W.hue==="monochrome")return 0;if(W.luminosity==="random")return _([0,100]);var B=y(G),I=B[0],Z=B[1];switch(W.luminosity){case"bright":I=55;break;case"dark":I=Z-10;break;case"light":Z=55;break}return _([I,Z])}function c(G,W,B){var I=p(G,W),Z=100;switch(B.luminosity){case"dark":Z=I+20;break;case"light":I=(Z+I)/2;break;case"random":I=0,Z=100;break}return _([I,Z])}function f(G,W){switch(W.format){case"hsvArray":return G;case"hslArray":return U(G);case"hsl":var B=U(G);return"hsl("+B[0]+", "+B[1]+"%, "+B[2]+"%)";case"hsla":var I=U(G),se=W.alpha||Math.random();return"hsla("+I[0]+", "+I[1]+"%, "+I[2]+"%, "+se+")";case"rgbArray":return N(G);case"rgb":var Z=N(G);return"rgb("+Z.join(", ")+")";case"rgba":var ae=N(G),se=W.alpha||Math.random();return"rgba("+ae.join(", ")+", "+se+")";default:return D(G)}}function p(G,W){for(var B=v(G).lowerBounds,I=0;I<B.length-1;I++){var Z=B[I][0],ae=B[I][1],se=B[I+1][0],ge=B[I+1][1];if(W>=Z&&W<=se){var xe=(ge-ae)/(se-Z),ee=ae-xe*Z;return xe*W+ee}}return 0}function g(G){if(typeof parseInt(G)=="number"){var W=parseInt(G);if(W<360&&W>0)return[W,W]}if(typeof G=="string"){if(i[G]){var B=i[G];if(B.hueRange)return B.hueRange}else if(G.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var I=P(G)[0];return[I,I]}}return[0,360]}function y(G){return v(G).saturationRange}function v(G){G>=334&&G<=360&&(G-=360);for(var W in i){var B=i[W];if(B.hueRange&&G>=B.hueRange[0]&&G<=B.hueRange[1])return i[W]}return"Color not found"}function _(G){if(t===null){var W=.618033988749895,B=Math.random();return B+=W,B%=1,Math.floor(G[0]+B*(G[1]+1-G[0]))}else{var I=G[1]||1,Z=G[0]||0;t=(t*9301+49297)%233280;var ae=t/233280;return Math.floor(Z+ae*(I-Z))}}function D(G){var W=N(G);function B(Z){var ae=Z.toString(16);return ae.length==1?"0"+ae:ae}var I="#"+B(W[0])+B(W[1])+B(W[2]);return I}function M(G,W,B){var I=B[0][0],Z=B[B.length-1][0],ae=B[B.length-1][1],se=B[0][1];i[G]={hueRange:W,lowerBounds:B,saturationRange:[I,Z],brightnessRange:[ae,se]}}function S(){M("monochrome",null,[[0,0],[100,0]]),M("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),M("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),M("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),M("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),M("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),M("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),M("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function N(G){var W=G[0];W===0&&(W=1),W===360&&(W=359),W=W/360;var B=G[1]/100,I=G[2]/100,Z=Math.floor(W*6),ae=W*6-Z,se=I*(1-B),ge=I*(1-ae*B),xe=I*(1-(1-ae)*B),ee=256,le=256,ve=256;switch(Z){case 0:ee=I,le=xe,ve=se;break;case 1:ee=ge,le=I,ve=se;break;case 2:ee=se,le=I,ve=xe;break;case 3:ee=se,le=ge,ve=I;break;case 4:ee=xe,le=se,ve=I;break;case 5:ee=I,le=se,ve=ge;break}var pe=[Math.floor(ee*255),Math.floor(le*255),Math.floor(ve*255)];return pe}function P(G){G=G.replace(/^#/,""),G=G.length===3?G.replace(/(.)/g,"$1$1"):G;var W=parseInt(G.substr(0,2),16)/255,B=parseInt(G.substr(2,2),16)/255,I=parseInt(G.substr(4,2),16)/255,Z=Math.max(W,B,I),ae=Z-Math.min(W,B,I),se=Z?ae/Z:0;switch(Z){case W:return[60*((B-I)/ae%6)||0,se,Z];case B:return[60*((I-W)/ae+2)||0,se,Z];case I:return[60*((W-B)/ae+4)||0,se,Z]}}function U(G){var W=G[0],B=G[1]/100,I=G[2]/100,Z=(2-B)*I;return[W,Math.round(B*I/(Z<1?Z:2-Z)*1e4)/100,Z/2*100]}function X(G){for(var W=0,B=0;B!==G.length&&!(W>=Number.MAX_SAFE_INTEGER);B++)W+=G.charCodeAt(B);return W}function H(G){if(isNaN(G)){if(typeof G=="string"){if(i[G]){var B=i[G];if(B.hueRange)return B.hueRange}else if(G.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var I=P(G)[0];return v(I).hueRange}}}else{var W=parseInt(G);if(W<360&&W>0)return v(G).hueRange}return[0,360]}return a})})(E0,E0.exports)),E0.exports}var V_={exports:{}},Qee=V_.exports,yP;function Jee(){return yP||(yP=1,(function(n){(function(e,t,i){function r(c){var f=this,p=l();f.next=function(){var g=2091639*f.s0+f.c*23283064365386963e-26;return f.s0=f.s1,f.s1=f.s2,f.s2=g-(f.c=g|0)},f.c=1,f.s0=p(" "),f.s1=p(" "),f.s2=p(" "),f.s0-=p(c),f.s0<0&&(f.s0+=1),f.s1-=p(c),f.s1<0&&(f.s1+=1),f.s2-=p(c),f.s2<0&&(f.s2+=1),p=null}function a(c,f){return f.c=c.c,f.s0=c.s0,f.s1=c.s1,f.s2=c.s2,f}function s(c,f){var p=new r(c),g=f&&f.state,y=p.next;return y.int32=function(){return p.next()*4294967296|0},y.double=function(){return y()+(y()*2097152|0)*11102230246251565e-32},y.quick=y,g&&(typeof g=="object"&&a(g,p),y.state=function(){return a(p,{})}),y}function l(){var c=4022871197,f=function(p){p=String(p);for(var g=0;g<p.length;g++){c+=p.charCodeAt(g);var y=.02519603282416938*c;c=y>>>0,y-=c,y*=c,c=y>>>0,y-=c,c+=y*4294967296}return(c>>>0)*23283064365386963e-26};return f}t&&t.exports?t.exports=s:this.alea=s})(Qee,n)})(V_)),V_.exports}var G_={exports:{}},$ee=G_.exports,vP;function ete(){return vP||(vP=1,(function(n){(function(e,t,i){function r(l){var c=this,f="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var g=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^g^g>>>8},l===(l|0)?c.x=l:f+=l;for(var p=0;p<f.length+64;p++)c.x^=f.charCodeAt(p)|0,c.next()}function a(l,c){return c.x=l.x,c.y=l.y,c.z=l.z,c.w=l.w,c}function s(l,c){var f=new r(l),p=c&&c.state,g=function(){return(f.next()>>>0)/4294967296};return g.double=function(){do var y=f.next()>>>11,v=(f.next()>>>0)/4294967296,_=(y+v)/(1<<21);while(_===0);return _},g.int32=f.next,g.quick=g,p&&(typeof p=="object"&&a(p,f),g.state=function(){return a(f,{})}),g}t&&t.exports?t.exports=s:this.xor128=s})($ee,n)})(G_)),G_.exports}var X_={exports:{}},tte=X_.exports,xP;function nte(){return xP||(xP=1,(function(n){(function(e,t,i){function r(l){var c=this,f="";c.next=function(){var g=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(g^g<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,l===(l|0)?c.x=l:f+=l;for(var p=0;p<f.length+64;p++)c.x^=f.charCodeAt(p)|0,p==f.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function a(l,c){return c.x=l.x,c.y=l.y,c.z=l.z,c.w=l.w,c.v=l.v,c.d=l.d,c}function s(l,c){var f=new r(l),p=c&&c.state,g=function(){return(f.next()>>>0)/4294967296};return g.double=function(){do var y=f.next()>>>11,v=(f.next()>>>0)/4294967296,_=(y+v)/(1<<21);while(_===0);return _},g.int32=f.next,g.quick=g,p&&(typeof p=="object"&&a(p,f),g.state=function(){return a(f,{})}),g}t&&t.exports?t.exports=s:this.xorwow=s})(tte,n)})(X_)),X_.exports}var W_={exports:{}},ite=W_.exports,bP;function rte(){return bP||(bP=1,(function(n){(function(e,t,i){function r(l){var c=this;c.next=function(){var p=c.x,g=c.i,y,v;return y=p[g],y^=y>>>7,v=y^y<<24,y=p[g+1&7],v^=y^y>>>10,y=p[g+3&7],v^=y^y>>>3,y=p[g+4&7],v^=y^y<<7,y=p[g+7&7],y=y^y<<13,v^=y^y<<9,p[g]=v,c.i=g+1&7,v};function f(p,g){var y,v=[];if(g===(g|0))v[0]=g;else for(g=""+g,y=0;y<g.length;++y)v[y&7]=v[y&7]<<15^g.charCodeAt(y)+v[y+1&7]<<13;for(;v.length<8;)v.push(0);for(y=0;y<8&&v[y]===0;++y);for(y==8?v[7]=-1:v[y],p.x=v,p.i=0,y=256;y>0;--y)p.next()}f(c,l)}function a(l,c){return c.x=l.x.slice(),c.i=l.i,c}function s(l,c){l==null&&(l=+new Date);var f=new r(l),p=c&&c.state,g=function(){return(f.next()>>>0)/4294967296};return g.double=function(){do var y=f.next()>>>11,v=(f.next()>>>0)/4294967296,_=(y+v)/(1<<21);while(_===0);return _},g.int32=f.next,g.quick=g,p&&(p.x&&a(p,f),g.state=function(){return a(f,{})}),g}t&&t.exports?t.exports=s:this.xorshift7=s})(ite,n)})(W_)),W_.exports}var Y_={exports:{}},ate=Y_.exports,_P;function ste(){return _P||(_P=1,(function(n){(function(e,t,i){function r(l){var c=this;c.next=function(){var p=c.w,g=c.X,y=c.i,v,_;return c.w=p=p+1640531527|0,_=g[y+34&127],v=g[y=y+1&127],_^=_<<13,v^=v<<17,_^=_>>>15,v^=v>>>12,_=g[y]=_^v,c.i=y,_+(p^p>>>16)|0};function f(p,g){var y,v,_,D,M,S=[],N=128;for(g===(g|0)?(v=g,g=null):(g=g+"\0",v=0,N=Math.max(N,g.length)),_=0,D=-32;D<N;++D)g&&(v^=g.charCodeAt((D+32)%g.length)),D===0&&(M=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,D>=0&&(M=M+1640531527|0,y=S[D&127]^=v+M,_=y==0?_+1:0);for(_>=128&&(S[(g&&g.length||0)&127]=-1),_=127,D=512;D>0;--D)v=S[_+34&127],y=S[_=_+1&127],v^=v<<13,y^=y<<17,v^=v>>>15,y^=y>>>12,S[_]=v^y;p.w=M,p.X=S,p.i=_}f(c,l)}function a(l,c){return c.i=l.i,c.w=l.w,c.X=l.X.slice(),c}function s(l,c){l==null&&(l=+new Date);var f=new r(l),p=c&&c.state,g=function(){return(f.next()>>>0)/4294967296};return g.double=function(){do var y=f.next()>>>11,v=(f.next()>>>0)/4294967296,_=(y+v)/(1<<21);while(_===0);return _},g.int32=f.next,g.quick=g,p&&(p.X&&a(p,f),g.state=function(){return a(f,{})}),g}t&&t.exports?t.exports=s:this.xor4096=s})(ate,n)})(Y_)),Y_.exports}var j_={exports:{}},ote=j_.exports,SP;function lte(){return SP||(SP=1,(function(n){(function(e,t,i){function r(l){var c=this,f="";c.next=function(){var g=c.b,y=c.c,v=c.d,_=c.a;return g=g<<25^g>>>7^y,y=y-v|0,v=v<<24^v>>>8^_,_=_-g|0,c.b=g=g<<20^g>>>12^y,c.c=y=y-v|0,c.d=v<<16^y>>>16^_,c.a=_-g|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,l===Math.floor(l)?(c.a=l/4294967296|0,c.b=l|0):f+=l;for(var p=0;p<f.length+20;p++)c.b^=f.charCodeAt(p)|0,c.next()}function a(l,c){return c.a=l.a,c.b=l.b,c.c=l.c,c.d=l.d,c}function s(l,c){var f=new r(l),p=c&&c.state,g=function(){return(f.next()>>>0)/4294967296};return g.double=function(){do var y=f.next()>>>11,v=(f.next()>>>0)/4294967296,_=(y+v)/(1<<21);while(_===0);return _},g.int32=f.next,g.quick=g,p&&(typeof p=="object"&&a(p,f),g.state=function(){return a(f,{})}),g}t&&t.exports?t.exports=s:this.tychei=s})(ote,n)})(j_)),j_.exports}var q_={exports:{}};const ute={},cte=Object.freeze(Object.defineProperty({__proto__:null,default:ute},Symbol.toStringTag,{value:"Module"})),fte=PL(cte);var hte=q_.exports,EP;function dte(){return EP||(EP=1,(function(n){(function(e,t,i){var r=256,a=6,s=52,l="random",c=i.pow(r,a),f=i.pow(2,s),p=f*2,g=r-1,y;function v(U,X,H){var G=[];X=X==!0?{entropy:!0}:X||{};var W=S(M(X.entropy?[U,P(t)]:U??N(),3),G),B=new _(G),I=function(){for(var Z=B.g(a),ae=c,se=0;Z<f;)Z=(Z+se)*r,ae*=r,se=B.g(1);for(;Z>=p;)Z/=2,ae/=2,se>>>=1;return(Z+se)/ae};return I.int32=function(){return B.g(4)|0},I.quick=function(){return B.g(4)/4294967296},I.double=I,S(P(B.S),t),(X.pass||H||function(Z,ae,se,ge){return ge&&(ge.S&&D(ge,B),Z.state=function(){return D(B,{})}),se?(i[l]=Z,ae):Z})(I,W,"global"in X?X.global:this==i,X.state)}function _(U){var X,H=U.length,G=this,W=0,B=G.i=G.j=0,I=G.S=[];for(H||(U=[H++]);W<r;)I[W]=W++;for(W=0;W<r;W++)I[W]=I[B=g&B+U[W%H]+(X=I[W])],I[B]=X;(G.g=function(Z){for(var ae,se=0,ge=G.i,xe=G.j,ee=G.S;Z--;)ae=ee[ge=g&ge+1],se=se*r+ee[g&(ee[ge]=ee[xe=g&xe+ae])+(ee[xe]=ae)];return G.i=ge,G.j=xe,se})(r)}function D(U,X){return X.i=U.i,X.j=U.j,X.S=U.S.slice(),X}function M(U,X){var H=[],G=typeof U,W;if(X&&G=="object")for(W in U)try{H.push(M(U[W],X-1))}catch{}return H.length?H:G=="string"?U:U+"\0"}function S(U,X){for(var H=U+"",G,W=0;W<H.length;)X[g&W]=g&(G^=X[g&W]*19)+H.charCodeAt(W++);return P(X)}function N(){try{var U;return y&&(U=y.randomBytes)?U=U(r):(U=new Uint8Array(r),(e.crypto||e.msCrypto).getRandomValues(U)),P(U)}catch{var X=e.navigator,H=X&&X.plugins;return[+new Date,e,H,e.screen,P(t)]}}function P(U){return String.fromCharCode.apply(0,U)}if(S(i.random(),t),n.exports){n.exports=v;try{y=fte}catch{}}else i["seed"+l]=v})(typeof self<"u"?self:hte,[],Math)})(q_)),q_.exports}var gw,TP;function pte(){if(TP)return gw;TP=1;var n=Jee(),e=ete(),t=nte(),i=rte(),r=ste(),a=lte(),s=dte();return s.alea=n,s.xor128=e,s.xorwow=t,s.xorshift7=i,s.xor4096=r,s.tychei=a,gw=s,gw}var c0={},wP;function mte(){if(wP)return c0;wP=1,Object.defineProperty(c0,"__esModule",{value:!0}),c0.defaultRenderer=void 0;var n=t(Mh()),e=["className","style"];function t(g){return g&&g.__esModule?g:{default:g}}function i(){return i=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var v=arguments[y];for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(g[_]=v[_])}return g},i.apply(this,arguments)}function r(g,y){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(g);y&&(_=_.filter(function(D){return Object.getOwnPropertyDescriptor(g,D).enumerable})),v.push.apply(v,_)}return v}function a(g){for(var y=1;y<arguments.length;y++){var v=arguments[y]!=null?arguments[y]:{};y%2?r(Object(v),!0).forEach(function(_){s(g,_,v[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):r(Object(v)).forEach(function(_){Object.defineProperty(g,_,Object.getOwnPropertyDescriptor(v,_))})}return g}function s(g,y,v){return y in g?Object.defineProperty(g,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[y]=v,g}function l(g,y){if(g==null)return{};var v=c(g,y),_,D;if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);for(D=0;D<M.length;D++)_=M[D],!(y.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(g,_)&&(v[_]=g[_])}return v}function c(g,y){if(g==null)return{};var v={},_=Object.keys(g),D,M;for(M=0;M<_.length;M++)D=_[M],!(y.indexOf(D)>=0)&&(v[D]=g[D]);return v}var f=function(y,v,_){var D=y.props||{},M=D.className,S=D.style,N=l(D,e),P=v+"px",U=y.key||y.value,X=a(a({},p),{},{color:_,fontSize:P},S),H="tag-cloud-tag";return M&&(H+=" "+M),n.default.createElement("span",i({className:H,style:X,key:U},N),y.value)};c0.defaultRenderer=f;var p={margin:"0px 3px",verticalAlign:"middle",display:"inline-block"};return c0}var cd={},MP;function gte(){if(MP)return cd;MP=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.fontSizeConverter=void 0,cd.keys=i,cd.omit=void 0,cd.pick=t;var n=function(a,s,l,c,f){return l-s===0?Math.round((c+f)/2):Math.round((a-s)*(f-c)/(l-s)+c)};cd.fontSizeConverter=n;var e=function(a,s){return Object.keys(a).reduce(function(l,c){return~s.indexOf(c)||(l[c]=a[c]),l},{})};cd.omit=e;function t(r,a){return a.reduce(function(s,l){return s[l]=r[l],s},{})}function i(r){return Object.keys(r)}return cd}var AP;function yte(){if(AP)return w_;AP=1;function n(pe){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},n(pe)}Object.defineProperty(w_,"__esModule",{value:!0}),w_.TagCloud=ve;var e=g(jee()),t=p(Mh()),i=g(qee()),r=g(Kee()),a=g(pte()),s=mte(),l=gte(),c=["renderer","shuffle","className","colorOptions","containerComponent"];function f(pe){if(typeof WeakMap!="function")return null;var F=new WeakMap,J=new WeakMap;return(f=function(te){return te?J:F})(pe)}function p(pe,F){if(pe&&pe.__esModule)return pe;if(pe===null||n(pe)!=="object"&&typeof pe!="function")return{default:pe};var J=f(F);if(J&&J.has(pe))return J.get(pe);var Le={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Oe in pe)if(Oe!=="default"&&Object.prototype.hasOwnProperty.call(pe,Oe)){var tt=te?Object.getOwnPropertyDescriptor(pe,Oe):null;tt&&(tt.get||tt.set)?Object.defineProperty(Le,Oe,tt):Le[Oe]=pe[Oe]}return Le.default=pe,J&&J.set(pe,Le),Le}function g(pe){return pe&&pe.__esModule?pe:{default:pe}}function y(pe,F){return D(pe)||_(pe,F)||U(pe,F)||v()}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(pe,F){var J=pe==null?null:typeof Symbol<"u"&&pe[Symbol.iterator]||pe["@@iterator"];if(J!=null){var Le=[],te=!0,Oe=!1,tt,Te;try{for(J=J.call(pe);!(te=(tt=J.next()).done)&&(Le.push(tt.value),!(F&&Le.length===F));te=!0);}catch(je){Oe=!0,Te=je}finally{try{!te&&J.return!=null&&J.return()}finally{if(Oe)throw Te}}return Le}}function D(pe){if(Array.isArray(pe))return pe}function M(pe,F){if(pe==null)return{};var J=S(pe,F),Le,te;if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(pe);for(te=0;te<Oe.length;te++)Le=Oe[te],!(F.indexOf(Le)>=0)&&Object.prototype.propertyIsEnumerable.call(pe,Le)&&(J[Le]=pe[Le])}return J}function S(pe,F){if(pe==null)return{};var J={},Le=Object.keys(pe),te,Oe;for(Oe=0;Oe<Le.length;Oe++)te=Le[Oe],!(F.indexOf(te)>=0)&&(J[te]=pe[te]);return J}function N(pe){return H(pe)||X(pe)||U(pe)||P()}function P(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(pe,F){if(pe){if(typeof pe=="string")return G(pe,F);var J=Object.prototype.toString.call(pe).slice(8,-1);if(J==="Object"&&pe.constructor&&(J=pe.constructor.name),J==="Map"||J==="Set")return Array.from(pe);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return G(pe,F)}}function X(pe){if(typeof Symbol<"u"&&pe[Symbol.iterator]!=null||pe["@@iterator"]!=null)return Array.from(pe)}function H(pe){if(Array.isArray(pe))return G(pe)}function G(pe,F){(F==null||F>pe.length)&&(F=pe.length);for(var J=0,Le=new Array(F);J<F;J++)Le[J]=pe[J];return Le}function W(pe,F){var J=Object.keys(pe);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(pe);F&&(Le=Le.filter(function(te){return Object.getOwnPropertyDescriptor(pe,te).enumerable})),J.push.apply(J,Le)}return J}function B(pe){for(var F=1;F<arguments.length;F++){var J=arguments[F]!=null?arguments[F]:{};F%2?W(Object(J),!0).forEach(function(Le){I(pe,Le,J[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(J)):W(Object(J)).forEach(function(Le){Object.defineProperty(pe,Le,Object.getOwnPropertyDescriptor(J,Le))})}return pe}function I(pe,F,J){return F in pe?Object.defineProperty(pe,F,{value:J,enumerable:!0,configurable:!0,writable:!0}):pe[F]=J,pe}var Z=["onClick","onDoubleClick","onMouseMove","onMouseOver","onMouseOut","onPress","onPressIn","onPressOut"],ae=["tags","shuffle","renderer","maxSize","minSize","colorOptions","disableRandomColor","randomSeed","randomNumberGenerator","containerComponent"];function se(pe){return pe.key+pe.value+pe.count}function ge(pe,F){var J=F.disableRandomColor,Le=F.colorOptions,te=F.randomSeed;if(pe.color)return pe.color;if(!J)return(0,r.default)(B({seed:te&&"".concat(te,":").concat(se(pe))},Le))}function xe(pe,F,J){var Le=(0,l.pick)(pe.props,Z),te=(0,l.keys)(J).reduce(function(Oe,tt){return(J[tt]||Le[tt])&&(Oe[tt]=function(Te){J[tt]&&J[tt](F,Te),Le[tt]&&Le(Te)}),Oe},{});return t.default.cloneElement(pe,te)}function ee(pe,F){var J=pe.minSize,Le=pe.maxSize,te=F.map(function(je){var $e=je.tag;return $e.count}),Oe=Math.min.apply(Math,N(te)),tt=Math.max.apply(Math,N(te)),Te=(0,l.pick)(pe,Z);return F.map(function(je){var $e=je.tag,St=je.color,ut=(0,l.fontSizeConverter)($e.count,Oe,tt,J,Le),Yt=pe.renderer($e,ut,St);return xe(Yt,$e,Te)})}function le(pe){var F=pe.tags,J=pe.shuffle,Le=pe.randomSeed,te=pe.randomNumberGenerator,Oe=Le?(0,a.default)(Le):te,tt=F.slice(),Te=J?(0,i.default)(tt,{rng:Oe}):tt;return Te.map(function(je){return{tag:je,color:ge(je,pe)}})}function ve(pe){var F=pe.renderer,J=F===void 0?s.defaultRenderer:F,Le=pe.shuffle,te=Le===void 0?!0:Le,Oe=pe.className,tt=Oe===void 0?"tag-cloud":Oe,Te=pe.colorOptions,je=Te===void 0?{}:Te,$e=pe.containerComponent,St=$e===void 0?"div":$e,ut=M(pe,c),Yt=B({renderer:J,shuffle:te,className:tt,colorOptions:je,containerComponent:St},ut),kt=(0,t.useState)([]),ye=y(kt,2),ct=ye[0],Qe=ye[1],et=Yt.tags.map(se).join(":");(0,t.useEffect)(function(){Qe(le(Yt))},[JSON.stringify(Yt.colorOptions),Yt.randomSeed,Yt.shuffle,Yt.disableRandomColor,et]);var Je=(0,l.omit)(Yt,[].concat(ae,Z)),Ct=Yt.containerComponent;return t.default.createElement(Ct,Je,ee(Yt,ct))}return ve.propTypes={tags:e.default.array.isRequired,maxSize:e.default.number.isRequired,minSize:e.default.number.isRequired,shuffle:e.default.bool,colorOptions:e.default.object,disableRandomColor:e.default.bool,renderer:e.default.func,className:e.default.string,randomSeed:e.default.any,randomNumberGenerator:e.default.func,containerComponent:e.default.elementType},w_}var CP;function vte(){return CP||(CP=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"TagCloud",{enumerable:!0,get:function(){return e.TagCloud}});var e=yte()})(fw)),fw}var xte=vte();const bte=[{value:"React",count:30},{value:"MongoDB",count:18},{value:"JavaScript",count:38},{value:"Nginx",count:30},{value:"Nodejs",count:28},{value:"Express.js",count:25},{value:"HTML5",count:25},{value:"CSS3",count:20},{value:"Webpack",count:22},{value:"Vite",count:7},{value:"Typescript",count:25},{value:"Jest",count:15},{value:"Postgresql",count:17},{value:"Firebase",count:27},{value:"Supabase",count:30},{value:"Digitalocean",count:15},{value:"Vercel",count:30},{value:"Lunacy",count:11},{value:"Figma",count:28},{value:"Photoshop",count:14},{value:"XD",count:35},{value:"Stripe",count:30},{value:"strapi",count:20},{value:"NextJS",count:35}];function _te(){return fe.jsx(xte.TagCloud,{minSize:12,maxSize:35,tags:bte,style:{textAlign:"center"}})}function Ste(){return fe.jsxs("div",{className:"glass max-w-[1300px] mx-auto px-6 py-16 ",children:[fe.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-start items-center gap-10 mb-12 ",children:[fe.jsx("div",{children:fe.jsx(KL,{})}),fe.jsxs("div",{children:[fe.jsx("h1",{className:"text-3xl  text-white mb-2",children:"Hey, I'm Ryan "}),fe.jsx("p",{className:"text-gray-300 text-lg",children:"Im a web developer based in South Korea who loves bringing ideas to life online. I enjoy building websites and apps that look great and actually work  from the layout and design all the way to the behind-the-scenes logic. Whether Im creating smooth user experiences or solving tricky backend challenges, I get excited about turning complex problems into simple, useful tools that people enjoy using."})]})]}),fe.jsxs("div",{className:"mb-12",children:[fe.jsx("h2",{className:"text-3xl  text-white mb-4",children:"My Mission"}),fe.jsx("p",{className:"text-gray-300 leading-relaxed",children:"My mission is to build websites that feel good to use and make life a little easier. I love turning ideas into real, working web applications  from the first pixel on the screen to the last line of backend logic. Whether it's helping someone launch their dream project or creating tools that solve everyday problems, Im here to make the web more useful, more beautiful, and more fun."})]}),fe.jsx("h2",{className:"text-3xl  text-white mb-4",children:" Tech I Use"}),fe.jsx("div",{className:"my-10",children:fe.jsx(Xee,{})}),fe.jsx(_te,{})]})}function Ete(){return fe.jsx(Ste,{})}var Gz={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RP=Np.createContext&&Np.createContext(Gz),Tte=["attr","size","title"];function wte(n,e){if(n==null)return{};var t=Mte(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Mte(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function JS(){return JS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},JS.apply(this,arguments)}function DP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $S(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(t),!0).forEach(function(i){Ate(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Ate(n,e,t){return e=Cte(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cte(n){var e=Rte(n,"string");return typeof e=="symbol"?e:e+""}function Rte(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Xz(n){return n&&n.map((e,t)=>Np.createElement(e.tag,$S({key:t},e.attr),Xz(e.child)))}function iu(n){return e=>Np.createElement(Dte,JS({attr:$S({},n.attr)},e),Xz(n.child))}function Dte(n){var e=t=>{var{attr:i,size:r,title:a}=n,s=wte(n,Tte),l=r||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),Np.createElement("svg",JS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:c,style:$S($S({color:n.color||t.color},t.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Np.createElement("title",null,a),n.children)};return RP!==void 0?Np.createElement(RP.Consumer,null,t=>e(t)):e(Gz)}function Ote(n){return iu({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function Pte(n){return iu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function Lte(n){return iu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function Nte(n){return iu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function Ute(n){return iu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function Wz(n){return iu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function Ite(n){return iu({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function zte(n){return iu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function kte(n){return iu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405.3 106.7v298.7H106.7V106.7h298.6m0-42.7H106.7C83.2 64 64 83.2 64 106.7v298.7c0 23.5 19.2 42.7 42.7 42.7h298.7c23.5 0 42.7-19.2 42.7-42.7V106.7C448 83.2 428.8 64 405.3 64z"},child:[]}]})(n)}const OP={address:"Gyeonggido-Siheung-Si South Korea",email:"ryanpeefreelancer@gmail.com"};function Bte(n){return iu({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 4.99L4 6h16zm0 12H4V8l8 5 8-5v10z"},child:[]}]})(n)}function Fte(n){return iu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 48c-79.5 0-144 61.39-144 137 0 87 96 224.87 131.25 272.49a15.77 15.77 0 0 0 25.5 0C304 409.89 400 272.07 400 185c0-75.61-64.5-137-144-137z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"192",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(n)}const PP=({text:n,Image:e})=>fe.jsxs("div",{className:"flex items-center justify-center gap-2 text-center tracking-tighter",children:[fe.jsx(e,{className:"text-xl"}),fe.jsx("p",{className:"my-1",children:n})]}),Hte=()=>fe.jsxs("div",{className:"my-2 flex flex-col items-center justify-center",children:[fe.jsx(PP,{text:OP.email,Image:Bte}),fe.jsx(PP,{text:OP.address,Image:Fte})]});function Vte(n){return iu({attr:{viewBox:"0 0 641 512"},child:[{tag:"path",attr:{d:"M494.7 295.6c-50.3 0-83.5-38.9-92.8-53.9c11.9-95.3 46.8-125.4 92.8-125.4c45.5 0 80.9 36.4 80.9 89.7s-35.4 89.7-80.9 89.7zm0-237.8c-81.9 0-127.8 53.4-141 108.4c-14.9-28-25.9-65.5-34.5-100.3H206v141c0 51.1-23.3 89-68.8 89s-71.6-37.8-71.6-89l.5-141H.8v141c0 41.1 13.3 78.4 37.6 105.1c25 27.5 59.2 41.8 98.8 41.8c78.8 0 133.8-60.4 133.8-146.9V112.1c8.2 31.2 27.8 91.1 65.3 143.6l-35 199.4h66.4l23.1-141.3c7.6 6.3 15.7 12 24.2 17c22.2 14 47.7 21.9 73.9 22.8c0 0 4 .2 6.1 .2c81.2 0 145.9-62.9 145.9-147.8s-64.8-148.1-146-148.1z"},child:[]}]})(n)}function Gte(){return fe.jsxs("div",{className:"flex justify-center flex-row gap-6",children:[fe.jsx(Vu,{to:"https://www.linkedin.com/in/ryanpuyat",target:"_blank",rel:"noopener noreferrer",children:fe.jsx("span",{children:fe.jsx(Pte,{size:32})})}),fe.jsx(Vu,{to:"https://github.com/RyanPuyat",target:"_blank",rel:"noopener noreferrer",children:fe.jsx("span",{children:fe.jsx(Ote,{size:32})})}),fe.jsx(Vu,{to:"https://www.upwork.com/freelancers/~01cfaba0230783c449",target:"_blank",rel:"noopener noreferrer",children:fe.jsx("span",{children:fe.jsx(Vte,{size:32})})})]})}const Xte=()=>fe.jsxs("div",{className:"flex flex-col items-center pt-15 px-5 justify-center gap-6 max-w-full overflow-hidden lg:pt-5",children:[fe.jsxs(gg.div,{initial:{y:0},animate:{y:[10,-10],transition:{duration:1.5,ease:"linear",repeat:1/0,repeatType:"reverse"}},className:"flex justify-center items-center",children:[fe.jsx(Wz,{className:"text-7xl text-blue-500"}),fe.jsx("div",{className:" absolute -z-10 flex justify-center items-center animate-pulse",children:fe.jsx(kte,{className:"w-32 h-32 text-blue-500 blur-md animate-[spin_20s_linear_infinite]"})})]}),fe.jsx(Hte,{}),fe.jsx(Gte,{})]});class Kx{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const Wte=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},ao={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Wte()},t2=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},Yte=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=t2(n);ao.publicKey=t.publicKey,ao.blockHeadless=t.blockHeadless,ao.storageProvider=t.storageProvider,ao.blockList=t.blockList,ao.limitRate=t.limitRate,ao.origin=t.origin||e},Yz=async(n,e,t={})=>{const i=await fetch(ao.origin+n,{method:"POST",headers:t,body:e}),r=await i.text(),a=new Kx(i.status,r);if(i.ok)return a;throw a},jz=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},jte=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},qz=n=>n.webdriver||!n.languages||n.languages.length===0,Zz=()=>new Kx(451,"Unavailable For Headless Browser"),qte=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Zte=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},Kte=(n,e)=>n instanceof FormData?n.get(e):n[e],Kz=(n,e)=>{if(Zte(n))return!1;qte(n.list,n.watchVariable);const t=Kte(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},Qz=()=>new Kx(403,"Forbidden"),Qte=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},Jte=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},Jz=async(n,e,t)=>{if(!e.throttle||!t)return!1;Qte(e.throttle,e.id);const i=e.id||n;return await Jte(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},$z=()=>new Kx(429,"Too Many Requests"),$te=async(n,e,t,i)=>{const r=t2(i),a=r.publicKey||ao.publicKey,s=r.blockHeadless||ao.blockHeadless,l=r.storageProvider||ao.storageProvider,c={...ao.blockList,...r.blockList},f={...ao.limitRate,...r.limitRate};return s&&qz(navigator)?Promise.reject(Zz()):(jz(a,n,e),jte(t),t&&Kz(c,t)?Promise.reject(Qz()):await Jz(location.pathname,f,l)?Promise.reject($z()):Yz("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},ene=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},tne=n=>typeof n=="string"?document.querySelector(n):n,nne=async(n,e,t,i)=>{const r=t2(i),a=r.publicKey||ao.publicKey,s=r.blockHeadless||ao.blockHeadless,l=ao.storageProvider||r.storageProvider,c={...ao.blockList,...r.blockList},f={...ao.limitRate,...r.limitRate};if(s&&qz(navigator))return Promise.reject(Zz());const p=tne(t);jz(a,n,e),ene(p);const g=new FormData(p);return Kz(c,g)?Promise.reject(Qz()):await Jz(location.pathname,f,l)?Promise.reject($z()):(g.append("lib_version","4.4.1"),g.append("service_id",n),g.append("template_id",e),g.append("user_id",a),Yz("/api/v1.0/email/send-form",g))},ine={init:Yte,send:$te,sendForm:nne,EmailJSResponseStatus:Kx};function rne(n){const e=oe.useRef(null),t="service_8ra5tzk",i="template_2znm1rl";return{formRef:e,sendEmail:a=>{a.preventDefault(),n(!0),ine.sendForm(t,i,e.current,{publicKey:"brXApN2LXw5h6QN8f"}).then(()=>{var s;Ip.success("Email Sent Successfully!"),(s=e.current)==null||s.reset()}).catch(s=>{Ip.error("Failed to send email."),console.error("Email send failed:",s.text)}).finally(()=>{n(!1)})}}}const ane=()=>{const[n,e]=oe.useState(!1),{formRef:t,sendEmail:i}=rne(e);return fe.jsx("div",{className:"py-5 w-auto",children:fe.jsxs("form",{ref:t,onSubmit:i,className:"flex flex-col gap-4",children:[fe.jsxs("div",{className:"flex items-center border-2 border-neutral-300 rounded-2xl h-12 p-2 text-sm",children:[fe.jsx(zte,{className:"text-neutral-500 mr-2 bg-transparent"}),fe.jsx("input",{className:"flex-grow outline-none",name:"from_name",type:"text",placeholder:"Your Name",required:!0})]}),fe.jsxs("div",{className:"flex items-center border-2 border-neutral-300 rounded-2xl h-12 p-2 text-sm",children:[fe.jsx(Wz,{className:"text-neutral-500 mr-2 bg-transparent"}),fe.jsx("input",{className:"flex-grow outline-none",name:"from_email",type:"email",placeholder:"Your Email",required:!0})]}),fe.jsx("textarea",{className:"border-2 border-neutral-300 rounded-2xl p-2 text-sm",name:"message",placeholder:"Message",rows:9,required:!0}),fe.jsx("button",{type:"submit",disabled:n,className:"button-submit px-3 py-2 rounded-md text-sm transition bg-purple-600 text-white hover:bg-purple-700",children:n?"Submitting...":"Submit"})]})})};function sne(){return fe.jsxs("div",{className:"w-full max-w-md px-4 py-5 ",children:[fe.jsx("div",{children:fe.jsxs("p",{className:"text-neutral-400 text-sm",children:["Interested in a collaboration or have queries? ",fe.jsx("br",{}),"Feel free to drop a message!"]})}),fe.jsx(ane,{})]})}function one(){return fe.jsxs("div",{className:"max-w-[1300px] glass  mx-auto mt-12 px-6 py-8 ",children:[fe.jsx("h2",{className:"text-4xl  text-white mb-8 text-center",children:"Connect with me"}),fe.jsxs("div",{className:"flex flex-col lg:flex-row p-4 justify-between mx-2 gap-6 lg:gap-15 ",children:[fe.jsx(sne,{}),fe.jsx(Xte,{})]})]})}function lne(){return fe.jsx(one,{})}function une(n){return iu({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"},child:[]}]})(n)}function cne(n){return iu({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"},child:[]}]})(n)}function ek({totalPages:n}){const[e,t]=m5(),i=Number(e.get("page"))||1;function r(){const s=i===n?i:i+1;e.set("page",s.toString()),t(e)}function a(){const s=i===1?i:i-1;e.set("page",s.toString()),t(e)}return n<=1?null:fe.jsxs("div",{className:"w-full flex flex-col sm:flex-row items-center justify-between gap-4 mt-6",children:[fe.jsxs("p",{className:"text-base ml-2 text-gray-300",children:["Page ",fe.jsx("span",{className:"font-semibold",children:i})," of"," ",fe.jsx("span",{className:"font-semibold",children:n})]}),fe.jsxs("div",{className:"flex gap-2",children:[fe.jsxs("button",{onClick:a,disabled:i===1,className:`flex items-center gap-1 px-3 py-2 rounded-md text-sm transition ${i===1?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,children:[fe.jsx(une,{className:"h-5 w-5"}),fe.jsx("span",{children:"Previous"})]}),fe.jsxs("button",{onClick:r,disabled:i===n,className:`flex items-center gap-1 px-3 py-2 rounded-md text-sm font-medium transition ${i===n?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,children:[fe.jsx("span",{children:"Next"}),fe.jsx(cne,{className:"h-5 w-5"})]})]})]})}function fne({categories:n,selected:e,onSelect:t}){return fe.jsx("div",{className:"mb-8 flex gap-2 flex-wrap",children:n.map(i=>fe.jsx("button",{className:`px-3 py-1 rounded text-sm cursor-pointer ${e===i?"bg-purple-600 text-white":"bg-gray-200 text-black"}`,onClick:()=>t(i),children:i},i))})}function hne(){const{projects:n,totalPages:e,categories:t,selectedCategory:i,isFetching:r,error:a}=MN(),s=a1();if(r)return fe.jsx(yv,{});if(a)return Ip.error(a),null;const l=c=>{s(`?category=${c}`)};return fe.jsxs("section",{children:[fe.jsx("h2",{className:"text-4xl text-white mb-8",children:"Projects"}),fe.jsx(fne,{categories:t,selected:i,onSelect:l}),fe.jsx(r9,{mode:"wait",children:fe.jsx(gg.div,{className:"grid gap-6 sm:grid-cols-2 items-stretch",children:n==null?void 0:n.map(c=>fe.jsx(gg.div,{layout:!0,children:fe.jsx(QL,{projects:c})},c.id))})}),fe.jsx(ek,{totalPages:e})]})}function dne(){return fe.jsx("div",{children:fe.jsx(hne,{})})}function pne(n){const{data:e,isFetching:t,error:i}=l1({queryKey:["project"],queryFn:()=>fV(n),enabled:!!n,keepPreviousData:!1});return{project:e,isFetching:t,error:i}}function mne(){const{id:n}=VL(),{project:e,isFetching:t,error:i}=pne(n);return i?(Ip.error(i),null):t?fe.jsx(yv,{}):fe.jsxs(fe.Fragment,{children:[fe.jsxs(Vu,{to:"/projects",className:"flex items-center text-purple-500 hover:text-purple-700 mb-6 transition",children:[fe.jsx(Lte,{className:"mr-2"}),"Back to projects"]}),fe.jsxs("div",{className:"grid gap-8 md:grid-cols-2 items-start",children:[fe.jsx("div",{children:fe.jsx("img",{src:e.image||"/images/no-images.png",alt:e.title||"Untitled",className:"rounded-lg shadow-md"})}),fe.jsxs("div",{children:[fe.jsx("h1",{className:"text-3xl font-bold text-purple-500 mb-4",children:e.title}),fe.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:[new Date(e.date).toLocaleDateString(),"  ",e.category]}),fe.jsx("p",{className:"text-gray-200 mb-6",children:e.description}),fe.jsxs("a",{href:e.url,target:"_blank",className:"inline-block text-white bg-purple-600 hover:bg-purple-700 px-6 py-2 rounded transition mb-6",children:["View Live Site"," "]}),fe.jsxs(Vu,{to:"/blog",className:"flex items-center text-purple-500 hover:text-purple-700 mb-6 transition",children:["Go to blog",fe.jsx(Nte,{className:"ml-2"})]})]})]})]})}function gne(){return fe.jsx(mne,{})}function yne({value:n,onChange:e}){return fe.jsx("input",{type:"text",placeholder:"Search . . .",value:n,onChange:e,className:`text-sm\r
            px-4 py-2\r
            border\r
            border-gray-700\r
            rounded-lg\r
            bg-grey-800\r
            font-medium\r
            shadow-sm\r
            mb-6\r
            w-full\r
            focus:outline-none focus:ring-2 focus:ring-purple-400`})}function vne(){const[n,e]=oe.useState(""),t=a1(),{posts:i,totalPages:r,isFetching:a,error:s}=UN();if(a)return fe.jsx(yv,{});if(s)return Ip.error(s),null;function l(c){const f=c.target.value;e(f),t(`?search=${encodeURIComponent(f)}&page=1`)}return fe.jsxs(fe.Fragment,{children:[fe.jsxs("div",{className:"glass max-w-[1300px] mx-auto mt-10 px-6 py-6 ",children:[fe.jsx("h2",{className:"text-4xl  text-white mb-4",children:"Blog"}),fe.jsx(yne,{value:n,onChange:l}),fe.jsx("div",{className:"space-y-8",children:i.length===0?fe.jsx("p",{className:"text-gray-400 text-center",children:"No posts found"}):i.map(c=>fe.jsx(NN,{post:c},c.slug))})]}),fe.jsx(ek,{totalPages:r})]})}function xne(){return fe.jsx(vne,{})}function bne(n){const{data:e,isFetching:t,error:i}=l1({queryKey:["postsdetails"],queryFn:()=>n8(n),enabled:!!n,keepPreviousData:!1});return{post:e,isFetching:t,error:i}}function _ne(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Sne=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ene=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Tne={};function LP(n,e){return(Tne.jsx?Ene:Sne).test(n)}const wne=/[ \t\n\f\r]/g;function Mne(n){return typeof n=="object"?n.type==="text"?NP(n.value):!1:NP(n)}function NP(n){return n.replace(wne,"")===""}class Qx{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}Qx.prototype.normal={};Qx.prototype.property={};Qx.prototype.space=void 0;function tk(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new Qx(t,i,e)}function JM(n){return n.toLowerCase()}class ru{constructor(e,t){this.attribute=t,this.property=e}}ru.prototype.attribute="";ru.prototype.booleanish=!1;ru.prototype.boolean=!1;ru.prototype.commaOrSpaceSeparated=!1;ru.prototype.commaSeparated=!1;ru.prototype.defined=!1;ru.prototype.mustUseProperty=!1;ru.prototype.number=!1;ru.prototype.overloadedBoolean=!1;ru.prototype.property="";ru.prototype.spaceSeparated=!1;ru.prototype.space=void 0;let Ane=0;const ei=Mg(),ns=Mg(),$M=Mg(),It=Mg(),Pr=Mg(),By=Mg(),Fu=Mg();function Mg(){return 2**++Ane}const eA=Object.freeze(Object.defineProperty({__proto__:null,boolean:ei,booleanish:ns,commaOrSpaceSeparated:Fu,commaSeparated:By,number:It,overloadedBoolean:$M,spaceSeparated:Pr},Symbol.toStringTag,{value:"Module"})),yw=Object.keys(eA);class n2 extends ru{constructor(e,t,i,r){let a=-1;if(super(e,t),UP(this,"space",r),typeof i=="number")for(;++a<yw.length;){const s=yw[a];UP(this,yw[a],(i&eA[s])===eA[s])}}}n2.prototype.defined=!0;function UP(n,e,t){t&&(n[e]=t)}function Cv(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const a=new n2(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),e[i]=a,t[JM(i)]=i,t[JM(a.attribute)]=i}return new Qx(e,t,n.space)}const nk=Cv({properties:{ariaActiveDescendant:null,ariaAtomic:ns,ariaAutoComplete:null,ariaBusy:ns,ariaChecked:ns,ariaColCount:It,ariaColIndex:It,ariaColSpan:It,ariaControls:Pr,ariaCurrent:null,ariaDescribedBy:Pr,ariaDetails:null,ariaDisabled:ns,ariaDropEffect:Pr,ariaErrorMessage:null,ariaExpanded:ns,ariaFlowTo:Pr,ariaGrabbed:ns,ariaHasPopup:null,ariaHidden:ns,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Pr,ariaLevel:It,ariaLive:null,ariaModal:ns,ariaMultiLine:ns,ariaMultiSelectable:ns,ariaOrientation:null,ariaOwns:Pr,ariaPlaceholder:null,ariaPosInSet:It,ariaPressed:ns,ariaReadOnly:ns,ariaRelevant:null,ariaRequired:ns,ariaRoleDescription:Pr,ariaRowCount:It,ariaRowIndex:It,ariaRowSpan:It,ariaSelected:ns,ariaSetSize:It,ariaSort:null,ariaValueMax:It,ariaValueMin:It,ariaValueNow:It,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function ik(n,e){return e in n?n[e]:e}function rk(n,e){return ik(n,e.toLowerCase())}const Cne=Cv({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:By,acceptCharset:Pr,accessKey:Pr,action:null,allow:null,allowFullScreen:ei,allowPaymentRequest:ei,allowUserMedia:ei,alt:null,as:null,async:ei,autoCapitalize:null,autoComplete:Pr,autoFocus:ei,autoPlay:ei,blocking:Pr,capture:null,charSet:null,checked:ei,cite:null,className:Pr,cols:It,colSpan:null,content:null,contentEditable:ns,controls:ei,controlsList:Pr,coords:It|By,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ei,defer:ei,dir:null,dirName:null,disabled:ei,download:$M,draggable:ns,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ei,formTarget:null,headers:Pr,height:It,hidden:$M,high:It,href:null,hrefLang:null,htmlFor:Pr,httpEquiv:Pr,id:null,imageSizes:null,imageSrcSet:null,inert:ei,inputMode:null,integrity:null,is:null,isMap:ei,itemId:null,itemProp:Pr,itemRef:Pr,itemScope:ei,itemType:Pr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ei,low:It,manifest:null,max:null,maxLength:It,media:null,method:null,min:null,minLength:It,multiple:ei,muted:ei,name:null,nonce:null,noModule:ei,noValidate:ei,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ei,optimum:It,pattern:null,ping:Pr,placeholder:null,playsInline:ei,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ei,referrerPolicy:null,rel:Pr,required:ei,reversed:ei,rows:It,rowSpan:It,sandbox:Pr,scope:null,scoped:ei,seamless:ei,selected:ei,shadowRootClonable:ei,shadowRootDelegatesFocus:ei,shadowRootMode:null,shape:null,size:It,sizes:null,slot:null,span:It,spellCheck:ns,src:null,srcDoc:null,srcLang:null,srcSet:null,start:It,step:null,style:null,tabIndex:It,target:null,title:null,translate:null,type:null,typeMustMatch:ei,useMap:null,value:ns,width:It,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Pr,axis:null,background:null,bgColor:null,border:It,borderColor:null,bottomMargin:It,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ei,declare:ei,event:null,face:null,frame:null,frameBorder:null,hSpace:It,leftMargin:It,link:null,longDesc:null,lowSrc:null,marginHeight:It,marginWidth:It,noResize:ei,noHref:ei,noShade:ei,noWrap:ei,object:null,profile:null,prompt:null,rev:null,rightMargin:It,rules:null,scheme:null,scrolling:ns,standby:null,summary:null,text:null,topMargin:It,valueType:null,version:null,vAlign:null,vLink:null,vSpace:It,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ei,disableRemotePlayback:ei,prefix:null,property:null,results:It,security:null,unselectable:null},space:"html",transform:rk}),Rne=Cv({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Fu,accentHeight:It,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:It,amplitude:It,arabicForm:null,ascent:It,attributeName:null,attributeType:null,azimuth:It,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:It,by:null,calcMode:null,capHeight:It,className:Pr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:It,diffuseConstant:It,direction:null,display:null,dur:null,divisor:It,dominantBaseline:null,download:ei,dx:null,dy:null,edgeMode:null,editable:null,elevation:It,enableBackground:null,end:null,event:null,exponent:It,externalResourcesRequired:null,fill:null,fillOpacity:It,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:By,g2:By,glyphName:By,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:It,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:It,horizOriginX:It,horizOriginY:It,id:null,ideographic:It,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:It,k:It,k1:It,k2:It,k3:It,k4:It,kernelMatrix:Fu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:It,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:It,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:It,overlineThickness:It,paintOrder:null,panose1:null,path:null,pathLength:It,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Pr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:It,pointsAtY:It,pointsAtZ:It,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Fu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Fu,rev:Fu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Fu,requiredFeatures:Fu,requiredFonts:Fu,requiredFormats:Fu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:It,specularExponent:It,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:It,strikethroughThickness:It,string:null,stroke:null,strokeDashArray:Fu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:It,strokeOpacity:It,strokeWidth:null,style:null,surfaceScale:It,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Fu,tabIndex:It,tableValues:null,target:null,targetX:It,targetY:It,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Fu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:It,underlineThickness:It,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:It,values:null,vAlphabetic:It,vMathematical:It,vectorEffect:null,vHanging:It,vIdeographic:It,version:null,vertAdvY:It,vertOriginX:It,vertOriginY:It,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:It,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ik}),ak=Cv({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),sk=Cv({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:rk}),ok=Cv({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),Dne={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},One=/[A-Z]/g,IP=/-[a-z]/g,Pne=/^data[-\w.:]+$/i;function Lne(n,e){const t=JM(e);let i=e,r=ru;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Pne.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(IP,Une);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!IP.test(a)){let s=a.replace(One,Nne);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}r=n2}return new r(i,e)}function Nne(n){return"-"+n.toLowerCase()}function Une(n){return n.charAt(1).toUpperCase()}const Ine=tk([nk,Cne,ak,sk,ok],"html"),i2=tk([nk,Rne,ak,sk,ok],"svg");function zne(n){return n.join(" ").trim()}var Ey={},vw,zP;function kne(){if(zP)return vw;zP=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,f="/",p="*",g="",y="comment",v="declaration";vw=function(D,M){if(typeof D!="string")throw new TypeError("First argument must be a string");if(!D)return[];M=M||{};var S=1,N=1;function P(se){var ge=se.match(e);ge&&(S+=ge.length);var xe=se.lastIndexOf(c);N=~xe?se.length-xe:N+se.length}function U(){var se={line:S,column:N};return function(ge){return ge.position=new X(se),W(),ge}}function X(se){this.start=se,this.end={line:S,column:N},this.source=M.source}X.prototype.content=D;function H(se){var ge=new Error(M.source+":"+S+":"+N+": "+se);if(ge.reason=se,ge.filename=M.source,ge.line=S,ge.column=N,ge.source=D,!M.silent)throw ge}function G(se){var ge=se.exec(D);if(ge){var xe=ge[0];return P(xe),D=D.slice(xe.length),ge}}function W(){G(t)}function B(se){var ge;for(se=se||[];ge=I();)ge!==!1&&se.push(ge);return se}function I(){var se=U();if(!(f!=D.charAt(0)||p!=D.charAt(1))){for(var ge=2;g!=D.charAt(ge)&&(p!=D.charAt(ge)||f!=D.charAt(ge+1));)++ge;if(ge+=2,g===D.charAt(ge-1))return H("End of comment missing");var xe=D.slice(2,ge-2);return N+=2,P(xe),D=D.slice(ge),N+=2,se({type:y,comment:xe})}}function Z(){var se=U(),ge=G(i);if(ge){if(I(),!G(r))return H("property missing ':'");var xe=G(a),ee=se({type:v,property:_(ge[0].replace(n,g)),value:xe?_(xe[0].replace(n,g)):g});return G(s),ee}}function ae(){var se=[];B(se);for(var ge;ge=Z();)ge!==!1&&(se.push(ge),B(se));return se}return W(),ae()};function _(D){return D?D.replace(l,g):g}return vw}var kP;function Bne(){if(kP)return Ey;kP=1;var n=Ey&&Ey.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.default=t;var e=n(kne());function t(i,r){var a=null;if(!i||typeof i!="string")return a;var s=(0,e.default)(i),l=typeof r=="function";return s.forEach(function(c){if(c.type==="declaration"){var f=c.property,p=c.value;l?r(f,p,c):p&&(a=a||{},a[f]=p)}}),a}return Ey}var f0={},BP;function Fne(){if(BP)return f0;BP=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,a=function(f){return!f||t.test(f)||n.test(f)},s=function(f,p){return p.toUpperCase()},l=function(f,p){return"".concat(p,"-")},c=function(f,p){return p===void 0&&(p={}),a(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(r,l):f=f.replace(i,l),f.replace(e,s))};return f0.camelCase=c,f0}var h0,FP;function Hne(){if(FP)return h0;FP=1;var n=h0&&h0.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=n(Bne()),t=Fne();function i(r,a){var s={};return!r||typeof r!="string"||(0,e.default)(r,function(l,c){l&&c&&(s[(0,t.camelCase)(l,a)]=c)}),s}return i.default=i,h0=i,h0}var Vne=Hne();const Gne=dv(Vne),lk=uk("end"),r2=uk("start");function uk(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function Xne(n){const e=r2(n),t=lk(n);if(e&&t)return{start:e,end:t}}function V0(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?HP(n.position):"start"in n||"end"in n?HP(n):"line"in n||"column"in n?tA(n):""}function tA(n){return VP(n&&n.line)+":"+VP(n&&n.column)}function HP(n){return tA(n&&n.start)+"-"+tA(n&&n.end)}function VP(n){return n&&typeof n=="number"?n:1}class Fo extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",a={},s=!1;if(t&&("line"in t&&"column"in t?a={place:t}:"start"in t&&"end"in t?a={place:t}:"type"in t?a={ancestors:[t],place:t.position}:a={...t}),typeof e=="string"?r=e:!a.cause&&e&&(s=!0,r=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){const c=i.indexOf(":");c===-1?a.ruleId=i:(a.source=i.slice(0,c),a.ruleId=i.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=l?l.line:void 0,this.name=V0(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Fo.prototype.file="";Fo.prototype.name="";Fo.prototype.reason="";Fo.prototype.message="";Fo.prototype.stack="";Fo.prototype.column=void 0;Fo.prototype.line=void 0;Fo.prototype.ancestors=void 0;Fo.prototype.cause=void 0;Fo.prototype.fatal=void 0;Fo.prototype.place=void 0;Fo.prototype.ruleId=void 0;Fo.prototype.source=void 0;const a2={}.hasOwnProperty,Wne=new Map,Yne=/[A-Z]/g,jne=new Set(["table","tbody","thead","tfoot","tr"]),qne=new Set(["td","th"]),ck="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Zne(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=iie(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=nie(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?i2:Ine,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=fk(r,n,void 0);return a&&typeof a!="string"?a:r.create(n,r.Fragment,{children:a||void 0},void 0)}function fk(n,e,t){if(e.type==="element")return Kne(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Qne(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return $ne(n,e,t);if(e.type==="mdxjsEsm")return Jne(n,e);if(e.type==="root")return eie(n,e,t);if(e.type==="text")return tie(n,e)}function Kne(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=i2,n.schema=r),n.ancestors.push(e);const a=dk(n,e.tagName,!1),s=rie(n,e);let l=o2(n,e);return jne.has(e.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!Mne(c):!0})),hk(n,s,a,e),s2(s,l),n.ancestors.pop(),n.schema=i,n.create(e,a,s,t)}function Qne(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}bx(n,e.position)}function Jne(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);bx(n,e.position)}function $ne(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=i2,n.schema=r),n.ancestors.push(e);const a=e.name===null?n.Fragment:dk(n,e.name,!0),s=aie(n,e),l=o2(n,e);return hk(n,s,a,e),s2(s,l),n.ancestors.pop(),n.schema=i,n.create(e,a,s,t)}function eie(n,e,t){const i={};return s2(i,o2(n,e)),n.create(e,n.Fragment,i,t)}function tie(n,e){return e.value}function hk(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function s2(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function nie(n,e,t){return i;function i(r,a,s,l){const f=Array.isArray(s.children)?t:e;return l?f(a,s,l):f(a,s)}}function iie(n,e){return t;function t(i,r,a,s){const l=Array.isArray(a.children),c=r2(i);return e(r,a,s,l,{columnNumber:c?c.column-1:void 0,fileName:n,lineNumber:c?c.line:void 0},void 0)}}function rie(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&a2.call(e.properties,r)){const a=sie(n,r,e.properties[r]);if(a){const[s,l]=a;n.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&qne.has(e.tagName)?i=l:t[s]=l}}if(i){const a=t.style||(t.style={});a[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function aie(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const a=i.data.estree.body[0];a.type;const s=a.expression;s.type;const l=s.properties[0];l.type,Object.assign(t,n.evaluater.evaluateExpression(l.argument))}else bx(n,e.position);else{const r=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const l=i.value.data.estree.body[0];l.type,a=n.evaluater.evaluateExpression(l.expression)}else bx(n,e.position);else a=i.value===null?!0:i.value;t[r]=a}return t}function o2(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:Wne;for(;++i<e.children.length;){const a=e.children[i];let s;if(n.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const f=r.get(c)||0;s=c+"-"+f,r.set(c,f+1)}}const l=fk(n,a,s);l!==void 0&&t.push(l)}return t}function sie(n,e,t){const i=Lne(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?_ne(t):zne(t)),i.property==="style"){let r=typeof t=="object"?t:oie(n,String(t));return n.stylePropertyNameCase==="css"&&(r=lie(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?Dne[i.property]||i.property:i.attribute,t]}}function oie(n,e){try{return Gne(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new Fo("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=ck+"#cannot-parse-style-attribute",r}}function dk(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let a=-1,s;for(;++a<r.length;){const l=LP(r[a])?{type:"Identifier",name:r[a]}:{type:"Literal",value:r[a]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}i=s}else i=LP(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return a2.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);bx(n)}function bx(n,e){const t=new Fo("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=ck+"#cannot-handle-mdx-estrees-without-createevaluater",t}function lie(n){const e={};let t;for(t in n)a2.call(n,t)&&(e[uie(t)]=n[t]);return e}function uie(n){let e=n.replace(Yne,cie);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function cie(n){return"-"+n.toLowerCase()}const xw={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},fie={};function l2(n,e){const t=fie,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return pk(n,i,r)}function pk(n,e,t){if(hie(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return GP(n.children,e,t)}return Array.isArray(n)?GP(n,e,t):""}function GP(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=pk(n[r],e,t);return i.join("")}function hie(n){return!!(n&&typeof n=="object")}const XP=document.createElement("i");function u2(n){const e="&"+n+";";XP.innerHTML=e;const t=XP.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Xu(n,e,t,i){const r=n.length;let a=0,s;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)s=Array.from(i),s.unshift(e,t),n.splice(...s);else for(t&&n.splice(e,t);a<i.length;)s=i.slice(a,a+1e4),s.unshift(e,0),n.splice(...s),a+=1e4,e+=1e4}function Mc(n,e){return n.length>0?(Xu(n,n.length,0,e),n):e}const WP={}.hasOwnProperty;function mk(n){const e={};let t=-1;for(;++t<n.length;)die(e,n[t]);return e}function die(n,e){let t;for(t in e){const r=(WP.call(n,t)?n[t]:void 0)||(n[t]={}),a=e[t];let s;if(a)for(s in a){WP.call(r,s)||(r[s]=[]);const l=a[s];pie(r[s],Array.isArray(l)?l:l?[l]:[])}}}function pie(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);Xu(n,0,0,i)}function gk(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Sf(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pl=qp(/[A-Za-z]/),zo=qp(/[\dA-Za-z]/),mie=qp(/[#-'*+\--9=?A-Z^-~]/);function e1(n){return n!==null&&(n<32||n===127)}const nA=qp(/\d/),gie=qp(/[\dA-Fa-f]/),yie=qp(/[!-/:-@[-`{-~]/);function En(n){return n!==null&&n<-2}function yr(n){return n!==null&&(n<0||n===32)}function fi(n){return n===-2||n===-1||n===32}const eE=qp(new RegExp("\\p{P}|\\p{S}","u")),_g=qp(/\s/);function qp(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Rv(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const a=n.charCodeAt(t);let s="";if(a===37&&zo(n.charCodeAt(t+1))&&zo(n.charCodeAt(t+2)))r=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=n.charCodeAt(t+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),r=1):s=""}else s=String.fromCharCode(a);s&&(e.push(n.slice(i,t),encodeURIComponent(s)),i=t+r+1,s=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function Ti(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return fi(c)?(n.enter(t),l(c)):e(c)}function l(c){return fi(c)&&a++<r?(n.consume(c),l):(n.exit(t),e(c))}}const vie={tokenize:xie};function xie(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),Ti(n,e,"linePrefix")}function r(l){return n.enter("paragraph"),a(l)}function a(l){const c=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,s(l)}function s(l){if(l===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(l);return}return En(l)?(n.consume(l),n.exit("chunkText"),a):(n.consume(l),s)}}const bie={tokenize:_ie},YP={tokenize:Sie};function _ie(n){const e=this,t=[];let i=0,r,a,s;return l;function l(P){if(i<t.length){const U=t[i];return e.containerState=U[1],n.attempt(U[0].continuation,c,f)(P)}return f(P)}function c(P){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&N();const U=e.events.length;let X=U,H;for(;X--;)if(e.events[X][0]==="exit"&&e.events[X][1].type==="chunkFlow"){H=e.events[X][1].end;break}S(i);let G=U;for(;G<e.events.length;)e.events[G][1].end={...H},G++;return Xu(e.events,X+1,0,e.events.slice(U)),e.events.length=G,f(P)}return l(P)}function f(P){if(i===t.length){if(!r)return y(P);if(r.currentConstruct&&r.currentConstruct.concrete)return _(P);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(YP,p,g)(P)}function p(P){return r&&N(),S(i),y(P)}function g(P){return e.parser.lazy[e.now().line]=i!==t.length,s=e.now().offset,_(P)}function y(P){return e.containerState={},n.attempt(YP,v,_)(P)}function v(P){return i++,t.push([e.currentConstruct,e.containerState]),y(P)}function _(P){if(P===null){r&&N(),S(0),n.consume(P);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:a}),D(P)}function D(P){if(P===null){M(n.exit("chunkFlow"),!0),S(0),n.consume(P);return}return En(P)?(n.consume(P),M(n.exit("chunkFlow")),i=0,e.interrupt=void 0,l):(n.consume(P),D)}function M(P,U){const X=e.sliceStream(P);if(U&&X.push(null),P.previous=a,a&&(a.next=P),a=P,r.defineSkip(P.start),r.write(X),e.parser.lazy[P.start.line]){let H=r.events.length;for(;H--;)if(r.events[H][1].start.offset<s&&(!r.events[H][1].end||r.events[H][1].end.offset>s))return;const G=e.events.length;let W=G,B,I;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){if(B){I=e.events[W][1].end;break}B=!0}for(S(i),H=G;H<e.events.length;)e.events[H][1].end={...I},H++;Xu(e.events,W+1,0,e.events.slice(G)),e.events.length=H}}function S(P){let U=t.length;for(;U-- >P;){const X=t[U];e.containerState=X[1],X[0].exit.call(e,n)}t.length=P}function N(){r.write([null]),a=void 0,r=void 0,e.containerState._closeFlow=void 0}}function Sie(n,e,t){return Ti(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function hv(n){if(n===null||yr(n)||_g(n))return 1;if(eE(n))return 2}function tE(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const a=n[r].resolveAll;a&&!i.includes(a)&&(e=a(e,t),i.push(a))}return e}const iA={name:"attention",resolveAll:Eie,tokenize:Tie};function Eie(n,e){let t=-1,i,r,a,s,l,c,f,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;c=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const g={...n[i][1].end},y={...n[t][1].start};jP(g,-c),jP(y,c),s={type:c>1?"strongSequence":"emphasisSequence",start:g,end:{...n[i][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:y},a={type:c>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:c>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},n[i][1].end={...s.start},n[t][1].start={...l.end},f=[],n[i][1].end.offset-n[i][1].start.offset&&(f=Mc(f,[["enter",n[i][1],e],["exit",n[i][1],e]])),f=Mc(f,[["enter",r,e],["enter",s,e],["exit",s,e],["enter",a,e]]),f=Mc(f,tE(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),f=Mc(f,[["exit",a,e],["enter",l,e],["exit",l,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,f=Mc(f,[["enter",n[t][1],e],["exit",n[t][1],e]])):p=0,Xu(n,i-1,t-i+3,f),t=i+f.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function Tie(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=hv(i);let a;return s;function s(c){return a=c,n.enter("attentionSequence"),l(c)}function l(c){if(c===a)return n.consume(c),l;const f=n.exit("attentionSequence"),p=hv(c),g=!p||p===2&&r||t.includes(c),y=!r||r===2&&p||t.includes(i);return f._open=!!(a===42?g:g&&(r||!y)),f._close=!!(a===42?y:y&&(p||!g)),e(c)}}function jP(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const wie={name:"autolink",tokenize:Mie};function Mie(n,e,t){let i=0;return r;function r(v){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(v),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),a}function a(v){return pl(v)?(n.consume(v),s):v===64?t(v):f(v)}function s(v){return v===43||v===45||v===46||zo(v)?(i=1,l(v)):f(v)}function l(v){return v===58?(n.consume(v),i=0,c):(v===43||v===45||v===46||zo(v))&&i++<32?(n.consume(v),l):(i=0,f(v))}function c(v){return v===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(v),n.exit("autolinkMarker"),n.exit("autolink"),e):v===null||v===32||v===60||e1(v)?t(v):(n.consume(v),c)}function f(v){return v===64?(n.consume(v),p):mie(v)?(n.consume(v),f):t(v)}function p(v){return zo(v)?g(v):t(v)}function g(v){return v===46?(n.consume(v),i=0,p):v===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(v),n.exit("autolinkMarker"),n.exit("autolink"),e):y(v)}function y(v){if((v===45||zo(v))&&i++<63){const _=v===45?y:g;return n.consume(v),_}return t(v)}}const Jx={partial:!0,tokenize:Aie};function Aie(n,e,t){return i;function i(a){return fi(a)?Ti(n,r,"linePrefix")(a):r(a)}function r(a){return a===null||En(a)?e(a):t(a)}}const yk={continuation:{tokenize:Rie},exit:Die,name:"blockQuote",tokenize:Cie};function Cie(n,e,t){const i=this;return r;function r(s){if(s===62){const l=i.containerState;return l.open||(n.enter("blockQuote",{_container:!0}),l.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(s),n.exit("blockQuoteMarker"),a}return t(s)}function a(s){return fi(s)?(n.enter("blockQuotePrefixWhitespace"),n.consume(s),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(s))}}function Rie(n,e,t){const i=this;return r;function r(s){return fi(s)?Ti(n,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return n.attempt(yk,e,t)(s)}}function Die(n){n.exit("blockQuote")}const vk={name:"characterEscape",tokenize:Oie};function Oie(n,e,t){return i;function i(a){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(a),n.exit("escapeMarker"),r}function r(a){return yie(a)?(n.enter("characterEscapeValue"),n.consume(a),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(a)}}const xk={name:"characterReference",tokenize:Pie};function Pie(n,e,t){const i=this;let r=0,a,s;return l;function l(g){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),c}function c(g){return g===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(g),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),a=31,s=zo,p(g))}function f(g){return g===88||g===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(g),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),a=6,s=gie,p):(n.enter("characterReferenceValue"),a=7,s=nA,p(g))}function p(g){if(g===59&&r){const y=n.exit("characterReferenceValue");return s===zo&&!u2(i.sliceSerialize(y))?t(g):(n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return s(g)&&r++<a?(n.consume(g),p):t(g)}}const qP={partial:!0,tokenize:Nie},ZP={concrete:!0,name:"codeFenced",tokenize:Lie};function Lie(n,e,t){const i=this,r={partial:!0,tokenize:X};let a=0,s=0,l;return c;function c(H){return f(H)}function f(H){const G=i.events[i.events.length-1];return a=G&&G[1].type==="linePrefix"?G[2].sliceSerialize(G[1],!0).length:0,l=H,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),p(H)}function p(H){return H===l?(s++,n.consume(H),p):s<3?t(H):(n.exit("codeFencedFenceSequence"),fi(H)?Ti(n,g,"whitespace")(H):g(H))}function g(H){return H===null||En(H)?(n.exit("codeFencedFence"),i.interrupt?e(H):n.check(qP,D,U)(H)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),y(H))}function y(H){return H===null||En(H)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),g(H)):fi(H)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Ti(n,v,"whitespace")(H)):H===96&&H===l?t(H):(n.consume(H),y)}function v(H){return H===null||En(H)?g(H):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),_(H))}function _(H){return H===null||En(H)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),g(H)):H===96&&H===l?t(H):(n.consume(H),_)}function D(H){return n.attempt(r,U,M)(H)}function M(H){return n.enter("lineEnding"),n.consume(H),n.exit("lineEnding"),S}function S(H){return a>0&&fi(H)?Ti(n,N,"linePrefix",a+1)(H):N(H)}function N(H){return H===null||En(H)?n.check(qP,D,U)(H):(n.enter("codeFlowValue"),P(H))}function P(H){return H===null||En(H)?(n.exit("codeFlowValue"),N(H)):(n.consume(H),P)}function U(H){return n.exit("codeFenced"),e(H)}function X(H,G,W){let B=0;return I;function I(xe){return H.enter("lineEnding"),H.consume(xe),H.exit("lineEnding"),Z}function Z(xe){return H.enter("codeFencedFence"),fi(xe)?Ti(H,ae,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(xe):ae(xe)}function ae(xe){return xe===l?(H.enter("codeFencedFenceSequence"),se(xe)):W(xe)}function se(xe){return xe===l?(B++,H.consume(xe),se):B>=s?(H.exit("codeFencedFenceSequence"),fi(xe)?Ti(H,ge,"whitespace")(xe):ge(xe)):W(xe)}function ge(xe){return xe===null||En(xe)?(H.exit("codeFencedFence"),G(xe)):W(xe)}}}function Nie(n,e,t){const i=this;return r;function r(s){return s===null?t(s):(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),a)}function a(s){return i.parser.lazy[i.now().line]?t(s):e(s)}}const bw={name:"codeIndented",tokenize:Iie},Uie={partial:!0,tokenize:zie};function Iie(n,e,t){const i=this;return r;function r(f){return n.enter("codeIndented"),Ti(n,a,"linePrefix",5)(f)}function a(f){const p=i.events[i.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?s(f):t(f)}function s(f){return f===null?c(f):En(f)?n.attempt(Uie,s,c)(f):(n.enter("codeFlowValue"),l(f))}function l(f){return f===null||En(f)?(n.exit("codeFlowValue"),s(f)):(n.consume(f),l)}function c(f){return n.exit("codeIndented"),e(f)}}function zie(n,e,t){const i=this;return r;function r(s){return i.parser.lazy[i.now().line]?t(s):En(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),r):Ti(n,a,"linePrefix",5)(s)}function a(s){const l=i.events[i.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):En(s)?r(s):t(s)}}const kie={name:"codeText",previous:Fie,resolve:Bie,tokenize:Hie};function Bie(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function Fie(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Hie(n,e,t){let i=0,r,a;return s;function s(g){return n.enter("codeText"),n.enter("codeTextSequence"),l(g)}function l(g){return g===96?(n.consume(g),i++,l):(n.exit("codeTextSequence"),c(g))}function c(g){return g===null?t(g):g===32?(n.enter("space"),n.consume(g),n.exit("space"),c):g===96?(a=n.enter("codeTextSequence"),r=0,p(g)):En(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),c):(n.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||En(g)?(n.exit("codeTextData"),c(g)):(n.consume(g),f)}function p(g){return g===96?(n.consume(g),r++,p):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(g)):(a.type="codeTextData",f(g))}}class Vie{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&d0(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),d0(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),d0(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);d0(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);d0(this.left,t.reverse())}}}function d0(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function bk(n){const e={};let t=-1,i,r,a,s,l,c,f;const p=new Vie(n);for(;++t<p.length;){for(;t in e;)t=e[t];if(i=p.get(t),t&&i[1].type==="chunkFlow"&&p.get(t-1)[1].type==="listItemPrefix"&&(c=i[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,Gie(p,t)),t=e[t],f=!0);else if(i[1]._container){for(a=t,r=void 0;a--;)if(s=p.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(r&&(p.get(r)[1].type="lineEndingBlank"),s[1].type="lineEnding",r=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;r&&(i[1].end={...p.get(r)[1].start},l=p.slice(r,t),l.unshift(i),p.splice(r,t-r+1,l))}}return Xu(n,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function Gie(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const a=[];let s=t._tokenizer;s||(s=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,c=[],f={};let p,g,y=-1,v=t,_=0,D=0;const M=[D];for(;v;){for(;n.get(++r)[1]!==v;);a.push(r),v._tokenizer||(p=i.sliceStream(v),v.next||p.push(null),g&&s.defineSkip(v.start),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(p),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),g=v,v=v.next}for(v=t;++y<l.length;)l[y][0]==="exit"&&l[y-1][0]==="enter"&&l[y][1].type===l[y-1][1].type&&l[y][1].start.line!==l[y][1].end.line&&(D=y+1,M.push(D),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(s.events=[],v?(v._tokenizer=void 0,v.previous=void 0):M.pop(),y=M.length;y--;){const S=l.slice(M[y],M[y+1]),N=a.pop();c.push([N,N+S.length-1]),n.splice(N,2,S)}for(c.reverse(),y=-1;++y<c.length;)f[_+c[y][0]]=_+c[y][1],_+=c[y][1]-c[y][0]-1;return f}const Xie={resolve:Yie,tokenize:jie},Wie={partial:!0,tokenize:qie};function Yie(n){return bk(n),n}function jie(n,e){let t;return i;function i(l){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(l)}function r(l){return l===null?a(l):En(l)?n.check(Wie,s,a)(l):(n.consume(l),r)}function a(l){return n.exit("chunkContent"),n.exit("content"),e(l)}function s(l){return n.consume(l),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function qie(n,e,t){const i=this;return r;function r(s){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),Ti(n,a,"linePrefix")}function a(s){if(s===null||En(s))return t(s);const l=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):n.interrupt(i.parser.constructs.flow,t,e)(s)}}function _k(n,e,t,i,r,a,s,l,c){const f=c||Number.POSITIVE_INFINITY;let p=0;return g;function g(S){return S===60?(n.enter(i),n.enter(r),n.enter(a),n.consume(S),n.exit(a),y):S===null||S===32||S===41||e1(S)?t(S):(n.enter(i),n.enter(s),n.enter(l),n.enter("chunkString",{contentType:"string"}),D(S))}function y(S){return S===62?(n.enter(a),n.consume(S),n.exit(a),n.exit(r),n.exit(i),e):(n.enter(l),n.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===62?(n.exit("chunkString"),n.exit(l),y(S)):S===null||S===60||En(S)?t(S):(n.consume(S),S===92?_:v)}function _(S){return S===60||S===62||S===92?(n.consume(S),v):v(S)}function D(S){return!p&&(S===null||S===41||yr(S))?(n.exit("chunkString"),n.exit(l),n.exit(s),n.exit(i),e(S)):p<f&&S===40?(n.consume(S),p++,D):S===41?(n.consume(S),p--,D):S===null||S===32||S===40||e1(S)?t(S):(n.consume(S),S===92?M:D)}function M(S){return S===40||S===41||S===92?(n.consume(S),D):D(S)}}function Sk(n,e,t,i,r,a){const s=this;let l=0,c;return f;function f(v){return n.enter(i),n.enter(r),n.consume(v),n.exit(r),n.enter(a),p}function p(v){return l>999||v===null||v===91||v===93&&!c||v===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?t(v):v===93?(n.exit(a),n.enter(r),n.consume(v),n.exit(r),n.exit(i),e):En(v)?(n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===null||v===91||v===93||En(v)||l++>999?(n.exit("chunkString"),p(v)):(n.consume(v),c||(c=!fi(v)),v===92?y:g)}function y(v){return v===91||v===92||v===93?(n.consume(v),l++,g):g(v)}}function Ek(n,e,t,i,r,a){let s;return l;function l(y){return y===34||y===39||y===40?(n.enter(i),n.enter(r),n.consume(y),n.exit(r),s=y===40?41:y,c):t(y)}function c(y){return y===s?(n.enter(r),n.consume(y),n.exit(r),n.exit(i),e):(n.enter(a),f(y))}function f(y){return y===s?(n.exit(a),c(s)):y===null?t(y):En(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),Ti(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===s||y===null||En(y)?(n.exit("chunkString"),f(y)):(n.consume(y),y===92?g:p)}function g(y){return y===s||y===92?(n.consume(y),p):p(y)}}function G0(n,e){let t;return i;function i(r){return En(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):fi(r)?Ti(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const Zie={name:"definition",tokenize:Qie},Kie={partial:!0,tokenize:Jie};function Qie(n,e,t){const i=this;let r;return a;function a(v){return n.enter("definition"),s(v)}function s(v){return Sk.call(i,n,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function l(v){return r=Sf(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),v===58?(n.enter("definitionMarker"),n.consume(v),n.exit("definitionMarker"),c):t(v)}function c(v){return yr(v)?G0(n,f)(v):f(v)}function f(v){return _k(n,p,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return n.attempt(Kie,g,g)(v)}function g(v){return fi(v)?Ti(n,y,"whitespace")(v):y(v)}function y(v){return v===null||En(v)?(n.exit("definition"),i.parser.defined.push(r),e(v)):t(v)}}function Jie(n,e,t){return i;function i(l){return yr(l)?G0(n,r)(l):t(l)}function r(l){return Ek(n,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return fi(l)?Ti(n,s,"whitespace")(l):s(l)}function s(l){return l===null||En(l)?e(l):t(l)}}const $ie={name:"hardBreakEscape",tokenize:ere};function ere(n,e,t){return i;function i(a){return n.enter("hardBreakEscape"),n.consume(a),r}function r(a){return En(a)?(n.exit("hardBreakEscape"),e(a)):t(a)}}const tre={name:"headingAtx",resolve:nre,tokenize:ire};function nre(n,e){let t=n.length-2,i=3,r,a;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},a={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},Xu(n,i,t-i+1,[["enter",r,e],["enter",a,e],["exit",a,e],["exit",r,e]])),n}function ire(n,e,t){let i=0;return r;function r(p){return n.enter("atxHeading"),a(p)}function a(p){return n.enter("atxHeadingSequence"),s(p)}function s(p){return p===35&&i++<6?(n.consume(p),s):p===null||yr(p)?(n.exit("atxHeadingSequence"),l(p)):t(p)}function l(p){return p===35?(n.enter("atxHeadingSequence"),c(p)):p===null||En(p)?(n.exit("atxHeading"),e(p)):fi(p)?Ti(n,l,"whitespace")(p):(n.enter("atxHeadingText"),f(p))}function c(p){return p===35?(n.consume(p),c):(n.exit("atxHeadingSequence"),l(p))}function f(p){return p===null||p===35||yr(p)?(n.exit("atxHeadingText"),l(p)):(n.consume(p),f)}}const rre=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],KP=["pre","script","style","textarea"],are={concrete:!0,name:"htmlFlow",resolveTo:lre,tokenize:ure},sre={partial:!0,tokenize:fre},ore={partial:!0,tokenize:cre};function lre(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function ure(n,e,t){const i=this;let r,a,s,l,c;return f;function f(te){return p(te)}function p(te){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(te),g}function g(te){return te===33?(n.consume(te),y):te===47?(n.consume(te),a=!0,D):te===63?(n.consume(te),r=3,i.interrupt?e:F):pl(te)?(n.consume(te),s=String.fromCharCode(te),M):t(te)}function y(te){return te===45?(n.consume(te),r=2,v):te===91?(n.consume(te),r=5,l=0,_):pl(te)?(n.consume(te),r=4,i.interrupt?e:F):t(te)}function v(te){return te===45?(n.consume(te),i.interrupt?e:F):t(te)}function _(te){const Oe="CDATA[";return te===Oe.charCodeAt(l++)?(n.consume(te),l===Oe.length?i.interrupt?e:ae:_):t(te)}function D(te){return pl(te)?(n.consume(te),s=String.fromCharCode(te),M):t(te)}function M(te){if(te===null||te===47||te===62||yr(te)){const Oe=te===47,tt=s.toLowerCase();return!Oe&&!a&&KP.includes(tt)?(r=1,i.interrupt?e(te):ae(te)):rre.includes(s.toLowerCase())?(r=6,Oe?(n.consume(te),S):i.interrupt?e(te):ae(te)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(te):a?N(te):P(te))}return te===45||zo(te)?(n.consume(te),s+=String.fromCharCode(te),M):t(te)}function S(te){return te===62?(n.consume(te),i.interrupt?e:ae):t(te)}function N(te){return fi(te)?(n.consume(te),N):I(te)}function P(te){return te===47?(n.consume(te),I):te===58||te===95||pl(te)?(n.consume(te),U):fi(te)?(n.consume(te),P):I(te)}function U(te){return te===45||te===46||te===58||te===95||zo(te)?(n.consume(te),U):X(te)}function X(te){return te===61?(n.consume(te),H):fi(te)?(n.consume(te),X):P(te)}function H(te){return te===null||te===60||te===61||te===62||te===96?t(te):te===34||te===39?(n.consume(te),c=te,G):fi(te)?(n.consume(te),H):W(te)}function G(te){return te===c?(n.consume(te),c=null,B):te===null||En(te)?t(te):(n.consume(te),G)}function W(te){return te===null||te===34||te===39||te===47||te===60||te===61||te===62||te===96||yr(te)?X(te):(n.consume(te),W)}function B(te){return te===47||te===62||fi(te)?P(te):t(te)}function I(te){return te===62?(n.consume(te),Z):t(te)}function Z(te){return te===null||En(te)?ae(te):fi(te)?(n.consume(te),Z):t(te)}function ae(te){return te===45&&r===2?(n.consume(te),ee):te===60&&r===1?(n.consume(te),le):te===62&&r===4?(n.consume(te),J):te===63&&r===3?(n.consume(te),F):te===93&&r===5?(n.consume(te),pe):En(te)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(sre,Le,se)(te)):te===null||En(te)?(n.exit("htmlFlowData"),se(te)):(n.consume(te),ae)}function se(te){return n.check(ore,ge,Le)(te)}function ge(te){return n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),xe}function xe(te){return te===null||En(te)?se(te):(n.enter("htmlFlowData"),ae(te))}function ee(te){return te===45?(n.consume(te),F):ae(te)}function le(te){return te===47?(n.consume(te),s="",ve):ae(te)}function ve(te){if(te===62){const Oe=s.toLowerCase();return KP.includes(Oe)?(n.consume(te),J):ae(te)}return pl(te)&&s.length<8?(n.consume(te),s+=String.fromCharCode(te),ve):ae(te)}function pe(te){return te===93?(n.consume(te),F):ae(te)}function F(te){return te===62?(n.consume(te),J):te===45&&r===2?(n.consume(te),F):ae(te)}function J(te){return te===null||En(te)?(n.exit("htmlFlowData"),Le(te)):(n.consume(te),J)}function Le(te){return n.exit("htmlFlow"),e(te)}}function cre(n,e,t){const i=this;return r;function r(s){return En(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),a):t(s)}function a(s){return i.parser.lazy[i.now().line]?t(s):e(s)}}function fre(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(Jx,e,t)}}const hre={name:"htmlText",tokenize:dre};function dre(n,e,t){const i=this;let r,a,s;return l;function l(F){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(F),c}function c(F){return F===33?(n.consume(F),f):F===47?(n.consume(F),X):F===63?(n.consume(F),P):pl(F)?(n.consume(F),W):t(F)}function f(F){return F===45?(n.consume(F),p):F===91?(n.consume(F),a=0,_):pl(F)?(n.consume(F),N):t(F)}function p(F){return F===45?(n.consume(F),v):t(F)}function g(F){return F===null?t(F):F===45?(n.consume(F),y):En(F)?(s=g,le(F)):(n.consume(F),g)}function y(F){return F===45?(n.consume(F),v):g(F)}function v(F){return F===62?ee(F):F===45?y(F):g(F)}function _(F){const J="CDATA[";return F===J.charCodeAt(a++)?(n.consume(F),a===J.length?D:_):t(F)}function D(F){return F===null?t(F):F===93?(n.consume(F),M):En(F)?(s=D,le(F)):(n.consume(F),D)}function M(F){return F===93?(n.consume(F),S):D(F)}function S(F){return F===62?ee(F):F===93?(n.consume(F),S):D(F)}function N(F){return F===null||F===62?ee(F):En(F)?(s=N,le(F)):(n.consume(F),N)}function P(F){return F===null?t(F):F===63?(n.consume(F),U):En(F)?(s=P,le(F)):(n.consume(F),P)}function U(F){return F===62?ee(F):P(F)}function X(F){return pl(F)?(n.consume(F),H):t(F)}function H(F){return F===45||zo(F)?(n.consume(F),H):G(F)}function G(F){return En(F)?(s=G,le(F)):fi(F)?(n.consume(F),G):ee(F)}function W(F){return F===45||zo(F)?(n.consume(F),W):F===47||F===62||yr(F)?B(F):t(F)}function B(F){return F===47?(n.consume(F),ee):F===58||F===95||pl(F)?(n.consume(F),I):En(F)?(s=B,le(F)):fi(F)?(n.consume(F),B):ee(F)}function I(F){return F===45||F===46||F===58||F===95||zo(F)?(n.consume(F),I):Z(F)}function Z(F){return F===61?(n.consume(F),ae):En(F)?(s=Z,le(F)):fi(F)?(n.consume(F),Z):B(F)}function ae(F){return F===null||F===60||F===61||F===62||F===96?t(F):F===34||F===39?(n.consume(F),r=F,se):En(F)?(s=ae,le(F)):fi(F)?(n.consume(F),ae):(n.consume(F),ge)}function se(F){return F===r?(n.consume(F),r=void 0,xe):F===null?t(F):En(F)?(s=se,le(F)):(n.consume(F),se)}function ge(F){return F===null||F===34||F===39||F===60||F===61||F===96?t(F):F===47||F===62||yr(F)?B(F):(n.consume(F),ge)}function xe(F){return F===47||F===62||yr(F)?B(F):t(F)}function ee(F){return F===62?(n.consume(F),n.exit("htmlTextData"),n.exit("htmlText"),e):t(F)}function le(F){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(F),n.exit("lineEnding"),ve}function ve(F){return fi(F)?Ti(n,pe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):pe(F)}function pe(F){return n.enter("htmlTextData"),s(F)}}const c2={name:"labelEnd",resolveAll:yre,resolveTo:vre,tokenize:xre},pre={tokenize:bre},mre={tokenize:_re},gre={tokenize:Sre};function yre(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&Xu(n,0,n.length,t),n}function vre(n,e){let t=n.length,i=0,r,a,s,l;for(;t--;)if(r=n[t][1],a){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(s){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(a=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(s=t);const c={type:n[a][1].type==="labelLink"?"link":"image",start:{...n[a][1].start},end:{...n[n.length-1][1].end}},f={type:"label",start:{...n[a][1].start},end:{...n[s][1].end}},p={type:"labelText",start:{...n[a+i+2][1].end},end:{...n[s-2][1].start}};return l=[["enter",c,e],["enter",f,e]],l=Mc(l,n.slice(a+1,a+i+3)),l=Mc(l,[["enter",p,e]]),l=Mc(l,tE(e.parser.constructs.insideSpan.null,n.slice(a+i+4,s-3),e)),l=Mc(l,[["exit",p,e],n[s-2],n[s-1],["exit",f,e]]),l=Mc(l,n.slice(s+1)),l=Mc(l,[["exit",c,e]]),Xu(n,a,n.length,l),n}function xre(n,e,t){const i=this;let r=i.events.length,a,s;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){a=i.events[r][1];break}return l;function l(y){return a?a._inactive?g(y):(s=i.parser.defined.includes(Sf(i.sliceSerialize({start:a.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(y),n.exit("labelMarker"),n.exit("labelEnd"),c):t(y)}function c(y){return y===40?n.attempt(pre,p,s?p:g)(y):y===91?n.attempt(mre,p,s?f:g)(y):s?p(y):g(y)}function f(y){return n.attempt(gre,p,g)(y)}function p(y){return e(y)}function g(y){return a._balanced=!0,t(y)}}function bre(n,e,t){return i;function i(g){return n.enter("resource"),n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),r}function r(g){return yr(g)?G0(n,a)(g):a(g)}function a(g){return g===41?p(g):_k(n,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function s(g){return yr(g)?G0(n,c)(g):p(g)}function l(g){return t(g)}function c(g){return g===34||g===39||g===40?Ek(n,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function f(g){return yr(g)?G0(n,p)(g):p(g)}function p(g){return g===41?(n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),n.exit("resource"),e):t(g)}}function _re(n,e,t){const i=this;return r;function r(l){return Sk.call(i,n,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return i.parser.defined.includes(Sf(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(l):t(l)}function s(l){return t(l)}}function Sre(n,e,t){return i;function i(a){return n.enter("reference"),n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),r}function r(a){return a===93?(n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),n.exit("reference"),e):t(a)}}const Ere={name:"labelStartImage",resolveAll:c2.resolveAll,tokenize:Tre};function Tre(n,e,t){const i=this;return r;function r(l){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(l),n.exit("labelImageMarker"),a}function a(l){return l===91?(n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelImage"),s):t(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(l):e(l)}}const wre={name:"labelStartLink",resolveAll:c2.resolveAll,tokenize:Mre};function Mre(n,e,t){const i=this;return r;function r(s){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(s),n.exit("labelMarker"),n.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(s):e(s)}}const _w={name:"lineEnding",tokenize:Are};function Are(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),Ti(n,e,"linePrefix")}}const Z_={name:"thematicBreak",tokenize:Cre};function Cre(n,e,t){let i=0,r;return a;function a(f){return n.enter("thematicBreak"),s(f)}function s(f){return r=f,l(f)}function l(f){return f===r?(n.enter("thematicBreakSequence"),c(f)):i>=3&&(f===null||En(f))?(n.exit("thematicBreak"),e(f)):t(f)}function c(f){return f===r?(n.consume(f),i++,c):(n.exit("thematicBreakSequence"),fi(f)?Ti(n,l,"whitespace")(f):l(f))}}const ql={continuation:{tokenize:Pre},exit:Nre,name:"list",tokenize:Ore},Rre={partial:!0,tokenize:Ure},Dre={partial:!0,tokenize:Lre};function Ore(n,e,t){const i=this,r=i.events[i.events.length-1];let a=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,s=0;return l;function l(v){const _=i.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!i.containerState.marker||v===i.containerState.marker:nA(v)){if(i.containerState.type||(i.containerState.type=_,n.enter(_,{_container:!0})),_==="listUnordered")return n.enter("listItemPrefix"),v===42||v===45?n.check(Z_,t,f)(v):f(v);if(!i.interrupt||v===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),c(v)}return t(v)}function c(v){return nA(v)&&++s<10?(n.consume(v),c):(!i.interrupt||s<2)&&(i.containerState.marker?v===i.containerState.marker:v===41||v===46)?(n.exit("listItemValue"),f(v)):t(v)}function f(v){return n.enter("listItemMarker"),n.consume(v),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||v,n.check(Jx,i.interrupt?t:p,n.attempt(Rre,y,g))}function p(v){return i.containerState.initialBlankLine=!0,a++,y(v)}function g(v){return fi(v)?(n.enter("listItemPrefixWhitespace"),n.consume(v),n.exit("listItemPrefixWhitespace"),y):t(v)}function y(v){return i.containerState.size=a+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(v)}}function Pre(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(Jx,r,a);function r(l){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ti(n,e,"listItemIndent",i.containerState.size+1)(l)}function a(l){return i.containerState.furtherBlankLines||!fi(l)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,s(l)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(Dre,e,s)(l))}function s(l){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ti(n,n.attempt(ql,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Lre(n,e,t){const i=this;return Ti(n,r,"listItemIndent",i.containerState.size+1);function r(a){const s=i.events[i.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===i.containerState.size?e(a):t(a)}}function Nre(n){n.exit(this.containerState.type)}function Ure(n,e,t){const i=this;return Ti(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(a){const s=i.events[i.events.length-1];return!fi(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):t(a)}}const QP={name:"setextUnderline",resolveTo:Ire,tokenize:zre};function Ire(n,e){let t=n.length,i,r,a;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!a&&n[t][1].type==="definition"&&(a=t);const s={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",a?(n.splice(r,0,["enter",s,e]),n.splice(a+1,0,["exit",n[i][1],e]),n[i][1].end={...n[a][1].end}):n[i][1]=s,n.push(["exit",s,e]),n}function zre(n,e,t){const i=this;let r;return a;function a(f){let p=i.events.length,g;for(;p--;)if(i.events[p][1].type!=="lineEnding"&&i.events[p][1].type!=="linePrefix"&&i.events[p][1].type!=="content"){g=i.events[p][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(n.enter("setextHeadingLine"),r=f,s(f)):t(f)}function s(f){return n.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===r?(n.consume(f),l):(n.exit("setextHeadingLineSequence"),fi(f)?Ti(n,c,"lineSuffix")(f):c(f))}function c(f){return f===null||En(f)?(n.exit("setextHeadingLine"),e(f)):t(f)}}const kre={tokenize:Bre};function Bre(n){const e=this,t=n.attempt(Jx,i,n.attempt(this.parser.constructs.flowInitial,r,Ti(n,n.attempt(this.parser.constructs.flow,r,n.attempt(Xie,r)),"linePrefix")));return t;function i(a){if(a===null){n.consume(a);return}return n.enter("lineEndingBlank"),n.consume(a),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const Fre={resolveAll:wk()},Hre=Tk("string"),Vre=Tk("text");function Tk(n){return{resolveAll:wk(n==="text"?Gre:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],a=t.attempt(r,s,l);return s;function s(p){return f(p)?a(p):l(p)}function l(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),c}function c(p){return f(p)?(t.exit("data"),a(p)):(t.consume(p),c)}function f(p){if(p===null)return!0;const g=r[p];let y=-1;if(g)for(;++y<g.length;){const v=g[y];if(!v.previous||v.previous.call(i,i.previous))return!0}return!1}}}function wk(n){return e;function e(t,i){let r=-1,a;for(;++r<=t.length;)a===void 0?t[r]&&t[r][1].type==="data"&&(a=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),r=a+2),a=void 0);return n?n(t,i):t}}function Gre(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let a=r.length,s=-1,l=0,c;for(;a--;){const f=r[a];if(typeof f=="string"){for(s=f.length;f.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(f===-2)c=!0,l++;else if(f!==-1){a++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(l=0),l){const f={type:t===n.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:i.start._bufferIndex+s,_index:i.start._index+a,line:i.end.line,column:i.end.column-l,offset:i.end.offset-l},end:{...i.end}};i.end={...f.start},i.start.offset===i.end.offset?Object.assign(i,f):(n.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return n}const Xre={42:ql,43:ql,45:ql,48:ql,49:ql,50:ql,51:ql,52:ql,53:ql,54:ql,55:ql,56:ql,57:ql,62:yk},Wre={91:Zie},Yre={[-2]:bw,[-1]:bw,32:bw},jre={35:tre,42:Z_,45:[QP,Z_],60:are,61:QP,95:Z_,96:ZP,126:ZP},qre={38:xk,92:vk},Zre={[-5]:_w,[-4]:_w,[-3]:_w,33:Ere,38:xk,42:iA,60:[wie,hre],91:wre,92:[$ie,vk],93:c2,95:iA,96:kie},Kre={null:[iA,Fre]},Qre={null:[42,95]},Jre={null:[]},$re=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Qre,contentInitial:Wre,disable:Jre,document:Xre,flow:jre,flowInitial:Yre,insideSpan:Kre,string:qre,text:Zre},Symbol.toStringTag,{value:"Module"}));function eae(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},a=[];let s=[],l=[];const c={attempt:G(X),check:G(H),consume:N,enter:P,exit:U,interrupt:G(H,{interrupt:!0})},f={code:null,containerState:{},defineSkip:D,events:[],now:_,parser:n,previous:null,sliceSerialize:y,sliceStream:v,write:g};let p=e.tokenize.call(f,c);return e.resolveAll&&a.push(e),f;function g(Z){return s=Mc(s,Z),M(),s[s.length-1]!==null?[]:(W(e,0),f.events=tE(a,f.events,f),f.events)}function y(Z,ae){return nae(v(Z),ae)}function v(Z){return tae(s,Z)}function _(){const{_bufferIndex:Z,_index:ae,line:se,column:ge,offset:xe}=i;return{_bufferIndex:Z,_index:ae,line:se,column:ge,offset:xe}}function D(Z){r[Z.line]=Z.column,I()}function M(){let Z;for(;i._index<s.length;){const ae=s[i._index];if(typeof ae=="string")for(Z=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===Z&&i._bufferIndex<ae.length;)S(ae.charCodeAt(i._bufferIndex));else S(ae)}}function S(Z){p=p(Z)}function N(Z){En(Z)?(i.line++,i.column=1,i.offset+=Z===-3?2:1,I()):Z!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=Z}function P(Z,ae){const se=ae||{};return se.type=Z,se.start=_(),f.events.push(["enter",se,f]),l.push(se),se}function U(Z){const ae=l.pop();return ae.end=_(),f.events.push(["exit",ae,f]),ae}function X(Z,ae){W(Z,ae.from)}function H(Z,ae){ae.restore()}function G(Z,ae){return se;function se(ge,xe,ee){let le,ve,pe,F;return Array.isArray(ge)?Le(ge):"tokenize"in ge?Le([ge]):J(ge);function J(Te){return je;function je($e){const St=$e!==null&&Te[$e],ut=$e!==null&&Te.null,Yt=[...Array.isArray(St)?St:St?[St]:[],...Array.isArray(ut)?ut:ut?[ut]:[]];return Le(Yt)($e)}}function Le(Te){return le=Te,ve=0,Te.length===0?ee:te(Te[ve])}function te(Te){return je;function je($e){return F=B(),pe=Te,Te.partial||(f.currentConstruct=Te),Te.name&&f.parser.constructs.disable.null.includes(Te.name)?tt():Te.tokenize.call(ae?Object.assign(Object.create(f),ae):f,c,Oe,tt)($e)}}function Oe(Te){return Z(pe,F),xe}function tt(Te){return F.restore(),++ve<le.length?te(le[ve]):ee}}}function W(Z,ae){Z.resolveAll&&!a.includes(Z)&&a.push(Z),Z.resolve&&Xu(f.events,ae,f.events.length-ae,Z.resolve(f.events.slice(ae),f)),Z.resolveTo&&(f.events=Z.resolveTo(f.events,f))}function B(){const Z=_(),ae=f.previous,se=f.currentConstruct,ge=f.events.length,xe=Array.from(l);return{from:ge,restore:ee};function ee(){i=Z,f.previous=ae,f.currentConstruct=se,f.events.length=ge,l=xe,I()}}function I(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function tae(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,a=e.end._bufferIndex;let s;if(t===r)s=[n[t].slice(i,a)];else{if(s=n.slice(t,r),i>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(i):s.shift()}a>0&&s.push(n[r].slice(0,a))}return s}function nae(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const a=n[t];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&r)continue;s=" ";break}default:s=String.fromCharCode(a)}r=a===-2,i.push(s)}return i.join("")}function iae(n){const i={constructs:mk([$re,...(n||{}).extensions||[]]),content:r(vie),defined:[],document:r(bie),flow:r(kre),lazy:{},string:r(Hre),text:r(Vre)};return i;function r(a){return s;function s(l){return eae(i,a,l)}}}function rae(n){for(;!bk(n););return n}const JP=/[\0\t\n\r]/g;function aae(){let n=1,e="",t=!0,i;return r;function r(a,s,l){const c=[];let f,p,g,y,v;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),g=0,e="",t&&(a.charCodeAt(0)===65279&&g++,t=void 0);g<a.length;){if(JP.lastIndex=g,f=JP.exec(a),y=f&&f.index!==void 0?f.index:a.length,v=a.charCodeAt(y),!f){e=a.slice(g);break}if(v===10&&g===y&&i)c.push(-3),i=void 0;else switch(i&&(c.push(-5),i=void 0),g<y&&(c.push(a.slice(g,y)),n+=y-g),v){case 0:{c.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,c.push(-2);n++<p;)c.push(-1);break}case 10:{c.push(-4),n=1;break}default:i=!0,n=1}g=y+1}return l&&(i&&c.push(-5),e&&c.push(e),c.push(null)),c}}const sae=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function oae(n){return n.replace(sae,lae)}function lae(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),a=r===120||r===88;return gk(t.slice(a?2:1),a?16:10)}return u2(t)||n}const Mk={}.hasOwnProperty;function uae(n,e,t){return typeof e!="string"&&(t=e,e=void 0),cae(t)(rae(iae(t).document().write(aae()(n,e,!0))))}function cae(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(yt),autolinkProtocol:B,autolinkEmail:B,atxHeading:a(Qe),blockQuote:a(ut),characterEscape:B,characterReference:B,codeFenced:a(Yt),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Yt,s),codeText:a(kt,s),codeTextData:B,data:B,codeFlowValue:B,definition:a(ye),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ct),hardBreakEscape:a(et),hardBreakTrailing:a(et),htmlFlow:a(Je,s),htmlFlowData:B,htmlText:a(Je,s),htmlTextData:B,image:a(Ct),label:s,link:a(yt),listItem:a(Rt),listItemValue:y,listOrdered:a(mt,g),listUnordered:a(mt),paragraph:a(on),reference:te,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Qe),strong:a(he),thematicBreak:a(Ue)},exit:{atxHeading:c(),atxHeadingSequence:X,autolink:c(),autolinkEmail:St,autolinkProtocol:$e,blockQuote:c(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:tt,characterReferenceMarkerNumeric:tt,characterReferenceValue:Te,characterReference:je,codeFenced:c(M),codeFencedFence:D,codeFencedFenceInfo:v,codeFencedFenceMeta:_,codeFlowValue:I,codeIndented:c(S),codeText:c(xe),codeTextData:I,data:I,definition:c(),definitionDestinationString:U,definitionLabelString:N,definitionTitleString:P,emphasis:c(),hardBreakEscape:c(ae),hardBreakTrailing:c(ae),htmlFlow:c(se),htmlFlowData:I,htmlText:c(ge),htmlTextData:I,image:c(le),label:pe,labelText:ve,lineEnding:Z,link:c(ee),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Oe,resourceDestinationString:F,resourceTitleString:J,resource:Le,setextHeading:c(W),setextHeadingLineSequence:G,setextHeadingText:H,strong:c(),thematicBreak:c()}};Ak(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(me){let De={type:"root",children:[]};const Ie={stack:[De],tokenStack:[],config:e,enter:l,exit:f,buffer:s,resume:p,data:t},bt=[];let it=-1;for(;++it<me.length;)if(me[it][1].type==="listOrdered"||me[it][1].type==="listUnordered")if(me[it][0]==="enter")bt.push(it);else{const zt=bt.pop();it=r(me,zt,it)}for(it=-1;++it<me.length;){const zt=e[me[it][0]];Mk.call(zt,me[it][1].type)&&zt[me[it][1].type].call(Object.assign({sliceSerialize:me[it][2].sliceSerialize},Ie),me[it][1])}if(Ie.tokenStack.length>0){const zt=Ie.tokenStack[Ie.tokenStack.length-1];(zt[1]||$P).call(Ie,void 0,zt[0])}for(De.position={start:gp(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:gp(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},it=-1;++it<e.transforms.length;)De=e.transforms[it](De)||De;return De}function r(me,De,Ie){let bt=De-1,it=-1,zt=!1,Xt,lt,at,sn;for(;++bt<=Ie;){const Et=me[bt];switch(Et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Et[0]==="enter"?it++:it--,sn=void 0;break}case"lineEndingBlank":{Et[0]==="enter"&&(Xt&&!sn&&!it&&!at&&(at=bt),sn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:sn=void 0}if(!it&&Et[0]==="enter"&&Et[1].type==="listItemPrefix"||it===-1&&Et[0]==="exit"&&(Et[1].type==="listUnordered"||Et[1].type==="listOrdered")){if(Xt){let gt=bt;for(lt=void 0;gt--;){const ln=me[gt];if(ln[1].type==="lineEnding"||ln[1].type==="lineEndingBlank"){if(ln[0]==="exit")continue;lt&&(me[lt][1].type="lineEndingBlank",zt=!0),ln[1].type="lineEnding",lt=gt}else if(!(ln[1].type==="linePrefix"||ln[1].type==="blockQuotePrefix"||ln[1].type==="blockQuotePrefixWhitespace"||ln[1].type==="blockQuoteMarker"||ln[1].type==="listItemIndent"))break}at&&(!lt||at<lt)&&(Xt._spread=!0),Xt.end=Object.assign({},lt?me[lt][1].start:Et[1].end),me.splice(lt||bt,0,["exit",Xt,Et[2]]),bt++,Ie++}if(Et[1].type==="listItemPrefix"){const gt={type:"listItem",_spread:!1,start:Object.assign({},Et[1].start),end:void 0};Xt=gt,me.splice(bt,0,["enter",gt,Et[2]]),bt++,Ie++,at=void 0,sn=!0}}}return me[De][1]._spread=zt,Ie}function a(me,De){return Ie;function Ie(bt){l.call(this,me(bt),bt),De&&De.call(this,bt)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(me,De,Ie){this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([De,Ie||void 0]),me.position={start:gp(De.start),end:void 0}}function c(me){return De;function De(Ie){me&&me.call(this,Ie),f.call(this,Ie)}}function f(me,De){const Ie=this.stack.pop(),bt=this.tokenStack.pop();if(bt)bt[0].type!==me.type&&(De?De.call(this,me,bt[0]):(bt[1]||$P).call(this,me,bt[0]));else throw new Error("Cannot close `"+me.type+"` ("+V0({start:me.start,end:me.end})+"): its not open");Ie.position.end=gp(me.end)}function p(){return l2(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(me){if(this.data.expectingFirstListItemValue){const De=this.stack[this.stack.length-2];De.start=Number.parseInt(this.sliceSerialize(me),10),this.data.expectingFirstListItemValue=void 0}}function v(){const me=this.resume(),De=this.stack[this.stack.length-1];De.lang=me}function _(){const me=this.resume(),De=this.stack[this.stack.length-1];De.meta=me}function D(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function M(){const me=this.resume(),De=this.stack[this.stack.length-1];De.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const me=this.resume(),De=this.stack[this.stack.length-1];De.value=me.replace(/(\r?\n|\r)$/g,"")}function N(me){const De=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=De,Ie.identifier=Sf(this.sliceSerialize(me)).toLowerCase()}function P(){const me=this.resume(),De=this.stack[this.stack.length-1];De.title=me}function U(){const me=this.resume(),De=this.stack[this.stack.length-1];De.url=me}function X(me){const De=this.stack[this.stack.length-1];if(!De.depth){const Ie=this.sliceSerialize(me).length;De.depth=Ie}}function H(){this.data.setextHeadingSlurpLineEnding=!0}function G(me){const De=this.stack[this.stack.length-1];De.depth=this.sliceSerialize(me).codePointAt(0)===61?1:2}function W(){this.data.setextHeadingSlurpLineEnding=void 0}function B(me){const Ie=this.stack[this.stack.length-1].children;let bt=Ie[Ie.length-1];(!bt||bt.type!=="text")&&(bt=$(),bt.position={start:gp(me.start),end:void 0},Ie.push(bt)),this.stack.push(bt)}function I(me){const De=this.stack.pop();De.value+=this.sliceSerialize(me),De.position.end=gp(me.end)}function Z(me){const De=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=De.children[De.children.length-1];Ie.position.end=gp(me.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(De.type)&&(B.call(this,me),I.call(this,me))}function ae(){this.data.atHardBreak=!0}function se(){const me=this.resume(),De=this.stack[this.stack.length-1];De.value=me}function ge(){const me=this.resume(),De=this.stack[this.stack.length-1];De.value=me}function xe(){const me=this.resume(),De=this.stack[this.stack.length-1];De.value=me}function ee(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const De=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=De,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function le(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const De=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=De,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function ve(me){const De=this.sliceSerialize(me),Ie=this.stack[this.stack.length-2];Ie.label=oae(De),Ie.identifier=Sf(De).toLowerCase()}function pe(){const me=this.stack[this.stack.length-1],De=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const bt=me.children;Ie.children=bt}else Ie.alt=De}function F(){const me=this.resume(),De=this.stack[this.stack.length-1];De.url=me}function J(){const me=this.resume(),De=this.stack[this.stack.length-1];De.title=me}function Le(){this.data.inReference=void 0}function te(){this.data.referenceType="collapsed"}function Oe(me){const De=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=De,Ie.identifier=Sf(this.sliceSerialize(me)).toLowerCase(),this.data.referenceType="full"}function tt(me){this.data.characterReferenceType=me.type}function Te(me){const De=this.sliceSerialize(me),Ie=this.data.characterReferenceType;let bt;Ie?(bt=gk(De,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):bt=u2(De);const it=this.stack[this.stack.length-1];it.value+=bt}function je(me){const De=this.stack.pop();De.position.end=gp(me.end)}function $e(me){I.call(this,me);const De=this.stack[this.stack.length-1];De.url=this.sliceSerialize(me)}function St(me){I.call(this,me);const De=this.stack[this.stack.length-1];De.url="mailto:"+this.sliceSerialize(me)}function ut(){return{type:"blockquote",children:[]}}function Yt(){return{type:"code",lang:null,meta:null,value:""}}function kt(){return{type:"inlineCode",value:""}}function ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ct(){return{type:"emphasis",children:[]}}function Qe(){return{type:"heading",depth:0,children:[]}}function et(){return{type:"break"}}function Je(){return{type:"html",value:""}}function Ct(){return{type:"image",title:null,url:"",alt:null}}function yt(){return{type:"link",title:null,url:"",children:[]}}function mt(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function Rt(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function on(){return{type:"paragraph",children:[]}}function he(){return{type:"strong",children:[]}}function $(){return{type:"text",value:""}}function Ue(){return{type:"thematicBreak"}}}function gp(n){return{line:n.line,column:n.column,offset:n.offset}}function Ak(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?Ak(n,i):fae(n,i)}}function fae(n,e){let t;for(t in e)if(Mk.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function $P(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+V0({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+V0({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+V0({start:e.start,end:e.end})+") is still open")}function hae(n){const e=this;e.parser=t;function t(i){return uae(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function dae(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function pae(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function mae(n,e){const t=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(r.data={meta:e.meta}),n.patch(e,r),r=n.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},n.patch(e,r),r}function gae(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function yae(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function vae(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=Rv(i.toLowerCase()),a=n.footnoteOrder.indexOf(i);let s,l=n.footnoteCounts.get(i);l===void 0?(l=0,n.footnoteOrder.push(i),s=n.footnoteOrder.length):s=a+1,l+=1,n.footnoteCounts.set(i,l);const c={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};n.patch(e,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return n.patch(e,f),n.applyData(e,f)}function xae(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function bae(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function Ck(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),a=r[0];a&&a.type==="text"?a.value="["+a.value:r.unshift({type:"text",value:"["});const s=r[r.length-1];return s&&s.type==="text"?s.value+=i:r.push({type:"text",value:i}),r}function _ae(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return Ck(n,e);const r={src:Rv(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const a={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,a),n.applyData(e,a)}function Sae(n,e){const t={src:Rv(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function Eae(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function Tae(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return Ck(n,e);const r={href:Rv(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const a={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,a),n.applyData(e,a)}function wae(n,e){const t={href:Rv(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function Mae(n,e,t){const i=n.all(e),r=t?Aae(t):Rk(e),a={},s=[];if(typeof e.checked=="boolean"){const p=i[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},i.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<i.length;){const p=i[l];(r||l!==0||p.type!=="element"||p.tagName!=="p")&&s.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!r?s.push(...p.children):s.push(p)}const c=i[i.length-1];c&&(r||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:s};return n.patch(e,f),n.applyData(e,f)}function Aae(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=Rk(t[i])}return e}function Rk(n){const e=n.spread;return e??n.children.length>1}function Cae(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const s=i[r];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,a),n.applyData(e,a)}function Rae(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Dae(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function Oae(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Pae(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const s={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],s),r.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},l=r2(e.children[1]),c=lk(e.children[e.children.length-1]);l&&c&&(s.position={start:l,end:c}),r.push(s)}const a={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,a),n.applyData(e,a)}function Lae(n,e,t){const i=t?t.children:void 0,a=(i?i.indexOf(e):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,l=s?s.length:e.children.length;let c=-1;const f=[];for(;++c<l;){const g=e.children[c],y={},v=s?s[c]:void 0;v&&(y.align=v);let _={type:"element",tagName:a,properties:y,children:[]};g&&(_.children=n.all(g),n.patch(g,_),_=n.applyData(g,_)),f.push(_)}const p={type:"element",tagName:"tr",properties:{},children:n.wrap(f,!0)};return n.patch(e,p),n.applyData(e,p)}function Nae(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const eL=9,tL=32;function Uae(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const a=[];for(;i;)a.push(nL(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return a.push(nL(e.slice(r),r>0,!1)),a.join("")}function nL(n,e,t){let i=0,r=n.length;if(e){let a=n.codePointAt(i);for(;a===eL||a===tL;)i++,a=n.codePointAt(i)}if(t){let a=n.codePointAt(r-1);for(;a===eL||a===tL;)r--,a=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function Iae(n,e){const t={type:"text",value:Uae(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function zae(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const kae={blockquote:dae,break:pae,code:mae,delete:gae,emphasis:yae,footnoteReference:vae,heading:xae,html:bae,imageReference:_ae,image:Sae,inlineCode:Eae,linkReference:Tae,link:wae,listItem:Mae,list:Cae,paragraph:Rae,root:Dae,strong:Oae,table:Pae,tableCell:Nae,tableRow:Lae,text:Iae,thematicBreak:zae,toml:M_,yaml:M_,definition:M_,footnoteDefinition:M_};function M_(){}const Dk=-1,nE=0,X0=1,t1=2,f2=3,h2=4,d2=5,p2=6,Ok=7,Pk=8,iL=typeof self=="object"?self:globalThis,Bae=(n,e)=>{const t=(r,a)=>(n.set(a,r),r),i=r=>{if(n.has(r))return n.get(r);const[a,s]=e[r];switch(a){case nE:case Dk:return t(s,r);case X0:{const l=t([],r);for(const c of s)l.push(i(c));return l}case t1:{const l=t({},r);for(const[c,f]of s)l[i(c)]=i(f);return l}case f2:return t(new Date(s),r);case h2:{const{source:l,flags:c}=s;return t(new RegExp(l,c),r)}case d2:{const l=t(new Map,r);for(const[c,f]of s)l.set(i(c),i(f));return l}case p2:{const l=t(new Set,r);for(const c of s)l.add(i(c));return l}case Ok:{const{name:l,message:c}=s;return t(new iL[l](c),r)}case Pk:return t(BigInt(s),r);case"BigInt":return t(Object(BigInt(s)),r);case"ArrayBuffer":return t(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return t(new DataView(l),s)}}return t(new iL[a](s),r)};return i},rL=n=>Bae(new Map,n)(0),Ty="",{toString:Fae}={},{keys:Hae}=Object,p0=n=>{const e=typeof n;if(e!=="object"||!n)return[nE,e];const t=Fae.call(n).slice(8,-1);switch(t){case"Array":return[X0,Ty];case"Object":return[t1,Ty];case"Date":return[f2,Ty];case"RegExp":return[h2,Ty];case"Map":return[d2,Ty];case"Set":return[p2,Ty];case"DataView":return[X0,t]}return t.includes("Array")?[X0,t]:t.includes("Error")?[Ok,t]:[t1,t]},A_=([n,e])=>n===nE&&(e==="function"||e==="symbol"),Vae=(n,e,t,i)=>{const r=(s,l)=>{const c=i.push(s)-1;return t.set(l,c),c},a=s=>{if(t.has(s))return t.get(s);let[l,c]=p0(s);switch(l){case nE:{let p=s;switch(c){case"bigint":l=Pk,p=s.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+c);p=null;break;case"undefined":return r([Dk],s)}return r([l,p],s)}case X0:{if(c){let y=s;return c==="DataView"?y=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(y=new Uint8Array(s)),r([c,[...y]],s)}const p=[],g=r([l,p],s);for(const y of s)p.push(a(y));return g}case t1:{if(c)switch(c){case"BigInt":return r([c,s.toString()],s);case"Boolean":case"Number":case"String":return r([c,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const p=[],g=r([l,p],s);for(const y of Hae(s))(n||!A_(p0(s[y])))&&p.push([a(y),a(s[y])]);return g}case f2:return r([l,s.toISOString()],s);case h2:{const{source:p,flags:g}=s;return r([l,{source:p,flags:g}],s)}case d2:{const p=[],g=r([l,p],s);for(const[y,v]of s)(n||!(A_(p0(y))||A_(p0(v))))&&p.push([a(y),a(v)]);return g}case p2:{const p=[],g=r([l,p],s);for(const y of s)(n||!A_(p0(y)))&&p.push(a(y));return g}}const{message:f}=s;return r([l,{name:c,message:f}],s)};return a},aL=(n,{json:e,lossy:t}={})=>{const i=[];return Vae(!(e||t),!!e,new Map,i)(n),i},n1=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?rL(aL(n,e)):structuredClone(n):(n,e)=>rL(aL(n,e));function Gae(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function Xae(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function Wae(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||Gae,i=n.options.footnoteBackLabel||Xae,r=n.options.footnoteLabel||"Footnotes",a=n.options.footnoteLabelTagName||"h2",s=n.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<n.footnoteOrder.length;){const f=n.footnoteById.get(n.footnoteOrder[c]);if(!f)continue;const p=n.all(f),g=String(f.identifier).toUpperCase(),y=Rv(g.toLowerCase());let v=0;const _=[],D=n.footnoteCounts.get(g);for(;D!==void 0&&++v<=D;){_.length>0&&_.push({type:"text",value:" "});let N=typeof t=="string"?t:t(c,v);typeof N=="string"&&(N={type:"text",value:N}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(c,v),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const M=p[p.length-1];if(M&&M.type==="element"&&M.tagName==="p"){const N=M.children[M.children.length-1];N&&N.type==="text"?N.value+=" ":M.children.push({type:"text",value:" "}),M.children.push(..._)}else p.push(..._);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:n.wrap(p,!0)};n.patch(f,S),l.push(S)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...n1(s),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(l,!0)},{type:"text",value:`
`}]}}const iE=(function(n){if(n==null)return Zae;if(typeof n=="function")return rE(n);if(typeof n=="object")return Array.isArray(n)?Yae(n):jae(n);if(typeof n=="string")return qae(n);throw new Error("Expected function, string, or object as test")});function Yae(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=iE(n[t]);return rE(i);function i(...r){let a=-1;for(;++a<e.length;)if(e[a].apply(this,r))return!0;return!1}}function jae(n){const e=n;return rE(t);function t(i){const r=i;let a;for(a in n)if(r[a]!==e[a])return!1;return!0}}function qae(n){return rE(e);function e(t){return t&&t.type===n}}function rE(n){return e;function e(t,i,r){return!!(Kae(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function Zae(){return!0}function Kae(n){return n!==null&&typeof n=="object"&&"type"in n}const Lk=[],Qae=!0,rA=!1,Jae="skip";function Nk(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const a=iE(r),s=i?-1:1;l(n,void 0,[])();function l(c,f,p){const g=c&&typeof c=="object"?c:{};if(typeof g.type=="string"){const v=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(c.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=Lk,_,D,M;if((!e||a(c,f,p[p.length-1]||void 0))&&(v=$ae(t(c,p)),v[0]===rA))return v;if("children"in c&&c.children){const S=c;if(S.children&&v[0]!==Jae)for(D=(i?S.children.length:-1)+s,M=p.concat(S);D>-1&&D<S.children.length;){const N=S.children[D];if(_=l(N,D,M)(),_[0]===rA)return _;D=typeof _[1]=="number"?_[1]:D+s}}return v}}}function $ae(n){return Array.isArray(n)?n:typeof n=="number"?[Qae,n]:n==null?Lk:[n]}function m2(n,e,t,i){let r,a,s;typeof e=="function"&&typeof t!="function"?(a=void 0,s=e,r=t):(a=e,s=t,r=i),Nk(n,a,l,r);function l(c,f){const p=f[f.length-1],g=p?p.children.indexOf(c):void 0;return s(c,g,p)}}const aA={}.hasOwnProperty,ese={};function tse(n,e){const t=e||ese,i=new Map,r=new Map,a=new Map,s={...kae,...t.handlers},l={all:f,applyData:ise,definitionById:i,footnoteById:r,footnoteCounts:a,footnoteOrder:[],handlers:s,one:c,options:t,patch:nse,wrap:ase};return m2(n,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?i:r,y=String(p.identifier).toUpperCase();g.has(y)||g.set(y,p)}}),l;function c(p,g){const y=p.type,v=l.handlers[y];if(aA.call(l.handlers,y)&&v)return v(l,p,g);if(l.options.passThrough&&l.options.passThrough.includes(y)){if("children"in p){const{children:D,...M}=p,S=n1(M);return S.children=l.all(p),S}return n1(p)}return(l.options.unknownHandler||rse)(l,p,g)}function f(p){const g=[];if("children"in p){const y=p.children;let v=-1;for(;++v<y.length;){const _=l.one(y[v],p);if(_){if(v&&y[v-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=sL(_.value)),!Array.isArray(_)&&_.type==="element")){const D=_.children[0];D&&D.type==="text"&&(D.value=sL(D.value))}Array.isArray(_)?g.push(..._):g.push(_)}}}return g}}function nse(n,e){n.position&&(e.position=Xne(n))}function ise(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,a=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const s="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:s}}t.type==="element"&&a&&Object.assign(t.properties,n1(a)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function rse(n,e){const t=e.data||{},i="value"in e&&!(aA.call(t,"hProperties")||aA.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function ase(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function sL(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function oL(n,e){const t=tse(n,e),i=t.one(n,void 0),r=Wae(t),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&a.children.push({type:"text",value:`
`},r),a}function sse(n,e){return n&&"run"in n?async function(t,i){const r=oL(t,{file:i,...e});await n.run(r,i)}:function(t,i){return oL(t,{file:i,...n||e})}}function lL(n){if(n)throw n}var Sw,uL;function ose(){if(uL)return Sw;uL=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},a=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var p=n.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&n.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!g)return!1;var y;for(y in f);return typeof y>"u"||n.call(f,y)},s=function(f,p){t&&p.name==="__proto__"?t(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},l=function(f,p){if(p==="__proto__")if(n.call(f,p)){if(i)return i(f,p).value}else return;return f[p]};return Sw=function c(){var f,p,g,y,v,_,D=arguments[0],M=1,S=arguments.length,N=!1;for(typeof D=="boolean"&&(N=D,D=arguments[1]||{},M=2),(D==null||typeof D!="object"&&typeof D!="function")&&(D={});M<S;++M)if(f=arguments[M],f!=null)for(p in f)g=l(D,p),y=l(f,p),D!==y&&(N&&y&&(a(y)||(v=r(y)))?(v?(v=!1,_=g&&r(g)?g:[]):_=g&&a(g)?g:{},s(D,{name:p,newValue:c(N,_,y)})):typeof y<"u"&&s(D,{name:p,newValue:y}));return D},Sw}var lse=ose();const Ew=dv(lse);function sA(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function use(){const n=[],e={run:t,use:i};return e;function t(...r){let a=-1;const s=r.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...r);function l(c,...f){const p=n[++a];let g=-1;if(c){s(c);return}for(;++g<r.length;)(f[g]===null||f[g]===void 0)&&(f[g]=r[g]);r=f,p?cse(p,l)(...f):s(null,...f)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function cse(n,e){let t;return i;function i(...s){const l=n.length>s.length;let c;l&&s.push(r);try{c=n.apply(this,s)}catch(f){const p=f;if(l&&t)throw p;return r(p)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,r):c instanceof Error?r(c):a(c))}function r(s,...l){t||(t=!0,e(s,...l))}function a(s){r(null,s)}}const dh={basename:fse,dirname:hse,extname:dse,join:pse,sep:"/"};function fse(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');$x(n);let t=0,i=-1,r=n.length,a;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(a){t=r+1;break}}else i<0&&(a=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let s=-1,l=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(a){t=r+1;break}}else s<0&&(a=!0,s=r+1),l>-1&&(n.codePointAt(r)===e.codePointAt(l--)?l<0&&(i=r):(l=-1,i=s));return t===i?i=s:i<0&&(i=n.length),n.slice(t,i)}function hse(n){if($x(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function dse(n){$x(n);let e=n.length,t=-1,i=0,r=-1,a=0,s;for(;e--;){const l=n.codePointAt(e);if(l===47){if(s){i=e+1;break}continue}t<0&&(s=!0,t=e+1),l===46?r<0?r=e:a!==1&&(a=1):r>-1&&(a=-1)}return r<0||t<0||a===0||a===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function pse(...n){let e=-1,t;for(;++e<n.length;)$x(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":mse(t)}function mse(n){$x(n);const e=n.codePointAt(0)===47;let t=gse(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function gse(n,e){let t="",i=0,r=-1,a=0,s=-1,l,c;for(;++s<=n.length;){if(s<n.length)l=n.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(r===s-1||a===1))if(r!==s-1&&a===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",i=0):(t=t.slice(0,c),i=t.length-1-t.lastIndexOf("/")),r=s,a=0;continue}}else if(t.length>0){t="",i=0,r=s,a=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,s):t=n.slice(r+1,s),i=s-r-1;r=s,a=0}else l===46&&a>-1?a++:a=-1}return t}function $x(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const yse={cwd:vse};function vse(){return"/"}function oA(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function xse(n){if(typeof n=="string")n=new URL(n);else if(!oA(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return bse(n)}function bse(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const Tw=["history","path","basename","stem","extname","dirname"];class Uk{constructor(e){let t;e?oA(e)?t={path:e}:typeof e=="string"||_se(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":yse.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Tw.length;){const a=Tw[i];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let r;for(r in t)Tw.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?dh.basename(this.path):void 0}set basename(e){Mw(e,"basename"),ww(e,"basename"),this.path=dh.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?dh.dirname(this.path):void 0}set dirname(e){cL(this.basename,"dirname"),this.path=dh.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?dh.extname(this.path):void 0}set extname(e){if(ww(e,"extname"),cL(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=dh.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){oA(e)&&(e=xse(e)),Mw(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?dh.basename(this.path,this.extname):void 0}set stem(e){Mw(e,"stem"),ww(e,"stem"),this.path=dh.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new Fo(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ww(n,e){if(n&&n.includes(dh.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+dh.sep+"`")}function Mw(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function cL(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function _se(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Sse=(function(n){const i=this.constructor.prototype,r=i[n],a=function(){return r.apply(a,arguments)};return Object.setPrototypeOf(a,i),a}),Ese={}.hasOwnProperty;class g2 extends Sse{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=use()}copy(){const e=new g2;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(Ew(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(Rw("data",this.frozen),this.namespace[e]=t,this):Ese.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Rw("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=C_(e),i=this.parser||this.Parser;return Aw("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),Aw("process",this.parser||this.Parser),Cw("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(a,s){const l=C_(e),c=i.parse(l);i.run(c,l,function(p,g,y){if(p||!g||!y)return f(p);const v=g,_=i.stringify(v,y);Mse(_)?y.value=_:y.result=_,f(p,y)});function f(p,g){p||!g?s(p):a?a(g):t(void 0,g)}}}processSync(e){let t=!1,i;return this.freeze(),Aw("processSync",this.parser||this.Parser),Cw("processSync",this.compiler||this.Compiler),this.process(e,r),hL("processSync","process",t),i;function r(a,s){t=!0,lL(a),i=s}}run(e,t,i){fL(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?a(void 0,i):new Promise(a);function a(s,l){const c=C_(t);r.run(e,c,f);function f(p,g,y){const v=g||e;p?l(p):s?s(v):i(void 0,v,y)}}}runSync(e,t){let i=!1,r;return this.run(e,t,a),hL("runSync","run",i),r;function a(s,l){lL(s),r=l,i=!0}}stringify(e,t){this.freeze();const i=C_(t),r=this.compiler||this.Compiler;return Cw("stringify",r),fL(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(Rw("use",this.frozen),e!=null)if(typeof e=="function")c(e,t);else if(typeof e=="object")Array.isArray(e)?l(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...g]=f;c(p,g)}else s(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function s(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(f.plugins),f.settings&&(r.settings=Ew(!0,r.settings,f.settings))}function l(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const g=f[p];a(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,p){let g=-1,y=-1;for(;++g<i.length;)if(i[g][0]===f){y=g;break}if(y===-1)i.push([f,...p]);else if(p.length>0){let[v,..._]=p;const D=i[y][1];sA(D)&&sA(v)&&(v=Ew(!0,D,v)),i[y]=[f,v,..._]}}}}const Tse=new g2().freeze();function Aw(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Cw(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Rw(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function fL(n){if(!sA(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function hL(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function C_(n){return wse(n)?n:new Uk(n)}function wse(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function Mse(n){return typeof n=="string"||Ase(n)}function Ase(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Cse="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",dL=[],pL={allowDangerousHtml:!0},Rse=/^(https?|ircs?|mailto|xmpp)$/i,Dse=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function m0(n){const e=Ose(n),t=Pse(n);return Lse(e.runSync(e.parse(t),t),n)}function Ose(n){const e=n.rehypePlugins||dL,t=n.remarkPlugins||dL,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...pL}:pL;return Tse().use(hae).use(t).use(sse,i).use(e)}function Pse(n){const e=n.children||"",t=new Uk;return typeof e=="string"&&(t.value=e),t}function Lse(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,a=e.disallowedElements,s=e.skipHtml,l=e.unwrapDisallowed,c=e.urlTransform||Nse;for(const p of Dse)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+Cse+p.id,void 0);return m2(n,f),Zne(n,{Fragment:fe.Fragment,components:r,ignoreInvalidStyle:!0,jsx:fe.jsx,jsxs:fe.jsxs,passKeys:!0,passNode:!0});function f(p,g,y){if(p.type==="raw"&&y&&typeof g=="number")return s?y.children.splice(g,1):y.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let v;for(v in xw)if(Object.hasOwn(xw,v)&&Object.hasOwn(p.properties,v)){const _=p.properties[v],D=xw[v];(D===null||D.includes(p.tagName))&&(p.properties[v]=c(String(_||""),v,p))}}if(p.type==="element"){let v=t?!t.includes(p.tagName):a?a.includes(p.tagName):!1;if(!v&&i&&typeof g=="number"&&(v=!i(p,g,y)),v&&y&&typeof g=="number")return l&&p.children?y.children.splice(g,1,...p.children):y.children.splice(g,1),g}}}function Nse(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||Rse.test(n.slice(0,e))?n:""}function mL(n,e){const t=String(n);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=t.indexOf(e);for(;r!==-1;)i++,r=t.indexOf(e,r+e.length);return i}function Use(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ise(n,e,t){const r=iE((t||{}).ignore||[]),a=zse(e);let s=-1;for(;++s<a.length;)Nk(n,"text",l);function l(f,p){let g=-1,y;for(;++g<p.length;){const v=p[g],_=y?y.children:void 0;if(r(v,_?_.indexOf(v):void 0,y))return;y=v}if(y)return c(f,p)}function c(f,p){const g=p[p.length-1],y=a[s][0],v=a[s][1];let _=0;const M=g.children.indexOf(f);let S=!1,N=[];y.lastIndex=0;let P=y.exec(f.value);for(;P;){const U=P.index,X={index:P.index,input:P.input,stack:[...p,f]};let H=v(...P,X);if(typeof H=="string"&&(H=H.length>0?{type:"text",value:H}:void 0),H===!1?y.lastIndex=U+1:(_!==U&&N.push({type:"text",value:f.value.slice(_,U)}),Array.isArray(H)?N.push(...H):H&&N.push(H),_=U+P[0].length,S=!0),!y.global)break;P=y.exec(f.value)}return S?(_<f.value.length&&N.push({type:"text",value:f.value.slice(_)}),g.children.splice(M,1,...N)):N=[f],M+N.length}}function zse(n){const e=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!n[0]||Array.isArray(n[0])?n:[n];let i=-1;for(;++i<t.length;){const r=t[i];e.push([kse(r[0]),Bse(r[1])])}return e}function kse(n){return typeof n=="string"?new RegExp(Use(n),"g"):n}function Bse(n){return typeof n=="function"?n:function(){return n}}const Dw="phrasing",Ow=["autolink","link","image","label"];function Fse(){return{transforms:[jse],enter:{literalAutolink:Vse,literalAutolinkEmail:Pw,literalAutolinkHttp:Pw,literalAutolinkWww:Pw},exit:{literalAutolink:Yse,literalAutolinkEmail:Wse,literalAutolinkHttp:Gse,literalAutolinkWww:Xse}}}function Hse(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Dw,notInConstruct:Ow},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Dw,notInConstruct:Ow},{character:":",before:"[ps]",after:"\\/",inConstruct:Dw,notInConstruct:Ow}]}}function Vse(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function Pw(n){this.config.enter.autolinkProtocol.call(this,n)}function Gse(n){this.config.exit.autolinkProtocol.call(this,n)}function Xse(n){this.config.exit.data.call(this,n);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(n)}function Wse(n){this.config.exit.autolinkEmail.call(this,n)}function Yse(n){this.exit(n)}function jse(n){Ise(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,qse],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Zse]],{ignore:["link","linkReference"]})}function qse(n,e,t,i,r){let a="";if(!Ik(r)||(/^w/i.test(e)&&(t=e+t,e="",a="http://"),!Kse(t)))return!1;const s=Qse(t+i);if(!s[0])return!1;const l={type:"link",title:null,url:a+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[l,{type:"text",value:s[1]}]:l}function Zse(n,e,t,i){return!Ik(i,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function Kse(n){const e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Qse(n){const e=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!e)return[n,void 0];n=n.slice(0,e.index);let t=e[0],i=t.indexOf(")");const r=mL(n,"(");let a=mL(n,")");for(;i!==-1&&r>a;)n+=t.slice(0,i+1),t=t.slice(i+1),i=t.indexOf(")"),a++;return[n,t]}function Ik(n,e){const t=n.input.charCodeAt(n.index-1);return(n.index===0||_g(t)||eE(t))&&(!e||t!==47)}zk.peek=soe;function Jse(){this.buffer()}function $se(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function eoe(){this.buffer()}function toe(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function noe(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Sf(this.sliceSerialize(n)).toLowerCase(),t.label=e}function ioe(n){this.exit(n)}function roe(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Sf(this.sliceSerialize(n)).toLowerCase(),t.label=e}function aoe(n){this.exit(n)}function soe(){return"["}function zk(n,e,t,i){const r=t.createTracker(i);let a=r.move("[^");const s=t.enter("footnoteReference"),l=t.enter("reference");return a+=r.move(t.safe(t.associationId(n),{after:"]",before:a})),l(),s(),a+=r.move("]"),a}function ooe(){return{enter:{gfmFootnoteCallString:Jse,gfmFootnoteCall:$se,gfmFootnoteDefinitionLabelString:eoe,gfmFootnoteDefinition:toe},exit:{gfmFootnoteCallString:noe,gfmFootnoteCall:ioe,gfmFootnoteDefinitionLabelString:roe,gfmFootnoteDefinition:aoe}}}function loe(n){let e=!1;return n&&n.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:zk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(i,r,a,s){const l=a.createTracker(s);let c=l.move("[^");const f=a.enter("footnoteDefinition"),p=a.enter("label");return c+=l.move(a.safe(a.associationId(i),{before:c,after:"]"})),p(),c+=l.move("]:"),i.children&&i.children.length>0&&(l.shift(4),c+=l.move((e?`
`:" ")+a.indentLines(a.containerFlow(i,l.current()),e?kk:uoe))),f(),c}}function uoe(n,e,t){return e===0?n:kk(n,e,t)}function kk(n,e,t){return(t?"":"    ")+n}const coe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Bk.peek=moe;function foe(){return{canContainEols:["delete"],enter:{strikethrough:doe},exit:{strikethrough:poe}}}function hoe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:coe}],handlers:{delete:Bk}}}function doe(n){this.enter({type:"delete",children:[]},n)}function poe(n){this.exit(n)}function Bk(n,e,t,i){const r=t.createTracker(i),a=t.enter("strikethrough");let s=r.move("~~");return s+=t.containerPhrasing(n,{...r.current(),before:s,after:"~"}),s+=r.move("~~"),a(),s}function moe(){return"~"}function goe(n){return n.length}function yoe(n,e){const t=e||{},i=(t.align||[]).concat(),r=t.stringLength||goe,a=[],s=[],l=[],c=[];let f=0,p=-1;for(;++p<n.length;){const D=[],M=[];let S=-1;for(n[p].length>f&&(f=n[p].length);++S<n[p].length;){const N=voe(n[p][S]);if(t.alignDelimiters!==!1){const P=r(N);M[S]=P,(c[S]===void 0||P>c[S])&&(c[S]=P)}D.push(N)}s[p]=D,l[p]=M}let g=-1;if(typeof i=="object"&&"length"in i)for(;++g<f;)a[g]=gL(i[g]);else{const D=gL(i);for(;++g<f;)a[g]=D}g=-1;const y=[],v=[];for(;++g<f;){const D=a[g];let M="",S="";D===99?(M=":",S=":"):D===108?M=":":D===114&&(S=":");let N=t.alignDelimiters===!1?1:Math.max(1,c[g]-M.length-S.length);const P=M+"-".repeat(N)+S;t.alignDelimiters!==!1&&(N=M.length+N+S.length,N>c[g]&&(c[g]=N),v[g]=N),y[g]=P}s.splice(1,0,y),l.splice(1,0,v),p=-1;const _=[];for(;++p<s.length;){const D=s[p],M=l[p];g=-1;const S=[];for(;++g<f;){const N=D[g]||"";let P="",U="";if(t.alignDelimiters!==!1){const X=c[g]-(M[g]||0),H=a[g];H===114?P=" ".repeat(X):H===99?X%2?(P=" ".repeat(X/2+.5),U=" ".repeat(X/2-.5)):(P=" ".repeat(X/2),U=P):U=" ".repeat(X)}t.delimiterStart!==!1&&!g&&S.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&N==="")&&(t.delimiterStart!==!1||g)&&S.push(" "),t.alignDelimiters!==!1&&S.push(P),S.push(N),t.alignDelimiters!==!1&&S.push(U),t.padding!==!1&&S.push(" "),(t.delimiterEnd!==!1||g!==f-1)&&S.push("|")}_.push(t.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return _.join(`
`)}function voe(n){return n==null?"":String(n)}function gL(n){const e=typeof n=="string"?n.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function xoe(n,e,t,i){const r=t.enter("blockquote"),a=t.createTracker(i);a.move("> "),a.shift(2);const s=t.indentLines(t.containerFlow(n,a.current()),boe);return r(),s}function boe(n,e,t){return">"+(t?"":" ")+n}function _oe(n,e){return yL(n,e.inConstruct,!0)&&!yL(n,e.notInConstruct,!1)}function yL(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let i=-1;for(;++i<e.length;)if(n.includes(e[i]))return!0;return!1}function vL(n,e,t,i){let r=-1;for(;++r<t.unsafe.length;)if(t.unsafe[r].character===`
`&&_oe(t.stack,t.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function Soe(n,e){const t=String(n);let i=t.indexOf(e),r=i,a=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++a>s&&(s=a):a=1,r=i+e.length,i=t.indexOf(e,r);return s}function Eoe(n,e){return!!(e.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function Toe(n){const e=n.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function woe(n,e,t,i){const r=Toe(t),a=n.value||"",s=r==="`"?"GraveAccent":"Tilde";if(Eoe(n,t)){const g=t.enter("codeIndented"),y=t.indentLines(a,Moe);return g(),y}const l=t.createTracker(i),c=r.repeat(Math.max(Soe(a,r)+1,3)),f=t.enter("codeFenced");let p=l.move(c);if(n.lang){const g=t.enter(`codeFencedLang${s}`);p+=l.move(t.safe(n.lang,{before:p,after:" ",encode:["`"],...l.current()})),g()}if(n.lang&&n.meta){const g=t.enter(`codeFencedMeta${s}`);p+=l.move(" "),p+=l.move(t.safe(n.meta,{before:p,after:`
`,encode:["`"],...l.current()})),g()}return p+=l.move(`
`),a&&(p+=l.move(a+`
`)),p+=l.move(c),f(),p}function Moe(n,e,t){return(t?"":"    ")+n}function y2(n){const e=n.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Aoe(n,e,t,i){const r=y2(t),a=r==='"'?"Quote":"Apostrophe",s=t.enter("definition");let l=t.enter("label");const c=t.createTracker(i);let f=c.move("[");return f+=c.move(t.safe(t.associationId(n),{before:f,after:"]",...c.current()})),f+=c.move("]: "),l(),!n.url||/[\0- \u007F]/.test(n.url)?(l=t.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(t.safe(n.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(l=t.enter("destinationRaw"),f+=c.move(t.safe(n.url,{before:f,after:n.title?" ":`
`,...c.current()}))),l(),n.title&&(l=t.enter(`title${a}`),f+=c.move(" "+r),f+=c.move(t.safe(n.title,{before:f,after:r,...c.current()})),f+=c.move(r),l()),s(),f}function Coe(n){const e=n.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function _x(n){return"&#x"+n.toString(16).toUpperCase()+";"}function i1(n,e,t){const i=hv(n),r=hv(e);return i===void 0?r===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Fk.peek=Roe;function Fk(n,e,t,i){const r=Coe(t),a=t.enter("emphasis"),s=t.createTracker(i),l=s.move(r);let c=s.move(t.containerPhrasing(n,{after:r,before:l,...s.current()}));const f=c.charCodeAt(0),p=i1(i.before.charCodeAt(i.before.length-1),f,r);p.inside&&(c=_x(f)+c.slice(1));const g=c.charCodeAt(c.length-1),y=i1(i.after.charCodeAt(0),g,r);y.inside&&(c=c.slice(0,-1)+_x(g));const v=s.move(r);return a(),t.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},l+c+v}function Roe(n,e,t){return t.options.emphasis||"*"}function Doe(n,e){let t=!1;return m2(n,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return t=!0,rA}),!!((!n.depth||n.depth<3)&&l2(n)&&(e.options.setext||t))}function Ooe(n,e,t,i){const r=Math.max(Math.min(6,n.depth||1),1),a=t.createTracker(i);if(Doe(n,t)){const p=t.enter("headingSetext"),g=t.enter("phrasing"),y=t.containerPhrasing(n,{...a.current(),before:`
`,after:`
`});return g(),p(),y+`
`+(r===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const s="#".repeat(r),l=t.enter("headingAtx"),c=t.enter("phrasing");a.move(s+" ");let f=t.containerPhrasing(n,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(f)&&(f=_x(f.charCodeAt(0))+f.slice(1)),f=f?s+" "+f:s,t.options.closeAtx&&(f+=" "+s),c(),l(),f}Hk.peek=Poe;function Hk(n){return n.value||""}function Poe(){return"<"}Vk.peek=Loe;function Vk(n,e,t,i){const r=y2(t),a=r==='"'?"Quote":"Apostrophe",s=t.enter("image");let l=t.enter("label");const c=t.createTracker(i);let f=c.move("![");return f+=c.move(t.safe(n.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),l(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(l=t.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(t.safe(n.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(l=t.enter("destinationRaw"),f+=c.move(t.safe(n.url,{before:f,after:n.title?" ":")",...c.current()}))),l(),n.title&&(l=t.enter(`title${a}`),f+=c.move(" "+r),f+=c.move(t.safe(n.title,{before:f,after:r,...c.current()})),f+=c.move(r),l()),f+=c.move(")"),s(),f}function Loe(){return"!"}Gk.peek=Noe;function Gk(n,e,t,i){const r=n.referenceType,a=t.enter("imageReference");let s=t.enter("label");const l=t.createTracker(i);let c=l.move("![");const f=t.safe(n.alt,{before:c,after:"]",...l.current()});c+=l.move(f+"]["),s();const p=t.stack;t.stack=[],s=t.enter("reference");const g=t.safe(t.associationId(n),{before:c,after:"]",...l.current()});return s(),t.stack=p,a(),r==="full"||!f||f!==g?c+=l.move(g+"]"):r==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function Noe(){return"!"}Xk.peek=Uoe;function Xk(n,e,t){let i=n.value||"",r="`",a=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<t.unsafe.length;){const s=t.unsafe[a],l=t.compilePattern(s);let c;if(s.atBreak)for(;c=l.exec(i);){let f=c.index;i.charCodeAt(f)===10&&i.charCodeAt(f-1)===13&&f--,i=i.slice(0,f)+" "+i.slice(c.index+1)}}return r+i+r}function Uoe(){return"`"}function Wk(n,e){const t=l2(n);return!!(!e.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(t===n.url||"mailto:"+t===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}Yk.peek=Ioe;function Yk(n,e,t,i){const r=y2(t),a=r==='"'?"Quote":"Apostrophe",s=t.createTracker(i);let l,c;if(Wk(n,t)){const p=t.stack;t.stack=[],l=t.enter("autolink");let g=s.move("<");return g+=s.move(t.containerPhrasing(n,{before:g,after:">",...s.current()})),g+=s.move(">"),l(),t.stack=p,g}l=t.enter("link"),c=t.enter("label");let f=s.move("[");return f+=s.move(t.containerPhrasing(n,{before:f,after:"](",...s.current()})),f+=s.move("]("),c(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(c=t.enter("destinationLiteral"),f+=s.move("<"),f+=s.move(t.safe(n.url,{before:f,after:">",...s.current()})),f+=s.move(">")):(c=t.enter("destinationRaw"),f+=s.move(t.safe(n.url,{before:f,after:n.title?" ":")",...s.current()}))),c(),n.title&&(c=t.enter(`title${a}`),f+=s.move(" "+r),f+=s.move(t.safe(n.title,{before:f,after:r,...s.current()})),f+=s.move(r),c()),f+=s.move(")"),l(),f}function Ioe(n,e,t){return Wk(n,t)?"<":"["}jk.peek=zoe;function jk(n,e,t,i){const r=n.referenceType,a=t.enter("linkReference");let s=t.enter("label");const l=t.createTracker(i);let c=l.move("[");const f=t.containerPhrasing(n,{before:c,after:"]",...l.current()});c+=l.move(f+"]["),s();const p=t.stack;t.stack=[],s=t.enter("reference");const g=t.safe(t.associationId(n),{before:c,after:"]",...l.current()});return s(),t.stack=p,a(),r==="full"||!f||f!==g?c+=l.move(g+"]"):r==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function zoe(){return"["}function v2(n){const e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function koe(n){const e=v2(n),t=n.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function Boe(n){const e=n.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function qk(n){const e=n.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Foe(n,e,t,i){const r=t.enter("list"),a=t.bulletCurrent;let s=n.ordered?Boe(t):v2(t);const l=n.ordered?s==="."?")":".":koe(t);let c=e&&t.bulletLastUsed?s===t.bulletLastUsed:!1;if(!n.ordered){const p=n.children?n.children[0]:void 0;if((s==="*"||s==="-")&&p&&(!p.children||!p.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(c=!0),qk(t)===s&&p){let g=-1;for(;++g<n.children.length;){const y=n.children[g];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(s=l),t.bulletCurrent=s;const f=t.containerFlow(n,i);return t.bulletLastUsed=s,t.bulletCurrent=a,r(),f}function Hoe(n){const e=n.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Voe(n,e,t,i){const r=Hoe(t);let a=t.bulletCurrent||v2(t);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+a);let s=a.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(s=Math.ceil(s/4)*4);const l=t.createTracker(i);l.move(a+" ".repeat(s-a.length)),l.shift(s);const c=t.enter("listItem"),f=t.indentLines(t.containerFlow(n,l.current()),p);return c(),f;function p(g,y,v){return y?(v?"":" ".repeat(s))+g:(v?a:a+" ".repeat(s-a.length))+g}}function Goe(n,e,t,i){const r=t.enter("paragraph"),a=t.enter("phrasing"),s=t.containerPhrasing(n,i);return a(),r(),s}const Xoe=iE(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Woe(n,e,t,i){return(n.children.some(function(s){return Xoe(s)})?t.containerPhrasing:t.containerFlow).call(t,n,i)}function Yoe(n){const e=n.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Zk.peek=joe;function Zk(n,e,t,i){const r=Yoe(t),a=t.enter("strong"),s=t.createTracker(i),l=s.move(r+r);let c=s.move(t.containerPhrasing(n,{after:r,before:l,...s.current()}));const f=c.charCodeAt(0),p=i1(i.before.charCodeAt(i.before.length-1),f,r);p.inside&&(c=_x(f)+c.slice(1));const g=c.charCodeAt(c.length-1),y=i1(i.after.charCodeAt(0),g,r);y.inside&&(c=c.slice(0,-1)+_x(g));const v=s.move(r+r);return a(),t.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},l+c+v}function joe(n,e,t){return t.options.strong||"*"}function qoe(n,e,t,i){return t.safe(n.value,i)}function Zoe(n){const e=n.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Koe(n,e,t){const i=(qk(t)+(t.options.ruleSpaces?" ":"")).repeat(Zoe(t));return t.options.ruleSpaces?i.slice(0,-1):i}const Kk={blockquote:xoe,break:vL,code:woe,definition:Aoe,emphasis:Fk,hardBreak:vL,heading:Ooe,html:Hk,image:Vk,imageReference:Gk,inlineCode:Xk,link:Yk,linkReference:jk,list:Foe,listItem:Voe,paragraph:Goe,root:Woe,strong:Zk,text:qoe,thematicBreak:Koe};function Qoe(){return{enter:{table:Joe,tableData:xL,tableHeader:xL,tableRow:ele},exit:{codeText:tle,table:$oe,tableData:Lw,tableHeader:Lw,tableRow:Lw}}}function Joe(n){const e=n._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},n),this.data.inTable=!0}function $oe(n){this.exit(n),this.data.inTable=void 0}function ele(n){this.enter({type:"tableRow",children:[]},n)}function Lw(n){this.exit(n)}function xL(n){this.enter({type:"tableCell",children:[]},n)}function tle(n){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,nle));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(n)}function nle(n,e){return e==="|"?e:n}function ile(n){const e=n||{},t=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,a=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:s,tableCell:c,tableRow:l}};function s(v,_,D,M){return f(p(v,D,M),v.align)}function l(v,_,D,M){const S=g(v,D,M),N=f([S]);return N.slice(0,N.indexOf(`
`))}function c(v,_,D,M){const S=D.enter("tableCell"),N=D.enter("phrasing"),P=D.containerPhrasing(v,{...M,before:a,after:a});return N(),S(),P}function f(v,_){return yoe(v,{align:_,alignDelimiters:i,padding:t,stringLength:r})}function p(v,_,D){const M=v.children;let S=-1;const N=[],P=_.enter("table");for(;++S<M.length;)N[S]=g(M[S],_,D);return P(),N}function g(v,_,D){const M=v.children;let S=-1;const N=[],P=_.enter("tableRow");for(;++S<M.length;)N[S]=c(M[S],v,_,D);return P(),N}function y(v,_,D){let M=Kk.inlineCode(v,_,D);return D.stack.includes("tableCell")&&(M=M.replace(/\|/g,"\\$&")),M}}function rle(){return{exit:{taskListCheckValueChecked:bL,taskListCheckValueUnchecked:bL,paragraph:sle}}}function ale(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ole}}}function bL(n){const e=this.stack[this.stack.length-2];e.type,e.checked=n.type==="taskListCheckValueChecked"}function sle(n){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const i=t.children[0];if(i&&i.type==="text"){const r=e.children;let a=-1,s;for(;++a<r.length;){const l=r[a];if(l.type==="paragraph"){s=l;break}}s===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():t.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}}this.exit(n)}function ole(n,e,t,i){const r=n.children[0],a=typeof n.checked=="boolean"&&r&&r.type==="paragraph",s="["+(n.checked?"x":" ")+"] ",l=t.createTracker(i);a&&l.move(s);let c=Kk.listItem(n,e,t,{...i,...l.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(p){return p+s}}function lle(){return[Fse(),ooe(),foe(),Qoe(),rle()]}function ule(n){return{extensions:[Hse(),loe(n),hoe(),ile(n),ale()]}}const cle={tokenize:gle,partial:!0},Qk={tokenize:yle,partial:!0},Jk={tokenize:vle,partial:!0},$k={tokenize:xle,partial:!0},fle={tokenize:ble,partial:!0},eB={name:"wwwAutolink",tokenize:ple,previous:nB},tB={name:"protocolAutolink",tokenize:mle,previous:iB},Dd={name:"emailAutolink",tokenize:dle,previous:rB},Oh={};function hle(){return{text:Oh}}let Hm=48;for(;Hm<123;)Oh[Hm]=Dd,Hm++,Hm===58?Hm=65:Hm===91&&(Hm=97);Oh[43]=Dd;Oh[45]=Dd;Oh[46]=Dd;Oh[95]=Dd;Oh[72]=[Dd,tB];Oh[104]=[Dd,tB];Oh[87]=[Dd,eB];Oh[119]=[Dd,eB];function dle(n,e,t){const i=this;let r,a;return s;function s(g){return!lA(g)||!rB.call(i,i.previous)||x2(i.events)?t(g):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),l(g))}function l(g){return lA(g)?(n.consume(g),l):g===64?(n.consume(g),c):t(g)}function c(g){return g===46?n.check(fle,p,f)(g):g===45||g===95||zo(g)?(a=!0,n.consume(g),c):p(g)}function f(g){return n.consume(g),r=!0,c}function p(g){return a&&r&&pl(i.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(g)):t(g)}}function ple(n,e,t){const i=this;return r;function r(s){return s!==87&&s!==119||!nB.call(i,i.previous)||x2(i.events)?t(s):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(cle,n.attempt(Qk,n.attempt(Jk,a),t),t)(s))}function a(s){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(s)}}function mle(n,e,t){const i=this;let r="",a=!1;return s;function s(g){return(g===72||g===104)&&iB.call(i,i.previous)&&!x2(i.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),r+=String.fromCodePoint(g),n.consume(g),l):t(g)}function l(g){if(pl(g)&&r.length<5)return r+=String.fromCodePoint(g),n.consume(g),l;if(g===58){const y=r.toLowerCase();if(y==="http"||y==="https")return n.consume(g),c}return t(g)}function c(g){return g===47?(n.consume(g),a?f:(a=!0,c)):t(g)}function f(g){return g===null||e1(g)||yr(g)||_g(g)||eE(g)?t(g):n.attempt(Qk,n.attempt(Jk,p),t)(g)}function p(g){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(g)}}function gle(n,e,t){let i=0;return r;function r(s){return(s===87||s===119)&&i<3?(i++,n.consume(s),r):s===46&&i===3?(n.consume(s),a):t(s)}function a(s){return s===null?t(s):e(s)}}function yle(n,e,t){let i,r,a;return s;function s(f){return f===46||f===95?n.check($k,c,l)(f):f===null||yr(f)||_g(f)||f!==45&&eE(f)?c(f):(a=!0,n.consume(f),s)}function l(f){return f===95?i=!0:(r=i,i=void 0),n.consume(f),s}function c(f){return r||i||!a?t(f):e(f)}}function vle(n,e){let t=0,i=0;return r;function r(s){return s===40?(t++,n.consume(s),r):s===41&&i<t?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?n.check($k,e,a)(s):s===null||yr(s)||_g(s)?e(s):(n.consume(s),r)}function a(s){return s===41&&i++,n.consume(s),r}}function xle(n,e,t){return i;function i(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(n.consume(l),i):l===38?(n.consume(l),a):l===93?(n.consume(l),r):l===60||l===null||yr(l)||_g(l)?e(l):t(l)}function r(l){return l===null||l===40||l===91||yr(l)||_g(l)?e(l):i(l)}function a(l){return pl(l)?s(l):t(l)}function s(l){return l===59?(n.consume(l),i):pl(l)?(n.consume(l),s):t(l)}}function ble(n,e,t){return i;function i(a){return n.consume(a),r}function r(a){return zo(a)?t(a):e(a)}}function nB(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||yr(n)}function iB(n){return!pl(n)}function rB(n){return!(n===47||lA(n))}function lA(n){return n===43||n===45||n===46||n===95||zo(n)}function x2(n){let e=n.length,t=!1;for(;e--;){const i=n[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){t=!0;break}if(i._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const _le={tokenize:Rle,partial:!0};function Sle(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Mle,continuation:{tokenize:Ale},exit:Cle}},text:{91:{name:"gfmFootnoteCall",tokenize:wle},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Ele,resolveTo:Tle}}}}function Ele(n,e,t){const i=this;let r=i.events.length;const a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s;for(;r--;){const c=i.events[r][1];if(c.type==="labelImage"){s=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!s||!s._balanced)return t(c);const f=Sf(i.sliceSerialize({start:s.end,end:i.now()}));return f.codePointAt(0)!==94||!a.includes(f.slice(1))?t(c):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(c),n.exit("gfmFootnoteCallLabelMarker"),e(c))}}function Tle(n,e){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},n[n.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[n[t+1],n[t+2],["enter",i,e],n[t+3],n[t+4],["enter",r,e],["exit",r,e],["enter",a,e],["enter",s,e],["exit",s,e],["exit",a,e],n[n.length-2],n[n.length-1],["exit",i,e]];return n.splice(t,n.length-t+1,...l),n}function wle(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a=0,s;return l;function l(g){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(g),n.exit("gfmFootnoteCallLabelMarker"),c}function c(g){return g!==94?t(g):(n.enter("gfmFootnoteCallMarker"),n.consume(g),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",f)}function f(g){if(a>999||g===93&&!s||g===null||g===91||yr(g))return t(g);if(g===93){n.exit("chunkString");const y=n.exit("gfmFootnoteCallString");return r.includes(Sf(i.sliceSerialize(y)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(g),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),e):t(g)}return yr(g)||(s=!0),a++,n.consume(g),g===92?p:f}function p(g){return g===91||g===92||g===93?(n.consume(g),a++,f):f(g)}}function Mle(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a,s=0,l;return c;function c(_){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(_),n.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(_){return _===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(_),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",p):t(_)}function p(_){if(s>999||_===93&&!l||_===null||_===91||yr(_))return t(_);if(_===93){n.exit("chunkString");const D=n.exit("gfmFootnoteDefinitionLabelString");return a=Sf(i.sliceSerialize(D)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(_),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),y}return yr(_)||(l=!0),s++,n.consume(_),_===92?g:p}function g(_){return _===91||_===92||_===93?(n.consume(_),s++,p):p(_)}function y(_){return _===58?(n.enter("definitionMarker"),n.consume(_),n.exit("definitionMarker"),r.includes(a)||r.push(a),Ti(n,v,"gfmFootnoteDefinitionWhitespace")):t(_)}function v(_){return e(_)}}function Ale(n,e,t){return n.check(Jx,e,n.attempt(_le,e,t))}function Cle(n){n.exit("gfmFootnoteDefinition")}function Rle(n,e,t){const i=this;return Ti(n,r,"gfmFootnoteDefinitionIndent",5);function r(a){const s=i.events[i.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(a):t(a)}}function Dle(n){let t=(n||{}).singleTilde;const i={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(s,l){let c=-1;for(;++c<s.length;)if(s[c][0]==="enter"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._close){let f=c;for(;f--;)if(s[f][0]==="exit"&&s[f][1].type==="strikethroughSequenceTemporary"&&s[f][1]._open&&s[c][1].end.offset-s[c][1].start.offset===s[f][1].end.offset-s[f][1].start.offset){s[c][1].type="strikethroughSequence",s[f][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},s[f][1].start),end:Object.assign({},s[c][1].end)},g={type:"strikethroughText",start:Object.assign({},s[f][1].end),end:Object.assign({},s[c][1].start)},y=[["enter",p,l],["enter",s[f][1],l],["exit",s[f][1],l],["enter",g,l]],v=l.parser.constructs.insideSpan.null;v&&Xu(y,y.length,0,tE(v,s.slice(f+1,c),l)),Xu(y,y.length,0,[["exit",g,l],["enter",s[c][1],l],["exit",s[c][1],l],["exit",p,l]]),Xu(s,f-1,c-f+3,y),c=f+y.length-2;break}}for(c=-1;++c<s.length;)s[c][1].type==="strikethroughSequenceTemporary"&&(s[c][1].type="data");return s}function a(s,l,c){const f=this.previous,p=this.events;let g=0;return y;function y(_){return f===126&&p[p.length-1][1].type!=="characterEscape"?c(_):(s.enter("strikethroughSequenceTemporary"),v(_))}function v(_){const D=hv(f);if(_===126)return g>1?c(_):(s.consume(_),g++,v);if(g<2&&!t)return c(_);const M=s.exit("strikethroughSequenceTemporary"),S=hv(_);return M._open=!S||S===2&&!!D,M._close=!D||D===2&&!!S,l(_)}}}class Ole{constructor(){this.map=[]}add(e,t,i){Ple(this,e,t,i)}consume(e){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let t=this.map.length;const i=[];for(;t>0;)t-=1,i.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];i.push(e.slice()),e.length=0;let r=i.pop();for(;r;){for(const a of r)e.push(a);r=i.pop()}this.map.length=0}}function Ple(n,e,t,i){let r=0;if(!(t===0&&i.length===0)){for(;r<n.map.length;){if(n.map[r][0]===e){n.map[r][1]+=t,n.map[r][2].push(...i);return}r+=1}n.map.push([e,t,i])}}function Lle(n,e){let t=!1;const i=[];for(;e<n.length;){const r=n[e];if(t){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const a=i.length-1;i[a]=i[a]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return i}function Nle(){return{flow:{null:{name:"table",tokenize:Ule,resolveAll:Ile}}}}function Ule(n,e,t){const i=this;let r=0,a=0,s;return l;function l(I){let Z=i.events.length-1;for(;Z>-1;){const ge=i.events[Z][1].type;if(ge==="lineEnding"||ge==="linePrefix")Z--;else break}const ae=Z>-1?i.events[Z][1].type:null,se=ae==="tableHead"||ae==="tableRow"?H:c;return se===H&&i.parser.lazy[i.now().line]?t(I):se(I)}function c(I){return n.enter("tableHead"),n.enter("tableRow"),f(I)}function f(I){return I===124||(s=!0,a+=1),p(I)}function p(I){return I===null?t(I):En(I)?a>1?(a=0,i.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(I),n.exit("lineEnding"),v):t(I):fi(I)?Ti(n,p,"whitespace")(I):(a+=1,s&&(s=!1,r+=1),I===124?(n.enter("tableCellDivider"),n.consume(I),n.exit("tableCellDivider"),s=!0,p):(n.enter("data"),g(I)))}function g(I){return I===null||I===124||yr(I)?(n.exit("data"),p(I)):(n.consume(I),I===92?y:g)}function y(I){return I===92||I===124?(n.consume(I),g):g(I)}function v(I){return i.interrupt=!1,i.parser.lazy[i.now().line]?t(I):(n.enter("tableDelimiterRow"),s=!1,fi(I)?Ti(n,_,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):_(I))}function _(I){return I===45||I===58?M(I):I===124?(s=!0,n.enter("tableCellDivider"),n.consume(I),n.exit("tableCellDivider"),D):X(I)}function D(I){return fi(I)?Ti(n,M,"whitespace")(I):M(I)}function M(I){return I===58?(a+=1,s=!0,n.enter("tableDelimiterMarker"),n.consume(I),n.exit("tableDelimiterMarker"),S):I===45?(a+=1,S(I)):I===null||En(I)?U(I):X(I)}function S(I){return I===45?(n.enter("tableDelimiterFiller"),N(I)):X(I)}function N(I){return I===45?(n.consume(I),N):I===58?(s=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(I),n.exit("tableDelimiterMarker"),P):(n.exit("tableDelimiterFiller"),P(I))}function P(I){return fi(I)?Ti(n,U,"whitespace")(I):U(I)}function U(I){return I===124?_(I):I===null||En(I)?!s||r!==a?X(I):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(I)):X(I)}function X(I){return t(I)}function H(I){return n.enter("tableRow"),G(I)}function G(I){return I===124?(n.enter("tableCellDivider"),n.consume(I),n.exit("tableCellDivider"),G):I===null||En(I)?(n.exit("tableRow"),e(I)):fi(I)?Ti(n,G,"whitespace")(I):(n.enter("data"),W(I))}function W(I){return I===null||I===124||yr(I)?(n.exit("data"),G(I)):(n.consume(I),I===92?B:W)}function B(I){return I===92||I===124?(n.consume(I),W):W(I)}}function Ile(n,e){let t=-1,i=!0,r=0,a=[0,0,0,0],s=[0,0,0,0],l=!1,c=0,f,p,g;const y=new Ole;for(;++t<n.length;){const v=n[t],_=v[1];v[0]==="enter"?_.type==="tableHead"?(l=!1,c!==0&&(_L(y,e,c,f,p),p=void 0,c=0),f={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},y.add(t,0,[["enter",f,e]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(i=!0,g=void 0,a=[0,0,0,0],s=[0,t+1,0,0],l&&(l=!1,p={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},y.add(t,0,[["enter",p,e]])),r=_.type==="tableDelimiterRow"?2:p?3:1):r&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(i=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],g=R_(y,e,a,r,void 0,g),a=[0,0,0,0]),s[2]=t)):_.type==="tableCellDivider"&&(i?i=!1:(a[1]!==0&&(s[0]=s[1],g=R_(y,e,a,r,void 0,g)),a=s,s=[a[1],t,0,0])):_.type==="tableHead"?(l=!0,c=t):_.type==="tableRow"||_.type==="tableDelimiterRow"?(c=t,a[1]!==0?(s[0]=s[1],g=R_(y,e,a,r,t,g)):s[1]!==0&&(g=R_(y,e,s,r,t,g)),r=0):r&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(s[3]=t)}for(c!==0&&_L(y,e,c,f,p),y.consume(e.events),t=-1;++t<e.events.length;){const v=e.events[t];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=Lle(e.events,t))}return n}function R_(n,e,t,i,r,a){const s=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",l="tableContent";t[0]!==0&&(a.end=Object.assign({},Ay(e.events,t[0])),n.add(t[0],0,[["exit",a,e]]));const c=Ay(e.events,t[1]);if(a={type:s,start:Object.assign({},c),end:Object.assign({},c)},n.add(t[1],0,[["enter",a,e]]),t[2]!==0){const f=Ay(e.events,t[2]),p=Ay(e.events,t[3]),g={type:l,start:Object.assign({},f),end:Object.assign({},p)};if(n.add(t[2],0,[["enter",g,e]]),i!==2){const y=e.events[t[2]],v=e.events[t[3]];if(y[1].end=Object.assign({},v[1].end),y[1].type="chunkText",y[1].contentType="text",t[3]>t[2]+1){const _=t[2]+1,D=t[3]-t[2]-1;n.add(_,D,[])}}n.add(t[3]+1,0,[["exit",g,e]])}return r!==void 0&&(a.end=Object.assign({},Ay(e.events,r)),n.add(r,0,[["exit",a,e]]),a=void 0),a}function _L(n,e,t,i,r){const a=[],s=Ay(e.events,t);r&&(r.end=Object.assign({},s),a.push(["exit",r,e])),i.end=Object.assign({},s),a.push(["exit",i,e]),n.add(t+1,0,a)}function Ay(n,e){const t=n[e],i=t[0]==="enter"?"start":"end";return t[1][i]}const zle={name:"tasklistCheck",tokenize:Ble};function kle(){return{text:{91:zle}}}function Ble(n,e,t){const i=this;return r;function r(c){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?t(c):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(c),n.exit("taskListCheckMarker"),a)}function a(c){return yr(c)?(n.enter("taskListCheckValueUnchecked"),n.consume(c),n.exit("taskListCheckValueUnchecked"),s):c===88||c===120?(n.enter("taskListCheckValueChecked"),n.consume(c),n.exit("taskListCheckValueChecked"),s):t(c)}function s(c){return c===93?(n.enter("taskListCheckMarker"),n.consume(c),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),l):t(c)}function l(c){return En(c)?e(c):fi(c)?n.check({tokenize:Fle},e,t)(c):t(c)}}function Fle(n,e,t){return Ti(n,i,"whitespace");function i(r){return r===null?t(r):e(r)}}function Hle(n){return mk([hle(),Sle(),Dle(n),Nle(),kle()])}const Vle={};function g0(n){const e=this,t=n||Vle,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),a=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),s=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(Hle(t)),a.push(lle()),s.push(ule(t))}function Gle(){const{slug:n}=VL(),{post:e,isFetching:t,error:i}=bne(n);return t?fe.jsx(yv,{}):i?(Ip.error(i),null):fe.jsxs("div",{className:"max-w-[1300px] mx-auto px-6 py-12 glass",children:[fe.jsx("h1",{className:"text-3xl font-bold text-purple-400 mb-2",children:e.title}),fe.jsx("p",{className:"text-sm text-gray-400 mb-6",children:new Date(e.date).toLocaleDateString()}),fe.jsxs("div",{children:[fe.jsx("div",{className:"prose prose-invert max-w-none mb-12 ",children:fe.jsx(m0,{remarkPlugins:[g0],children:e.body})}),fe.jsx("div",{className:"prose prose-invert max-w-none mb-8 ",children:fe.jsx(m0,{remarkPlugins:[g0],children:e.section01})}),fe.jsx("div",{className:"mb-4 py-4 mx-auto",children:e.image01&&fe.jsx("img",{src:e.image01,alt:"image01",className:"w-full max-w-4xl h-auto object-cover rounded"})}),fe.jsx("div",{className:"prose prose-invert max-w-none mb-12 ",children:fe.jsx(m0,{remarkPlugins:[g0],children:e.section02})}),fe.jsx("div",{className:"mb-4 py-4 mx-auto",children:e.image02&&fe.jsx("img",{src:e.image02,alt:"image01",className:"w-full max-w-4xl h-auto mb-4 object-cover rounded"})}),fe.jsx("div",{className:"prose prose-invert max-w-none mb-12 ",children:fe.jsx(m0,{remarkPlugins:[g0],children:e.section03})}),fe.jsx("div",{className:"prose prose-invert max-w-none mb-12 ",children:fe.jsx(m0,{remarkPlugins:[g0],children:e.section04})})]}),fe.jsxs(Vu,{to:"/blog",className:"text-purple-300 text-sm hover:underline",children:[" "," Back to Posts"]})]})}function Xle(){return fe.jsx(Gle,{})}function Wle(){return fe.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-6 min-h-[70vh]",children:[fe.jsx("h1",{className:"text-6xl font-extrabold text-blue-400 mb-2",children:"404"}),fe.jsx("h2",{className:"text-2xl font-semibold text-gray-100 mb-2",children:"Page Not Found "}),fe.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"Sorry, the page you are looking for does not exist"}),fe.jsx(Vu,{to:"/",className:"inline-block bg-purple-600 text-white px-6 py-2 rounded hover:bg-purple-700 transition",children:"Go Home"})]})}function Yle({onToggle:n,navOpen:e}){const t="text-purple-500",i="hover:text-purple-500 transition-all duration-500",r="mx-auto bg-purple-500 h-[1px] transition-all duration-500";return fe.jsxs(fe.Fragment,{children:[fe.jsx("div",{className:"hidden md:flex items-center gap-10 text-2xl",children:["/","/projects","/blog","/about","/contact"].map((a,s)=>fe.jsx(o1,{to:a,children:({isActive:l})=>fe.jsxs("span",{className:"group relative inline-block cursor-pointer text-sm",children:[fe.jsx("span",{className:l?t:i,children:a==="/"?"Home":a.slice(1).charAt(0).toUpperCase()+a.slice(2)}),fe.jsx("div",{className:`${r} ${l?"w-full":"w-0 group-hover:w-full"}`})]})},s))}),fe.jsx("div",{className:"md:hidden flex items-center ",children:fe.jsx("button",{onClick:n,className:"text-gray-200 text-xl cursor-pointer",title:"Menu",children:e?fe.jsx(Ite,{}):fe.jsx(Ute,{})})})]})}function jle(){return fe.jsxs(o1,{to:"/",className:"flex items-center justify-center",children:[fe.jsx(gg.img,{className:"mx-2 h-15 w-15",src:"/logo.png",alt:""}),fe.jsx(gg.div,{className:" absolute -z-10 flex justify-center items-center animate-pulse"})]})}function qle({navOpen:n}){const e="text-purple-500",t="hover:text-purple-500 transition-all duration-500",i="mx-auto bg-purple-500 h-[1px] transition-all duration-500";return fe.jsx(fe.Fragment,{children:n&&fe.jsx("div",{className:"absolute top-[80px] left-0 w-full z-40 bg-opacity-70 backdrop-blur-md px-6 py-4 space-y-2 space-x-4 text-center md:hidden",children:["/","/projects","/blog","/about","/contact"].map((r,a)=>fe.jsx(o1,{to:r,children:({isActive:s})=>fe.jsxs("span",{className:"group relative inline-block cursor-pointer text-sm",children:[fe.jsx("span",{className:s?e:t,children:r==="/"?"Home":r.slice(1).charAt(0).toUpperCase()+r.slice(2)}),fe.jsx("div",{className:`${i} ${s?"w-full":"w-0 group-hover:w-full"}`})]})},a))})})}function Zle(){const[n,e]=oe.useState(!1);return fe.jsxs(fe.Fragment,{children:[fe.jsx("nav",{className:"fixed top-0 border-b-1 border-solid border-gray-900 left-0 w-full bg-opacity-70 backdrop-blur-md z-50",children:fe.jsxs("div",{className:`max-w-[1300px] mx-auto  flex justify-between\r
        text-md items-center px-12 md:px-0 h-20`,children:[fe.jsx(jle,{}),fe.jsx(Yle,{navOpen:n,onToggle:()=>e(!n)})]})}),fe.jsx(qle,{navOpen:n})]})}function Kle(){return fe.jsxs("div",{className:"flex flex-col min-h-screen",children:[fe.jsx(Zle,{}),fe.jsx("main",{className:"flex-grow",children:fe.jsx(mA,{})})]})}var Qle=function(){return null};const Jle=new W5({defaultOptions:{queries:{staleTime:0}}});function $le(){return fe.jsxs(j5,{client:Jle,children:[fe.jsx(Qle,{initialIsOpen:!0}),fe.jsx(f5,{children:fe.jsx(HF,{children:fe.jsxs(Sc,{element:fe.jsx(Kle,{}),children:[fe.jsx(Sc,{element:fe.jsx(Uee,{}),children:fe.jsx(Sc,{index:!0,element:fe.jsx(r8,{})})}),fe.jsxs(Sc,{element:fe.jsx(Iee,{}),children:[fe.jsx(Sc,{path:"about",element:fe.jsx(Ete,{})}),fe.jsx(Sc,{path:"contact",element:fe.jsx(lne,{})}),fe.jsx(Sc,{path:"projects",element:fe.jsx(dne,{})}),fe.jsx(Sc,{path:"projects/:id",element:fe.jsx(gne,{})}),fe.jsx(Sc,{path:"blog",element:fe.jsx(xne,{})}),fe.jsx(Sc,{path:"blog/:slug",element:fe.jsx(Xle,{})}),fe.jsx(Sc,{path:"*",element:fe.jsx(Wle,{})})]})]})})}),fe.jsx($V,{position:"top-right",reverseOrder:!1})]})}ZB.createRoot(document.getElementById("root")).render(fe.jsx(oe.StrictMode,{children:fe.jsx($le,{})}));
